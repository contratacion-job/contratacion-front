"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[292],{8660:(G,M,a)=>{a.d(M,{d:()=>B});var q=a(6814),m=a(6223),v=a(4170),b=a(4516),s=a(2296),J=a(8525),k=a(7700),O=a(617),Q=a(2596),L=a(2246),o=a(9212),Z=a(3680);function P(p,h){1&p&&(o.TgZ(0,"mat-error"),o._uU(1," El nombre es requerido "),o.qZA())}function R(p,h){1&p&&(o.TgZ(0,"mat-error"),o._uU(1," El c\xf3digo es requerido "),o.qZA())}function f(p,h){1&p&&(o.TgZ(0,"mat-error"),o._uU(1," Los tel\xe9fonos son requeridos "),o.qZA())}function A(p,h){1&p&&(o.TgZ(0,"mat-error"),o._uU(1," El domicilio es requerido "),o.qZA())}function w(p,h){if(1&p&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&p){const e=h.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e.nombre_municipio," ")}}function y(p,h){1&p&&(o.TgZ(0,"mat-error"),o._uU(1," El municipio es requerido "),o.qZA())}function D(p,h){if(1&p&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&p){const e=h.$implicit;o.Q6J("value",e),o.xp6(1),o.hij(" ",e.nombre_ministerio," ")}}function C(p,h){1&p&&(o.TgZ(0,"mat-error"),o._uU(1," El ministerio es requerido "),o.qZA())}function N(p,h){if(1&p){const e=o.EpF();o.TgZ(0,"div",23)(1,"div",24)(2,"h4",25),o._uU(3),o.qZA(),o.TgZ(4,"button",26),o.NdJ("click",function(){const x=o.CHM(e).index,E=o.oxw();return o.KtG(E.removeRepresentante(x))}),o.TgZ(5,"mat-icon"),o._uU(6,"delete"),o.qZA()()(),o.TgZ(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),o._uU(10,"Nombre"),o.qZA(),o._UZ(11,"input",5),o.TgZ(12,"mat-error"),o._uU(13,"El nombre es requerido"),o.qZA()(),o.TgZ(14,"mat-form-field",4)(15,"mat-label"),o._uU(16,"Cargo"),o.qZA(),o._UZ(17,"input",27),o.TgZ(18,"mat-error"),o._uU(19,"El cargo es requerido"),o.qZA()(),o.TgZ(20,"mat-form-field",4)(21,"mat-label"),o._uU(22,"Tel\xe9fono"),o.qZA(),o._UZ(23,"input",28),o.TgZ(24,"mat-error"),o._uU(25,"El tel\xe9fono es requerido"),o.qZA()(),o.TgZ(26,"mat-form-field",4)(27,"mat-label"),o._uU(28,"Email"),o.qZA(),o._UZ(29,"input",29),o.TgZ(30,"mat-error"),o._uU(31,"Ingrese un email v\xe1lido"),o.qZA()()()()}if(2&p){const e=h.index;o.Q6J("formGroupName",e),o.xp6(3),o.hij("Representante ",e+1,"")}}let B=(()=>{class p{get representantesArray(){return this.proveedorForm.get("representantes")}constructor(e,T,u,x){this.fb=e,this.dialog=T,this.dialogRef=u,this.data=x,this.ministerios=L.Cj,this.municipios=L.k0,this.proveedorForm=this.fb.group({nombre:["",[m.kI.required]],codigo:["",[m.kI.required]],telefonos:["",[m.kI.required]],domicilio:["",[m.kI.required]],municipio:[null,[m.kI.required]],ministerio:[null,[m.kI.required]],tipo:["",[m.kI.required]],categoria:[""],representantes:this.fb.array([])})}ngOnInit(){0===this.representantesArray.length&&this.addRepresentante()}createRepresentante(e){return this.fb.group({id:[e?.id||""],nombre:[e?.nombre||"",m.kI.required],cargo:[e?.cargo||"",m.kI.required],telefono:[e?.telefono||"",m.kI.required],email:[e?.email||"",[m.kI.required,m.kI.email]]})}addRepresentante(e){this.representantesArray.push(this.createRepresentante(e))}removeRepresentante(e){this.representantesArray.removeAt(e)}onCancel(){this.dialogRef.close()}onSubmit(){if(this.proveedorForm.valid){const e={...this.proveedorForm.value,id:Math.floor(1e3*Math.random())};this.dialogRef.close(e)}}static#e=this.\u0275fac=function(T){return new(T||p)(o.Y36(m.qu),o.Y36(k.uw),o.Y36(k.so),o.Y36(k.WI))};static#t=this.\u0275cmp=o.Xpm({type:p,selectors:[["app-proveedor-form"]],standalone:!0,features:[o.jDz],decls:53,vars:11,consts:[[1,"flex","flex-col","p-6","md:p-8","gap-4"],[1,"text-3xl","font-bold","mb-4"],[1,"flex","flex-col","gap-4",3,"formGroup","ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline"],["matInput","","formControlName","nombre","required",""],[4,"ngIf"],["matInput","","formControlName","codigo","required",""],["matInput","","formControlName","telefonos","required",""],["matInput","","formControlName","domicilio","required",""],["formControlName","municipio","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","ministerio","required",""],[1,"col-span-full","mt-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-lg","font-medium"],["mat-icon-button","","color","primary","type","button","matTooltip","Agregar representante",3,"click"],["formArrayName","representantes",1,"space-y-4"],["class","p-4 border rounded-lg",3,"formGroupName",4,"ngFor","ngForOf"],[1,"flex","justify-end","gap-2","mt-4"],["type","button","mat-stroked-button","",3,"click"],["type","submit","mat-flat-button","","color","primary",3,"disabled"],[3,"value"],[1,"p-4","border","rounded-lg",3,"formGroupName"],[1,"flex","justify-between","items-center","mb-2"],[1,"text-md","font-medium"],["mat-icon-button","","color","warn","type","button","matTooltip","Eliminar",3,"click"],["matInput","","formControlName","cargo","required",""],["matInput","","formControlName","telefono","required",""],["matInput","","type","email","formControlName","email","required",""]],template:function(T,u){if(1&T&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"Nuevo Proveedor"),o.qZA(),o.TgZ(3,"form",2),o.NdJ("ngSubmit",function(){return u.onSubmit()}),o.TgZ(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),o._uU(7,"Nombre"),o.qZA(),o._UZ(8,"input",5),o.YNc(9,P,2,0,"mat-error",6),o.qZA(),o.TgZ(10,"mat-form-field",4)(11,"mat-label"),o._uU(12,"C\xf3digo"),o.qZA(),o._UZ(13,"input",7),o.YNc(14,R,2,0,"mat-error",6),o.qZA()(),o.TgZ(15,"div",3)(16,"mat-form-field",4)(17,"mat-label"),o._uU(18,"Tel\xe9fonos"),o.qZA(),o._UZ(19,"input",8),o.YNc(20,f,2,0,"mat-error",6),o.qZA(),o.TgZ(21,"mat-form-field",4)(22,"mat-label"),o._uU(23,"Domicilio"),o.qZA(),o._UZ(24,"input",9),o.YNc(25,A,2,0,"mat-error",6),o.qZA()(),o.TgZ(26,"div",3)(27,"mat-form-field",4)(28,"mat-label"),o._uU(29,"Municipio"),o.qZA(),o.TgZ(30,"mat-select",10),o.YNc(31,w,2,2,"mat-option",11),o.qZA(),o.YNc(32,y,2,0,"mat-error",6),o.qZA(),o.TgZ(33,"mat-form-field",4)(34,"mat-label"),o._uU(35,"Ministerio"),o.qZA(),o.TgZ(36,"mat-select",12),o.YNc(37,D,2,2,"mat-option",11),o.qZA(),o.YNc(38,C,2,0,"mat-error",6),o.qZA()(),o.TgZ(39,"div",13)(40,"div",14)(41,"h3",15),o._uU(42,"Representantes"),o.qZA(),o.TgZ(43,"button",16),o.NdJ("click",function(){return u.addRepresentante()}),o.TgZ(44,"mat-icon"),o._uU(45,"add_circle"),o.qZA()()(),o.TgZ(46,"div",17),o.YNc(47,N,32,2,"div",18),o.qZA()(),o.TgZ(48,"div",19)(49,"button",20),o.NdJ("click",function(){return u.onCancel()}),o._uU(50,"Cancelar"),o.qZA(),o.TgZ(51,"button",21),o._uU(52,"Guardar"),o.qZA()()()()),2&T){let x,E,S,I,j,z;o.xp6(3),o.Q6J("formGroup",u.proveedorForm),o.xp6(6),o.Q6J("ngIf",null==(x=u.proveedorForm.get("nombre"))?null:x.hasError("required")),o.xp6(5),o.Q6J("ngIf",null==(E=u.proveedorForm.get("codigo"))?null:E.hasError("required")),o.xp6(6),o.Q6J("ngIf",null==(S=u.proveedorForm.get("telefonos"))?null:S.hasError("required")),o.xp6(5),o.Q6J("ngIf",null==(I=u.proveedorForm.get("domicilio"))?null:I.hasError("required")),o.xp6(6),o.Q6J("ngForOf",u.municipios),o.xp6(1),o.Q6J("ngIf",null==(j=u.proveedorForm.get("municipio"))?null:j.hasError("required")),o.xp6(5),o.Q6J("ngForOf",u.ministerios),o.xp6(1),o.Q6J("ngIf",null==(z=u.proveedorForm.get("ministerio"))?null:z.hasError("required")),o.xp6(9),o.Q6J("ngForOf",u.representantesArray.controls),o.xp6(4),o.Q6J("disabled",!u.proveedorForm.valid)}},dependencies:[q.ez,q.sg,q.O5,m.UX,m._Y,m.Fj,m.JJ,m.JL,m.Q7,m.sg,m.u,m.x0,m.CE,v.lN,v.KE,v.hX,v.TO,b.c,b.Nt,s.ot,s.lW,s.RK,J.LD,J.gD,Z.ey,O.Ps,O.Hw,Q.AV,Q.gM]})}return p})()},7292:(G,M,a)=>{a.r(M),a.d(M,{ProveedoresRoutingModule:()=>Se});var q=a(1896),m=a(3566),v=a(1476),b=a(5313),s=a(6223),J=a(3620),k=a(3997),O=a(9773),Q=a(8645),L=a(9315),o=a(6814),Z=a(2296),P=a(6007),R=a(617),f=a(4170),A=a(4516),w=a(8525),y=a(7988),D=a(6385),C=a(7700),N=a(2596),B=a(8660),p=a(5520),h=a(1388),e=a(9212),T=a(3018),u=a(7174),x=a(2022),E=a(9862);let S=(()=>{class i{constructor(t){this.http=t,this.baseUrl=x.P.REPRESENTANTES}getRepresentantes(){return console.log("Fetching representantes list from backend"),this.http.get(this.baseUrl)}getRepresentanteById(t){return console.log(`Fetching representante with id ${t} from backend`),this.http.get(`${this.baseUrl}/${t}`)}createRepresentante(t){return console.log("Creating representante:",t),this.http.post(this.baseUrl,t)}updateRepresentante(t,r){return console.log(`Updating representante with id ${t}:`,r),this.http.put(`${this.baseUrl}/${t}`,r)}deleteRepresentante(t){return console.log(`Deleting representante with id ${t}`),this.http.delete(`${this.baseUrl}/${t}`)}static#e=this.\u0275fac=function(r){return new(r||i)(e.LFG(E.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var I=a(3680);function j(i,c){1&i&&(e.TgZ(0,"div",26),e._UZ(1,"mat-progress-bar",27),e.qZA()),2&i&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function z(i,c){1&i&&e.GkF(0)}const W=i=>({$implicit:i});function K(i,c){if(1&i&&(e.TgZ(0,"div",41),e.YNc(1,z,1,0,"ng-container",42),e.qZA()),2&i){const t=e.oxw().$implicit;e.oxw(2);const r=e.MAs(39);e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(2,W,t))}}function H(i,c){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",36)(2,"div",31),e._uU(3),e.qZA(),e.TgZ(4,"div",31),e._uU(5),e.qZA(),e.TgZ(6,"div",31),e._uU(7),e.qZA(),e.TgZ(8,"div",31),e._uU(9),e.qZA(),e.TgZ(10,"div",31),e._uU(11),e.qZA(),e.TgZ(12,"div",31),e._uU(13),e.qZA(),e.TgZ(14,"div",31),e._uU(15),e.qZA(),e.TgZ(16,"div",31),e._uU(17),e.qZA(),e.TgZ(18,"div",31),e._uU(19),e.qZA(),e.TgZ(20,"div",37)(21,"button",38),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.toggleDetails(l.id))}),e._UZ(22,"mat-icon",39),e.qZA()()(),e.YNc(23,K,2,4,"div",40),e.BQk()}if(2&i){const t=c.$implicit,r=e.oxw(2);e.xp6(2),e.Q6J("matTooltip",t.nombre),e.xp6(1),e.hij(" ",t.nombre||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",t.codigo),e.xp6(1),e.hij(" ",t.codigo||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",t.estado),e.xp6(1),e.hij(" ",t.estado||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",r.getRepresentantesNames(t)),e.xp6(1),e.hij(" ",r.getRepresentantesNames(t)," "),e.xp6(1),e.Q6J("matTooltip",t.telefonos),e.xp6(1),e.hij(" ",t.telefonos||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",t.prefijo_provincia),e.xp6(1),e.hij(" ",t.prefijo_provincia||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",t.provincia),e.xp6(1),e.hij(" ",t.provincia||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",r.getMunicipioName(t.municipio)),e.xp6(1),e.hij(" ",r.getMunicipioName(t.municipio)," "),e.xp6(1),e.Q6J("matTooltip",r.getMinisterioName(t.ministerio)),e.xp6(1),e.hij(" ",r.getMinisterioName(t.ministerio)," "),e.xp6(3),e.Q6J("svgIcon",(null==r.selectedRow?null:r.selectedRow.id)===t.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),e.xp6(1),e.Q6J("ngIf",(null==r.selectedRow?null:r.selectedRow.id)===t.id)}}function V(i,c){if(1&i&&(e.TgZ(0,"p",55)(1,"span",56),e._uU(2,"Representante:"),e.qZA(),e._uU(3),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(3),e.hij(" ",t.representante," ")}}function X(i,c){1&i&&e.GkF(0)}function ee(i,c){if(1&i&&(e.ynx(0),e.TgZ(1,"div",57),e.YNc(2,X,1,0,"ng-container",42),e.qZA(),e.BQk()),2&i){const t=e.oxw().$implicit;e.oxw(2);const r=e.MAs(39);e.xp6(2),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(2,W,t))}}function te(i,c){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",43)(2,"div",44)(3,"div",45)(4,"div",7)(5,"h3",46),e._uU(6),e.qZA(),e.TgZ(7,"p",47),e._uU(8),e.qZA(),e.YNc(9,V,4,1,"p",48),e.qZA(),e.TgZ(10,"button",49),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.toggleDetails(l.id))}),e._UZ(11,"mat-icon",15),e.qZA()()(),e.TgZ(12,"div",50)(13,"div",51)(14,"div")(15,"label",52),e._uU(16,"Tel\xe9fonos"),e.qZA(),e.TgZ(17,"p",53),e._uU(18),e.qZA()(),e.TgZ(19,"div")(20,"label",52),e._uU(21,"Municipio"),e.qZA(),e.TgZ(22,"p",53),e._uU(23),e.qZA()(),e.TgZ(24,"div")(25,"label",52),e._uU(26,"Ministerio"),e.qZA(),e.TgZ(27,"p",53),e._uU(28),e.qZA()()()(),e.YNc(29,ee,3,4,"ng-container",54),e.qZA(),e.BQk()}if(2&i){const t=c.$implicit,r=e.oxw(2);e.xp6(6),e.hij(" ",t.nombre||"N/A"," "),e.xp6(2),e.hij(" ",t.codigo||"N/A"," "),e.xp6(1),e.Q6J("ngIf",t.representante),e.xp6(2),e.Q6J("svgIcon",(null==r.selectedRow?null:r.selectedRow.id)===t.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),e.xp6(7),e.Oqu(t.telefonos||"N/A"),e.xp6(5),e.Oqu(r.getMunicipioName(t.municipio)),e.xp6(5),e.Oqu(r.getMinisterioName(t.ministerio)),e.xp6(1),e.Q6J("ngIf",(null==r.selectedRow?null:r.selectedRow.id)===t.id)}}const oe=i=>({"pointer-events-none":i}),re=()=>[5,10,25,100];function ie(i,c){if(1&i&&(e.ynx(0),e.TgZ(1,"div",28)(2,"div",29)(3,"div",30)(4,"div",31)(5,"span"),e._uU(6,"Nombre"),e.qZA()(),e.TgZ(7,"div",31)(8,"span"),e._uU(9,"C\xf3digo"),e.qZA()(),e.TgZ(10,"div",31)(11,"span"),e._uU(12,"Estado"),e.qZA()(),e.TgZ(13,"div",31)(14,"span"),e._uU(15,"Representantes"),e.qZA()(),e.TgZ(16,"div",31)(17,"span"),e._uU(18,"Tel\xe9fonos"),e.qZA()(),e.TgZ(19,"div",31)(20,"span"),e._uU(21,"Prefijo Provincia"),e.qZA()(),e.TgZ(22,"div",31)(23,"span"),e._uU(24,"Provincia"),e.qZA()(),e.TgZ(25,"div",31)(26,"span"),e._uU(27,"Municipio"),e.qZA()(),e.TgZ(28,"div",31)(29,"span"),e._uU(30,"Ministerio"),e.qZA()(),e.TgZ(31,"div",32)(32,"span"),e._uU(33,"Detalles"),e.qZA()()(),e.YNc(34,H,24,20,"ng-container",33),e.qZA()(),e.TgZ(35,"div",34),e.YNc(36,te,30,8,"ng-container",33),e.qZA(),e._UZ(37,"mat-paginator",35),e.BQk()),2&i){const t=e.oxw();e.xp6(4),e.Q6J("matTooltip","Nombre completo"),e.xp6(3),e.Q6J("matTooltip","C\xf3digo completo"),e.xp6(3),e.Q6J("matTooltip","Estado completo"),e.xp6(3),e.Q6J("matTooltip","Representantes completos"),e.xp6(3),e.Q6J("matTooltip","Tel\xe9fonos completos"),e.xp6(3),e.Q6J("matTooltip","Prefijo Provincia completo"),e.xp6(3),e.Q6J("matTooltip","Provincia completa"),e.xp6(3),e.Q6J("matTooltip","Municipio completo"),e.xp6(3),e.Q6J("matTooltip","Ministerio completo"),e.xp6(6),e.Q6J("ngForOf",t.dataSource.data)("ngForTrackBy",t.trackByFn),e.xp6(2),e.Q6J("ngForOf",t.dataSource.data)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",e.VKq(19,oe,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(21,re))("showFirstLastButtons",!0)}}function ne(i,c){if(1&i&&(e.TgZ(0,"mat-option",76),e._uU(1),e.qZA()),2&i){const t=c.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.nombre_municipio," ")}}function ae(i,c){if(1&i&&(e.TgZ(0,"mat-option",76),e._uU(1),e.qZA()),2&i){const t=c.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.nombre_ministerio," ")}}function se(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"div",59)(2,"form",60)(3,"div",61)(4,"div",62)(5,"div",63)(6,"mat-form-field",64)(7,"mat-label"),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",65),e.qZA(),e.TgZ(10,"mat-form-field",64)(11,"mat-label"),e._uU(12,"C\xf3digo"),e.qZA(),e._UZ(13,"input",66),e.qZA(),e.TgZ(14,"mat-form-field",64)(15,"mat-label"),e._uU(16,"Tel\xe9fonos"),e.qZA(),e._UZ(17,"input",67),e.qZA(),e.TgZ(18,"mat-form-field",64)(19,"mat-label"),e._uU(20,"Representante"),e.qZA(),e._UZ(21,"input",68),e.qZA()(),e.TgZ(22,"div",63)(23,"mat-form-field",64)(24,"mat-label"),e._uU(25,"Municipio"),e.qZA(),e.TgZ(26,"mat-select",69),e.YNc(27,ne,2,2,"mat-option",70),e.qZA()()(),e.TgZ(28,"div",63)(29,"mat-form-field",64)(30,"mat-label"),e._uU(31,"Ministerio"),e.qZA(),e.TgZ(32,"mat-select",71),e.YNc(33,ae,2,2,"mat-option",70),e.qZA()()()()(),e.TgZ(34,"div",72),e._UZ(35,"div",73),e.TgZ(36,"div",74)(37,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateSelectedRecord())}),e._uU(38," Actualizar "),e.qZA(),e.TgZ(39,"button",75),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedRecord())}),e._uU(40," Eliminar "),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.selectedRowForm),e.xp6(25),e.Q6J("ngForOf",t.mockMunicipio),e.xp6(6),e.Q6J("ngForOf",t.mockMinisterio),e.xp6(4),e.Q6J("color","primary"),e.xp6(2),e.Q6J("color","warn")}}function le(i,c){1&i&&(e.TgZ(0,"div",77),e._uU(1,"\xa1No hay proveedores!"),e.qZA())}let de=(()=>{class i{getRepresentantesNames(t){return t.representantes&&Array.isArray(t.representantes)?t.representantes.map(r=>`${r.nombre} ${r.apellido}`).join(", "):"Sin representantes"}constructor(t,r,n,l,d){this.dialog=t,this.proveedorService=r,this.CatalogService=n,this.representanteService=l,this.cdr=d,this.data=[],this.ministerios=[],this.municipios=[],this.mockMinisterio=[],this.mockMunicipio=[],this.columns=[{key:"nombre",label:"Nombre",editable:!0},{key:"codigo",label:"C\xf3digo",editable:!0},{key:"estado",label:"Estado",editable:!1},{key:"representantes",label:"Representantes",editable:!1},{key:"telefonos",label:"Tel\xe9fonos",editable:!0},{key:"prefijo_provincia",label:"Prefijo Provincia",editable:!1},{key:"provincia",label:"Provincia",editable:!1},{key:"municipio",label:"Municipio",nestedKey:"nombre_municipio",editable:!1,selectOptions:[]},{key:"ministerio",label:"Ministerio",nestedKey:"nombre_ministerio",editable:!1,selectOptions:[]},{key:"createdAt",label:"Creado",editable:!1},{key:"updatedAt",label:"Actualizado",editable:!1}],this.title="Proveedores",this.addButtonText="Agregar Proveedor",this.displayedColumns=[],this.searchInputControl=new s.NI(""),this.selectedRow=null,this.isLoading=!1,this.pagination={length:0,page:0,size:10},this._unsubscribeAll=new Q.x,this.proveedoresConRepresentantes=[],this.dataSource=new b.by([]),this.selectedRowForm=new s.cw({})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.cdr.detectChanges()}ngOnInit(){this.displayedColumns=this.columns.map(t=>t.key).concat("details"),(0,L.D)({ministerios:this.CatalogService.getMinisterios(),municipios:this.CatalogService.getMunicipios()}).subscribe({next:t=>{this.ministerios=t.ministerios?.data||[],this.columns.find(n=>"ministerio"===n.key).selectOptions=this.ministerios,this.mockMinisterio=this.ministerios;let r=[];if(t.municipios?.data){let n=1;for(const[l,d]of Object.entries(t.municipios.data))Array.isArray(d)&&d.forEach(_=>{r.push({id:n++,provincia_id:Number(l),nombre_municipio:_})})}this.municipios=r,this.columns.find(n=>"municipio"===n.key).selectOptions=this.municipios,this.mockMunicipio=this.municipios,this.loadProveedores(),this.cdr.markForCheck()},error:t=>{console.error("Error loading catalogs:",t),this.loadProveedores()}}),this.proveedorService.getDashboardproveedor(),this.searchInputControl.valueChanges.pipe((0,J.b)(300),(0,k.x)(),(0,O.R)(this._unsubscribeAll)).subscribe(t=>{this.closeDetails(),this.dataSource.filter=t?.trim().toLowerCase()||"",this.cdr.detectChanges(),this.dataSource._updateChangeSubscription()}),this.dataSource.filterPredicate=(t,r)=>[t.nombre||"",t.codigo||"",t.representante||"",t.telefonos||"",t.domicilio||"",this.getMunicipioName(t.municipio),this.getMinisterioName(t.ministerio)].join(" ").toLowerCase().includes(r)}getMunicipioName(t){return t?"string"==typeof t?t:t.nombre_municipio||"N/A":"N/A"}getMinisterioName(t){if(!t)return"N/A";if("string"==typeof t){const r=this.ministerios.find(n=>n.sigla===t||n.nombre===t);return r?r.nombre:t}return t.nombre||"N/A"}closeDetails(){this.selectedRow=null,this.cdr.detectChanges()}loadProveedores(){this.isLoading=!0,this.proveedorService.getProveedores().subscribe({next:t=>{console.log("Proveedores received from service:",t),this.data=t,this.dataSource.data=this.data,this.pagination.length=this.data.length,this.sort&&(this.dataSource.sort=this.sort),this.paginator&&(this.dataSource.paginator=this.paginator),this.dataSource._updateChangeSubscription(),this.isLoading=!1,this.cdr.markForCheck()},error:t=>{console.error("Error loading proveedores:",t),this.isLoading=!1,this.cdr.markForCheck()}})}trackByFn(t,r){return r.id}getNestedValue(t,r,n){return n&&t[r]?t[r][n]:t[r]||""}toggleDetails(t){this.selectedRow=this.selectedRow?.id===t?null:this.data.find(r=>r.id===t),this.selectedRowForm=new s.cw({nombre:new s.NI(this.selectedRow?.nombre),codigo:new s.NI(this.selectedRow?.codigo),telefonos:new s.NI(this.selectedRow?.telefonos),domicilio:new s.NI(this.selectedRow?.domicilio),municipio:new s.NI(this.selectedRow?.municipio),ministerio:new s.NI(this.selectedRow?.ministerio),representante:new s.NI(this.selectedRow?.representante)}),this.cdr.markForCheck()}createRecord(){this.addNewProveedor()}addNewProveedor(){const t=window.innerWidth<=768;this.dialog.open(B.d,{width:t?"90vw":"750px",maxWidth:t?"100vw":"90vw",height:t?"100vh":"90vh",maxHeight:"100vh",panelClass:"full-screen-dialog",disableClose:!1,autoFocus:!1,hasBackdrop:!t,position:t?{top:"0"}:{}}).afterClosed().subscribe(n=>{n&&this.proveedorService.createProveedor(n).subscribe({next:l=>{this.loadProveedores()},error:l=>{console.error("Error creating proveedor:",l)}})})}updateSelectedRecord(){if(this.selectedRow){const t={...this.selectedRow,...this.selectedRowForm.value};this.proveedorService.updateProveedor(this.selectedRow.id,t).subscribe({next:()=>{this.loadProveedores(),this.selectedRow=null},error:r=>{console.error("Error updating proveedor:",r)}})}}deleteSelectedRecord(){this.selectedRow&&this.proveedorService.deleteProveedor(this.selectedRow.id).subscribe({next:()=>{this.loadProveedores(),this.selectedRow=null},error:t=>{console.error("Error deleting proveedor:",t)}})}exportToCSV(){if(!this.dataSource.filteredData||0===this.dataSource.filteredData.length)return;const t=[];t.push(["Nombre","C\xf3digo","Estado","Representantes","Tel\xe9fonos","Prefijo Provincia","Provincia","Municipio","Ministerio","Creado","Actualizado"].join(",")),this.dataSource.filteredData.forEach(g=>{const Y=[g.nombre||"",g.codigo||"",g.estado||"",this.getRepresentantesNames(g),g.telefonos||"",g.prefijo_provincia||"",g.provincia||"",g.municipio||"",g.ministerio||"",g.createdAt||"",g.updatedAt||""].map(U=>"string"==typeof U&&(U.includes(",")||U.includes('"'))?`"${U.replace(/"/g,'""')}"`:U);t.push(Y.join(","))});const n=t.join("\n"),l=new Blob([n],{type:"text/csv;charset=utf-8;"}),d=window.URL.createObjectURL(l),_=document.createElement("a");_.href=d,_.download="proveedores_export.csv",_.click(),window.URL.revokeObjectURL(d)}exportToPDF(){try{if(!this.dataSource.filteredData||0===this.dataSource.filteredData.length)return console.warn("No hay datos para exportar"),void alert("No hay datos para exportar");console.log("Iniciando exportaci\xf3n PDF...");const t=new h.ZP({orientation:"landscape",unit:"mm",format:"a4"});t.setFontSize(16),t.setTextColor(40,40,40),t.text("Reporte de Proveedores",14,20),t.setFontSize(10),t.setTextColor(100,100,100),t.text(`Fecha de generaci\xf3n: ${(new Date).toLocaleDateString("es-ES")}`,14,30),t.text(`Total de proveedores: ${this.dataSource.filteredData.length}`,14,35);const r=["Nombre","C\xf3digo","Tel\xe9fonos","Domicilio","Municipio","Ministerio"],n=this.dataSource.filteredData.map(d=>[this.truncateText(d.nombre||"",25),d.codigo||"",this.truncateText(d.telefonos||"",20),this.truncateText(d.domicilio||"",30),this.truncateText("string"==typeof d.municipio?d.municipio:d.municipio?.nombre_municipio||"",20),this.truncateText("string"==typeof d.ministerio?d.ministerio:d.ministerio?.nombre_ministerio||"",25)]);console.log("Datos preparados para la tabla:",n.length,"filas"),(0,p.ZP)(t,{head:[r],body:n,startY:45,theme:"striped",styles:{fontSize:8,cellPadding:3,overflow:"linebreak",halign:"left"},headStyles:{fillColor:[41,128,185],textColor:[255,255,255],fontStyle:"bold",fontSize:9},columnStyles:{0:{cellWidth:50},1:{cellWidth:25},2:{cellWidth:35},3:{cellWidth:60},4:{cellWidth:35},5:{cellWidth:50}},alternateRowStyles:{fillColor:[245,245,245]},margin:{top:45,left:14,right:14,bottom:20},didDrawPage:d=>{const _=t.getNumberOfPages(),g=t.internal.pageSize,F=g.height||g.getHeight();t.setFontSize(8),t.setTextColor(100,100,100),t.text(`P\xe1gina ${d.pageNumber} de ${_}`,14,F-10);const Y="Sistema de Gesti\xf3n de Proveedores",U=t.getTextWidth(Y),Ie=g.width||g.getWidth();t.text(Y,Ie-14-U,F-10)}}),console.log("Tabla generada, guardando PDF...");const l=`proveedores_export_${(new Date).toISOString().split("T")[0]}.pdf`;t.save(l),console.log("PDF guardado exitosamente")}catch(t){console.error("Error al exportar PDF:",t),alert("Error al generar el PDF. Por favor, intente nuevamente.")}}truncateText(t,r){return t?t.length<=r?t:t.substring(0,r-3)+"...":""}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(C.uw),e.Y36(T.z),e.Y36(u.a),e.Y36(S),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-proveedor-list"]],viewQuery:function(r,n){if(1&r&&(e.Gf(m.YE,5),e.Gf(v.NW,5)),2&r){let l;e.iGM(l=e.CRH())&&(n.sort=l.first),e.iGM(l=e.CRH())&&(n.paginator=l.first)}},standalone:!0,features:[e.jDz],decls:42,vars:14,consts:[[1,"flex","flex-col","min-h-screen","p-6","w-full"],[1,"relative","flex","flex-col","flex-auto","p-6","pr-3","pb-3","bg-card","rounded-2xl","shadow","overflow-hidden","mb-6","w-full"],[1,"absolute","bottom-0","right-0","w-24","h-24","-m-6"],[1,"icon-size-24","opacity-25","text-green-500","dark:text-green-400",3,"svgIcon"],[1,"flex","flex-col","flex-auto","min-w-0","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex","flex-col","sm:flex-row","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4","mt-4","sm:mt-0","w-50","text-lg",3,"color","click"],[3,"svgIcon"],[1,"ml-2","hidden","sm:inline"],[1,"ml-2","sm:hidden"],["mat-icon-button","","matTooltip","Exportar tabla","aria-label","Exportar tabla",1,"ml-4","mt-4","sm:mt-0",3,"matMenuTriggerFor","color"],["exportMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden"],[4,"ngIf","ngIfElse"],["rowDetailsTemplate",""],["noProveedores",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"hidden","lg:block","w-full","overflow-x-auto"],[1,"w-full","min-w-max"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],["matTooltipPosition","above",1,"truncate",3,"matTooltip"],[1,"sticky","right-0","bg-gray-50","dark:bg-black","dark:bg-opacity-5","z-20","flex","items-center","justify-center"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"lg:hidden"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"inventory-grid","grid","items-center","gap-4","py-3","px-6","md:px-8","border-b"],[1,"sticky","right-0","bg-gray-50","dark:bg-black","dark:bg-opacity-90","z-30","flex","items-center","justify-center"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[1,"icon-size-5",3,"svgIcon"],["class","grid",4,"ngIf"],[1,"grid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"bg-white","dark:bg-gray-800","border","border-gray-200","dark:border-gray-700","rounded-lg","mb-4","mx-4","shadow-sm"],[1,"p-4","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-500","dark:text-gray-400"],["class","text-sm text-gray-700 dark:text-gray-300 mt-1",4,"ngIf"],["mat-icon-button","",1,"ml-4","flex-shrink-0",3,"click"],[1,"p-4","space-y-3"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],[1,"text-xs","font-medium","text-gray-500","dark:text-gray-400","uppercase","tracking-wide"],[1,"mt-1","text-sm","text-gray-900","dark:text-white"],[4,"ngIf"],[1,"text-sm","text-gray-700","dark:text-gray-300","mt-1"],[1,"font-medium"],[1,"border-t","border-gray-200","dark:border-gray-700"],[1,"shadow-lg","overflow-hidden","bg-white","dark:bg-gray-800"],[1,"flex","border-b"],[1,"responsive-form","flex","flex-col","w-full","max-w-full","mx-auto","box-border",2,"width","100%","max-width","500px","padding","0 16px","box-sizing","border-box",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","p-8"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-1/3","sm:pl-8"],[1,"w-full"],["matInput","","formControlName","nombre"],["matInput","","formControlName","codigo"],["matInput","","formControlName","telefonos"],["matInput","","formControlName","representante"],["formControlName","municipio"],[3,"value",4,"ngFor","ngForOf"],["formControlName","ministerio"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","border-t","px-4","sm:px-8","py-4"],[1,"hidden","lg:block","flex-1"],[1,"flex","flex-col","sm:flex-row","items-center","gap-3","w-full","sm:w-auto","lg:w-auto"],["mat-stroked-button","",1,"w-full","sm:w-auto","lg:w-auto","px-6",3,"color","click"],[3,"value"],[1,"p-8","sm:p-16","border-b","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"mat-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,j,2,1,"div",6),e.TgZ(7,"div",7)(8,"div",8)(9,"h2",9),e._uU(10," Proveedores "),e.qZA()()(),e.TgZ(11,"div",10)(12,"mat-form-field",11),e._UZ(13,"mat-icon",12)(14,"input",13),e.qZA(),e.TgZ(15,"button",14),e.NdJ("click",function(){return n.addNewProveedor()}),e._UZ(16,"mat-icon",15),e.TgZ(17,"span",16),e._uU(18,"Agregar Proveedor"),e.qZA(),e.TgZ(19,"span",17),e._uU(20,"Agregar"),e.qZA()(),e.TgZ(21,"button",18),e._UZ(22,"mat-icon",15),e.qZA(),e.TgZ(23,"mat-menu",null,19)(25,"button",20),e.NdJ("click",function(){return n.exportToCSV()}),e.TgZ(26,"mat-icon"),e._uU(27,"description"),e.qZA(),e.TgZ(28,"span"),e._uU(29,"Exportar a CSV"),e.qZA()(),e.TgZ(30,"button",20),e.NdJ("click",function(){return n.exportToPDF()}),e.TgZ(31,"mat-icon"),e._uU(32,"picture_as_pdf"),e.qZA(),e.TgZ(33,"span"),e._uU(34,"Exportar a PDF"),e.qZA()()()()(),e.TgZ(35,"div",21)(36,"div",22),e.YNc(37,ie,38,22,"ng-container",23)(38,se,41,5,"ng-template",null,24,e.W1O)(40,le,2,0,"ng-template",null,25,e.W1O),e.qZA()()()()()),2&r){const l=e.MAs(24),d=e.MAs(41);e.xp6(3),e.Q6J("svgIcon","heroicons_outline:check-circle"),e.xp6(3),e.Q6J("ngIf",n.isLoading),e.xp6(6),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:magnifying-glass"),e.xp6(1),e.Q6J("formControl",n.searchInputControl)("autocomplete","off")("placeholder","Buscar proveedores"),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("matMenuTriggerFor",l)("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:arrow-up-tray"),e.xp6(15),e.Q6J("ngIf",(null==n.dataSource||null==n.dataSource.data?null:n.dataSource.data.length)>0)("ngIfElse",d)}},dependencies:[o.ez,o.mk,o.sg,o.O5,o.tP,Z.ot,Z.lW,Z.RK,P.Cv,P.pW,m.JX,m.YE,b.p0,R.Ps,R.Hw,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.oH,s.sg,s.u,v.TU,v.NW,f.lN,f.KE,f.hX,f.qo,A.c,A.Nt,w.LD,w.gD,I.ey,y.Tx,y.VK,y.OP,y.p6,N.AV,N.gM,D.t,C.Is],styles:[".inventory-grid{display:grid;grid-template-columns:1fr 120px 120px 150px 180px 180px 180px 180px 180px 180px 180px 180px 80px;gap:1rem;width:100%;box-sizing:border-box}.inventory-grid.z-3{position:sticky;top:0;background:white;z-index:20;box-shadow:0 2px 5px -2px #0000001a;overflow:visible}.dark .inventory-grid.z-3{background:#1E293B}.inventory-grid>div:last-child{position:sticky;right:0;background:white;z-index:10;box-shadow:-2px 0 5px -2px #0000001a}.dark .inventory-grid>div:last-child{background:#1E293B}.sticky-end{position:sticky;right:0;background:white;z-index:11;box-shadow:-2px 0 5px -2px #0000001a}.dark .sticky-end{background:#1E293B}.dark .inventory-grid>div{color:#e0e0e0}.dark .sticky-end .mat-stroked-button{background:#1E293B!important;color:#fff!important;border-color:#1e293b!important}.dark .sticky-end .mat-stroked-button .mat-icon{color:#fff!important}.inventory-grid>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host{display:block;width:100%;overflow-x:auto}@media (max-width: 768px){.inventory-grid{grid-template-columns:25px 70px 110px 90px 90px 80px 80px 80px 80px 80px 35px}}\n"],encapsulation:2,changeDetection:0})}return i})();var $=a(2939),ce=a(5986);function me(i,c){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"El nombre es obligatorio"),e.qZA())}function pe(i,c){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Los apellidos son obligatorios"),e.qZA())}function ue(i,c){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"El email es obligatorio"),e.qZA())}function ge(i,c){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Email inv\xe1lido"),e.qZA())}function fe(i,c){if(1&i&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&i){const t=c.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.nombre_entidad," ")}}function he(i,c){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"La entidad es obligatoria"),e.qZA())}let _e=(()=>{class i{constructor(t,r,n,l){this.fb=t,this.representanteService=r,this.dialogRef=n,this.data=l,this.entidades=[]}ngOnInit(){this.form=this.fb.group({nombre:["",s.kI.required],apellidos:["",s.kI.required],telefono:[""],email:["",[s.kI.required,s.kI.email]],cargo:[""],entidad:[null,s.kI.required]}),this.loadEntidades(),this.data&&this.form.patchValue(this.data)}loadEntidades(){this.entidades=[]}save(){if(this.form.valid){const t=this.form.value;this.data&&this.data.id?this.representanteService.updateRepresentante(this.data.id,t).subscribe({next:()=>{this.dialogRef.close("saved")},error:r=>{console.error("Error updating representante",r)}}):this.representanteService.createRepresentante(t).subscribe({next:()=>{this.dialogRef.close("saved")},error:r=>{console.error("Error creating representante",r)}})}}cancel(){this.dialogRef.close()}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(s.qu),e.Y36(S),e.Y36(C.so),e.Y36(C.WI))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-representante-form"]],standalone:!0,features:[e.jDz],decls:36,vars:8,consts:[[3,"formGroup","ngSubmit"],["appearance","fill",1,"w-full"],["matInput","","formControlName","nombre","required",""],[4,"ngIf"],["matInput","","formControlName","apellidos","required",""],["matInput","","formControlName","telefono"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","cargo"],["formControlName","entidad","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"flex","justify-end","space-x-4","mt-4"],["mat-stroked-button","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],[3,"value"]],template:function(r,n){if(1&r&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return n.save()}),e.TgZ(1,"mat-form-field",1)(2,"mat-label"),e._uU(3,"Nombre"),e.qZA(),e._UZ(4,"input",2),e.YNc(5,me,2,0,"mat-error",3),e.qZA(),e.TgZ(6,"mat-form-field",1)(7,"mat-label"),e._uU(8,"Apellidos"),e.qZA(),e._UZ(9,"input",4),e.YNc(10,pe,2,0,"mat-error",3),e.qZA(),e.TgZ(11,"mat-form-field",1)(12,"mat-label"),e._uU(13,"Tel\xe9fono"),e.qZA(),e._UZ(14,"input",5),e.qZA(),e.TgZ(15,"mat-form-field",1)(16,"mat-label"),e._uU(17,"Email"),e.qZA(),e._UZ(18,"input",6),e.YNc(19,ue,2,0,"mat-error",3)(20,ge,2,0,"mat-error",3),e.qZA(),e.TgZ(21,"mat-form-field",1)(22,"mat-label"),e._uU(23,"Cargo"),e.qZA(),e._UZ(24,"input",7),e.qZA(),e.TgZ(25,"mat-form-field",1)(26,"mat-label"),e._uU(27,"Entidad"),e.qZA(),e.TgZ(28,"mat-select",8),e.YNc(29,fe,2,2,"mat-option",9),e.qZA(),e.YNc(30,he,2,0,"mat-error",3),e.qZA(),e.TgZ(31,"div",10)(32,"button",11),e.NdJ("click",function(){return n.cancel()}),e._uU(33,"Cancelar"),e.qZA(),e.TgZ(34,"button",12),e._uU(35,"Guardar"),e.qZA()()()),2&r){let l,d,_,g,F;e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("ngIf",null==(l=n.form.get("nombre"))?null:l.hasError("required")),e.xp6(5),e.Q6J("ngIf",null==(d=n.form.get("apellidos"))?null:d.hasError("required")),e.xp6(9),e.Q6J("ngIf",null==(_=n.form.get("email"))?null:_.hasError("required")),e.xp6(1),e.Q6J("ngIf",null==(g=n.form.get("email"))?null:g.hasError("email")),e.xp6(9),e.Q6J("ngForOf",n.entidades),e.xp6(1),e.Q6J("ngIf",null==(F=n.form.get("entidad"))?null:F.hasError("required")),e.xp6(4),e.Q6J("disabled",n.form.invalid)}},dependencies:[o.ez,o.sg,o.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,f.lN,f.KE,f.hX,f.TO,A.c,A.Nt,Z.ot,Z.lW,w.LD,w.gD,I.ey]})}return i})();var xe=a(5170),ve=a(6819);const be=["sort"],Ze=["paginator"];function Te(i,c){1&i&&(e.TgZ(0,"div",23),e._UZ(1,"mat-progress-bar",24),e.qZA()),2&i&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function Ae(i,c){1&i&&e.GkF(0)}const we=i=>({$implicit:i});function Ce(i,c){if(1&i&&(e.ynx(0),e.YNc(1,Ae,1,0,"ng-container",41),e.BQk()),2&i){const t=e.oxw().$implicit;e.oxw(2);const r=e.MAs(25);e.xp6(1),e.Q6J("ngTemplateOutlet",r)("ngTemplateOutletContext",e.VKq(2,we,t))}}function ye(i,c){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",33)(2,"div",34),e._uU(3),e.qZA(),e.TgZ(4,"div",34),e._uU(5),e.qZA(),e.TgZ(6,"div",34),e._uU(7),e.qZA(),e.TgZ(8,"div",34),e._uU(9),e.qZA(),e.TgZ(10,"div",34),e._uU(11),e.qZA(),e.TgZ(12,"div",34),e._uU(13),e.qZA(),e.TgZ(14,"div",34)(15,"span",35),e._uU(16),e.qZA()(),e.TgZ(17,"div",34),e._uU(18),e.qZA(),e.TgZ(19,"div",34),e._uU(20),e.qZA(),e.TgZ(21,"div",36)(22,"button",37),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.toggleDetails(l.id))}),e._UZ(23,"mat-icon",38),e.qZA()()(),e.TgZ(24,"div",39),e.YNc(25,Ce,2,4,"ng-container",40),e.qZA(),e.BQk()}if(2&i){const t=c.$implicit,r=e.oxw(2);e.xp6(2),e.Q6J("matTooltip",null==t.Proveedor?null:t.Proveedor.nombre),e.xp6(1),e.hij(" ",(null==t.Proveedor?null:t.Proveedor.nombre)||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",null==t.Proveedor?null:t.Proveedor.codigo),e.xp6(1),e.hij(" ",(null==t.Proveedor?null:t.Proveedor.codigo)||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",t.nombre+" "+t.apellido),e.xp6(1),e.AsE(" ",t.nombre," ",t.apellido," "),e.xp6(1),e.Q6J("matTooltip",t.cargo),e.xp6(1),e.hij(" ",t.cargo||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",t.telefono),e.xp6(1),e.hij(" ",t.telefono||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",t.email),e.xp6(1),e.hij(" ",t.email||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",t.estado),e.xp6(1),e.Q6J("ngClass","activo"===t.estado?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),e.xp6(1),e.hij(" ",t.estado||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",null==t.Proveedor?null:t.Proveedor.tipo_empresa),e.xp6(1),e.hij(" ",(null==t.Proveedor?null:t.Proveedor.tipo_empresa)||"N/A"," "),e.xp6(1),e.Q6J("matTooltip",null==t.Proveedor?null:t.Proveedor.ministerio),e.xp6(1),e.hij(" ",(null==t.Proveedor?null:t.Proveedor.ministerio)||"N/A"," "),e.xp6(3),e.Q6J("svgIcon",(null==r.selectedRow?null:r.selectedRow.id)===t.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),e.xp6(2),e.Q6J("ngIf",(null==r.selectedRow?null:r.selectedRow.id)===t.id)}}function Ue(i,c){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",42)(2,"div",43)(3,"div",44)(4,"div",7)(5,"h3",45),e._uU(6),e.qZA(),e.TgZ(7,"p",46),e._uU(8),e.qZA()(),e.TgZ(9,"button",47),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.toggleDetails(l.id))}),e._UZ(10,"mat-icon",15),e.qZA()()(),e.TgZ(11,"div",48)(12,"div",49)(13,"div")(14,"label",50),e._uU(15,"Cargo"),e.qZA(),e.TgZ(16,"p",51),e._uU(17),e.qZA()(),e.TgZ(18,"div")(19,"label",50),e._uU(20,"Tel\xe9fono"),e.qZA(),e.TgZ(21,"p",51),e._uU(22),e.qZA()(),e.TgZ(23,"div")(24,"label",50),e._uU(25,"Email"),e.qZA(),e.TgZ(26,"p",51),e._uU(27),e.qZA()(),e.TgZ(28,"div")(29,"label",50),e._uU(30,"Estado"),e.qZA(),e.TgZ(31,"p",51)(32,"span",35),e._uU(33),e.qZA()()(),e.TgZ(34,"div")(35,"label",50),e._uU(36,"Tipo Empresa"),e.qZA(),e.TgZ(37,"p",51),e._uU(38),e.qZA()(),e.TgZ(39,"div")(40,"label",50),e._uU(41,"Ministerio"),e.qZA(),e.TgZ(42,"p",51),e._uU(43),e.qZA()()()()(),e.BQk()}if(2&i){const t=c.$implicit,r=e.oxw(2);e.xp6(6),e.hij(" ",(null==t.Proveedor?null:t.Proveedor.nombre)||"N/A"," "),e.xp6(2),e.lnq(" ",(null==t.Proveedor?null:t.Proveedor.codigo)||"N/A"," - ",t.nombre," ",t.apellido," "),e.xp6(2),e.Q6J("svgIcon",(null==r.selectedRow?null:r.selectedRow.id)===t.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),e.xp6(7),e.Oqu(t.cargo||"N/A"),e.xp6(5),e.Oqu(t.telefono||"N/A"),e.xp6(5),e.Oqu(t.email||"N/A"),e.xp6(5),e.Q6J("ngClass","activo"===t.estado?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),e.xp6(1),e.hij(" ",t.estado||"N/A"," "),e.xp6(5),e.Oqu((null==t.Proveedor?null:t.Proveedor.tipo_empresa)||"N/A"),e.xp6(5),e.Oqu((null==t.Proveedor?null:t.Proveedor.ministerio)||"N/A")}}const qe=i=>({"pointer-events-none":i}),ke=()=>[5,10,25,100];function Pe(i,c){if(1&i&&(e.ynx(0),e.TgZ(1,"div",25)(2,"div",26)(3,"div",27,28)(5,"div"),e._uU(6,"Nombre Proveedor"),e.qZA(),e.TgZ(7,"div"),e._uU(8,"C\xf3digo"),e.qZA(),e.TgZ(9,"div"),e._uU(10,"Representante"),e.qZA(),e.TgZ(11,"div"),e._uU(12,"Cargo"),e.qZA(),e.TgZ(13,"div"),e._uU(14,"Tel\xe9fono"),e.qZA(),e.TgZ(15,"div"),e._uU(16,"Email"),e.qZA(),e.TgZ(17,"div"),e._uU(18,"Estado"),e.qZA(),e.TgZ(19,"div"),e._uU(20,"Tipo Empresa"),e.qZA(),e.TgZ(21,"div"),e._uU(22,"Ministerio"),e.qZA(),e.TgZ(23,"div"),e._uU(24,"Detalles"),e.qZA()(),e.YNc(25,ye,26,22,"ng-container",29),e.qZA()(),e.TgZ(26,"div",30),e.YNc(27,Ue,44,12,"ng-container",29),e.qZA(),e._UZ(28,"mat-paginator",31,32),e.BQk()),2&i){const t=e.oxw();e.xp6(25),e.Q6J("ngForOf",t.dataSource.data)("ngForTrackBy",t.trackByFn),e.xp6(2),e.Q6J("ngForOf",t.dataSource.data)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",e.VKq(10,qe,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(12,ke))("showFirstLastButtons",!0)}}function Re(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",52)(1,"div",53)(2,"form",54)(3,"div",55)(4,"div",56)(5,"div",57)(6,"mat-form-field",26)(7,"mat-label"),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",58),e.qZA(),e.TgZ(10,"mat-form-field",26)(11,"mat-label"),e._uU(12,"Apellido"),e.qZA(),e._UZ(13,"input",59),e.qZA(),e.TgZ(14,"mat-form-field",26)(15,"mat-label"),e._uU(16,"Tel\xe9fono"),e.qZA(),e._UZ(17,"input",60),e.qZA()(),e.TgZ(18,"div",57)(19,"mat-form-field",26)(20,"mat-label"),e._uU(21,"Email"),e.qZA(),e._UZ(22,"input",61),e.qZA(),e.TgZ(23,"mat-form-field",26)(24,"mat-label"),e._uU(25,"Cargo"),e.qZA(),e._UZ(26,"input",62),e.qZA()(),e.TgZ(27,"div",57)(28,"mat-form-field",26)(29,"mat-label"),e._uU(30,"Estado"),e.qZA(),e.TgZ(31,"mat-select",63)(32,"mat-option",64),e._uU(33,"Activo"),e.qZA(),e.TgZ(34,"mat-option",65),e._uU(35,"Inactivo"),e.qZA()()()()()(),e.TgZ(36,"div",66),e._UZ(37,"div",67),e.TgZ(38,"div",68)(39,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateSelectedRecord())}),e._uU(40," Actualizar "),e.qZA(),e.TgZ(41,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.deleteSelectedRecord())}),e._uU(42," Eliminar "),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.selectedRowForm),e.xp6(37),e.Q6J("color","primary"),e.xp6(2),e.Q6J("color","warn")}}function Ne(i,c){1&i&&(e.TgZ(0,"div",70),e._uU(1,"\xa1No hay representantes!"),e.qZA())}const Ee=[{path:"lista",component:de},{path:"representantes",component:(()=>{class i{constructor(t,r,n,l,d,_){this.representanteService=t,this.contratoService=r,this.suplementoService=n,this.dialog=l,this.snackBar=d,this.fb=_,this.dataSource=new b.by,this.suplementosDataSource=new b.by,this.displayedColumns=["select","nombre","apellido","cargo","telefono","email","activo","acciones"],this.displayedSuplementosColumns=["no_suplemento","fecha_firmado","valor_cup","valor_usd","estado","acciones"],this.selection=new Set,this.suplementoSelection=new Set,this.isLoading=!1,this.isSuplementosLoading=!1,this.contratos=[],this.suplementos=[],this.showSuplementos=!1,this.selectedContratoId=null,this.searchControl=new s.NI(""),this.pagination={length:0,page:0,size:10},this.selectedRow=null,this.dataSource=new b.by([]),this.suplementosDataSource=new b.by([]),this.selectedRowForm=this.fb.group({nombre:[""],apellido:[""],telefono:[""],email:[""],cargo:[""],estado:[""]})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnInit(){this.loadRepresentantes(),this.loadSuplementos(),this.setupFilter(),this.dataSource.filterPredicate=(t,r)=>[t.Proveedor?.nombre||"",t.Proveedor?.codigo||"",t.nombre||"",t.apellido||"",t.cargo||"",t.telefono||"",t.email||"",t.estado||"",t.Proveedor?.tipo_empresa||"",t.numero_documento||""].join(" ").toLowerCase().includes(r)}loadRepresentantes(){this.isLoading=!0,this.representanteService.getRepresentantes().subscribe({next:t=>{console.log("Representantes cargados:",t),console.log("=== DEBUG: Datos recibidos ==="),console.log("Total representantes:",t.length),console.log("Primer representante:",t[0]),console.log("Estructura del primer representante:",Object.keys(t[0]||{})),this.dataSource.data=t,this.pagination.length=t.length,this.selectedContratoId&&this.applyContratoFilter(),this.isLoading=!1},error:t=>{console.error("Error al cargar los representantes",t),this.showMessage("Error al cargar los representantes","error"),this.isLoading=!1}})}setupFilter(){this.searchControl.valueChanges.pipe((0,J.b)(300),(0,k.x)()).subscribe(t=>{this.applyFilter(t)})}applyFilter(t){this.dataSource.filter=t.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage(),this.selectedContratoId&&this.applyContratoFilter()}loadContratos(){this.contratoService.getContratos().subscribe({next:t=>{this.contratos=t},error:t=>{console.error("Error al cargar los contratos",t),this.showMessage("Error al cargar los contratos","error")}})}loadSuplementos(){this.isSuplementosLoading=!0,this.suplementoService.getSuplementos().subscribe({next:t=>{this.suplementos=t,this.suplementosDataSource.data=t,this.suplementosDataSource.paginator=this.paginator,this.suplementosDataSource.sort=this.sort,this.isSuplementosLoading=!1},error:t=>{console.error("Error al cargar los suplementos",t),this.showMessage("Error al cargar los suplementos","error"),this.isSuplementosLoading=!1}})}toggleSuplementos(){this.showSuplementos=!this.showSuplementos,this.showSuplementos&&0===this.suplementos.length&&this.loadSuplementos()}toggleDetails(t){if(this.selectedRow&&this.selectedRow.id===t)this.selectedRow=null;else{const r=this.dataSource.data.find(n=>n.id===t);this.selectedRow=r||null,this.selectedRow&&this.selectedRowForm.patchValue({nombre:this.selectedRow.nombre,apellido:this.selectedRow.apellido,telefono:this.selectedRow.telefono,email:this.selectedRow.email,cargo:this.selectedRow.cargo,estado:this.selectedRow.estado})}}updateSelectedRecord(){if(this.selectedRow&&this.selectedRowForm.valid){const t={...this.selectedRow,...this.selectedRowForm.value};this.representanteService.updateRepresentante(this.selectedRow.id,t).subscribe({next:()=>{this.showMessage("Representante actualizado correctamente"),this.loadRepresentantes(),this.selectedRow=null},error:r=>{console.error("Error al actualizar el representante",r),this.showMessage("Error al actualizar el representante","error")}})}}deleteSelectedRecord(){this.selectedRow&&(this.deleteRepresentante(this.selectedRow.id),this.selectedRow=null)}openAddDialog(){this.dialog.open(_e,{width:"600px",data:null}).afterClosed().subscribe(r=>{"saved"===r&&this.loadRepresentantes()})}showMessage(t,r="success"){this.snackBar.open(t,"Cerrar",{duration:5e3,panelClass:"success"===r?"success-snackbar":"error-snackbar",horizontalPosition:"right",verticalPosition:"top"})}deleteRepresentante(t){confirm("\xbfEst\xe1 seguro de eliminar este representante?")&&(this.isLoading=!0,this.representanteService.deleteRepresentante(t).subscribe({next:()=>{this.loadRepresentantes(),this.showMessage("Representante eliminado correctamente"),this.isLoading=!1},error:r=>{console.error("Error al eliminar el representante",r),this.showMessage("Error al eliminar el representante","error"),this.isLoading=!1}}))}deleteSelected(){if(confirm(`\xbfEst\xe1 seguro de eliminar los ${this.selection.size} representantes seleccionados?`)){this.isLoading=!0;const t=Array.from(this.selection).map(r=>this.representanteService.deleteRepresentante(r).toPromise());Promise.all(t).then(()=>{this.selection.clear(),this.loadRepresentantes(),this.showMessage(`${this.selection.size} representantes eliminados correctamente`),this.isLoading=!1}).catch(r=>{console.error("Error al eliminar los representantes",r),this.showMessage("Error al eliminar los representantes","error"),this.isLoading=!1})}}applyContratoFilter(){if(this.selectedContratoId){const t=[...this.dataSource.data];this.dataSource.data=t.filter(r=>r.contrato_id===this.selectedContratoId)}else this.loadRepresentantes()}onContratoChange(){this.applyContratoFilter()}trackByFn(t,r){return r.id||t}static#e=this.\u0275fac=function(r){return new(r||i)(e.Y36(S),e.Y36(xe.d),e.Y36(ve.y),e.Y36(C.uw),e.Y36($.ux),e.Y36(s.qu))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-representante-list"]],viewQuery:function(r,n){if(1&r&&(e.Gf(be,5),e.Gf(Ze,5)),2&r){let l;e.iGM(l=e.CRH())&&(n.sort=l.first),e.iGM(l=e.CRH())&&(n.paginator=l.first)}},standalone:!0,features:[e.jDz],decls:28,vars:11,consts:[[1,"flex","flex-col","min-h-screen","p-6","w-full"],[1,"relative","flex","flex-col","flex-auto","p-6","pr-3","pb-3","bg-card","rounded-2xl","shadow","overflow-hidden","mb-6","w-full"],[1,"absolute","bottom-0","right-0","w-24","h-24","-m-6"],[1,"icon-size-24","opacity-25","text-green-500","dark:text-green-400",3,"svgIcon"],[1,"flex","flex-col","flex-auto","min-w-0","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex","flex-col","sm:flex-row","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4","mt-4","sm:mt-0","w-55","text-lg",3,"color","click"],[3,"svgIcon"],[1,"ml-2","hidden","sm:inline"],[1,"ml-2","sm:hidden"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden"],[4,"ngIf","ngIfElse"],["rowDetailsTemplate",""],["noRepresentantes",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"hidden","lg:block","w-full"],[1,"w-full"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5",2,"grid-template-columns","1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 100px"],["sort",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"lg:hidden"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],["paginator",""],[1,"inventory-grid","grid","items-center","gap-4","py-3","px-6","md:px-8","border-b",2,"grid-template-columns","1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 100px"],[1,"truncate",3,"matTooltip"],[1,"px-2","py-1","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"flex","items-center","justify-center"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"grid"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"bg-white","dark:bg-gray-800","border","border-gray-200","dark:border-gray-700","rounded-lg","mb-4","mx-4","shadow-sm"],[1,"p-4","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","truncate"],[1,"text-sm","text-gray-500","dark:text-gray-400"],["mat-icon-button","",1,"ml-4","flex-shrink-0",3,"click"],[1,"p-4","space-y-3"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],[1,"text-xs","font-medium","text-gray-500","dark:text-gray-400","uppercase","tracking-wide"],[1,"mt-1","text-sm","text-gray-900","dark:text-white"],[1,"shadow-lg","overflow-hidden","bg-white","dark:bg-gray-800"],[1,"flex","border-b"],[1,"responsive-form","flex","flex-col","w-full","max-w-full","mx-auto","box-border",2,"width","100%","max-width","500px","padding","0 16px","box-sizing","border-box",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","p-8"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-1/3","sm:pl-8"],["matInput","","formControlName","nombre"],["matInput","","formControlName","apellido"],["matInput","","formControlName","telefono"],["matInput","","formControlName","email"],["matInput","","formControlName","cargo"],["formControlName","estado"],["value","activo"],["value","inactivo"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","border-t","px-4","sm:px-8","py-4"],[1,"hidden","lg:block","flex-1"],[1,"flex","flex-col","sm:flex-row","items-center","gap-3","w-full","sm:w-auto","lg:w-auto"],["mat-stroked-button","",1,"w-full","sm:w-auto","lg:w-auto","px-6",3,"color","click"],[1,"p-8","sm:p-16","border-b","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"mat-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,Te,2,1,"div",6),e.TgZ(7,"div",7)(8,"div",8)(9,"h2",9),e._uU(10," Representantes "),e.qZA()()(),e.TgZ(11,"div",10)(12,"mat-form-field",11),e._UZ(13,"mat-icon",12)(14,"input",13),e.qZA(),e.TgZ(15,"button",14),e.NdJ("click",function(){return n.openAddDialog()}),e._UZ(16,"mat-icon",15),e.TgZ(17,"span",16),e._uU(18,"Agregar Representante"),e.qZA(),e.TgZ(19,"span",17),e._uU(20,"Agregar"),e.qZA()()()(),e.TgZ(21,"div",18)(22,"div",19),e.YNc(23,Pe,30,13,"ng-container",20)(24,Re,43,3,"ng-template",null,21,e.W1O)(26,Ne,2,0,"ng-template",null,22,e.W1O),e.qZA()()()()()),2&r){const l=e.MAs(27);e.xp6(3),e.Q6J("svgIcon","heroicons_outline:users"),e.xp6(3),e.Q6J("ngIf",n.isLoading),e.xp6(6),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:magnifying-glass"),e.xp6(1),e.Q6J("formControl",n.searchControl)("autocomplete","off")("placeholder","Buscar representantes"),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(7),e.Q6J("ngIf",(null==n.dataSource||null==n.dataSource.data?null:n.dataSource.data.length)>0)("ngIfElse",l)}},dependencies:[o.ez,o.mk,o.sg,o.O5,o.tP,b.p0,m.JX,m.YE,v.TU,v.NW,A.c,A.Nt,f.KE,f.hX,f.qo,f.lN,Z.ot,Z.lW,Z.RK,R.Ps,R.Hw,P.Cv,P.pW,N.AV,N.gM,C.Is,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.oH,s.sg,s.u,w.LD,w.gD,I.ey,y.Tx,D.t,$.ZX,ce.p9],styles:[".inventory-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 150px 200px 180px 1fr 200px 200px 100px;gap:1rem;width:100%;box-sizing:border-box}.inventory-grid.z-10[_ngcontent-%COMP%]{position:sticky;top:0;background:white;z-index:20;box-shadow:0 2px 5px -2px #0000001a;overflow:visible}.dark[_ngcontent-%COMP%]   .inventory-grid.z-10[_ngcontent-%COMP%]{background:#1E293B}.inventory-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{position:sticky;right:0;background:white;z-index:10;box-shadow:-2px 0 5px -2px #0000001a}.dark[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{background:#1E293B}.sticky-end[_ngcontent-%COMP%]{position:sticky;right:0;background:white;z-index:11;box-shadow:-2px 0 5px -2px #0000001a}.dark[_ngcontent-%COMP%]   .sticky-end[_ngcontent-%COMP%]{background:#1E293B}.dark[_ngcontent-%COMP%]   .inventory-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#e0e0e0}.dark[_ngcontent-%COMP%]   .sticky-end[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{background:#1E293B!important;color:#fff!important;border-color:#1e293b!important}.dark[_ngcontent-%COMP%]   .sticky-end[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#fff!important}.inventory-grid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}[_nghost-%COMP%]{display:block;width:100%;overflow-x:auto}@media (max-width: 768px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:25px 70px 110px 90px 90px 80px 80px 80px 80px 80px 35px}}"]})}return i})()}];let Se=(()=>{class i{static#e=this.\u0275fac=function(r){return new(r||i)};static#t=this.\u0275mod=e.oAB({type:i});static#o=this.\u0275inj=e.cJS({imports:[q.Bz.forChild(Ee),q.Bz]})}return i})()}}]);