"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[438],{1438:(T,u,c)=>{c.r(u),c.d(u,{NotificacionesRoutingModule:()=>Z});var _=c(1896),m=c(6814),d=c(6223),e=c(9212),f=c(9397),g=c(6306),l=c(2096),s=c(2022),C=c(9862);let h=(()=>{class r{constructor(t){this.http=t,this.notificaciones=[]}getNotificacion(){return this.http.get(s.P.NOTIFICACIONES).pipe((0,f.b)(t=>console.log("entidad fetched:",t)),(0,g.K)(t=>(console.error("Error fetching contratos:",t),(0,l.of)([...this.notificaciones]))))}getNotificacionById(t){return this.http.get(`${s.P.NOTIFICACIONES}/${t}`).pipe((0,g.K)(o=>{console.error("Error fetching contrato by id:",o);const n=this.notificaciones.find(i=>i.id===t);if(n)return(0,l.of)(n);throw o}))}createNotificacion(t){return this.http.post(s.P.NOTIFICACIONES,t).pipe((0,g.K)(o=>{console.error("Error creating contrato:",o);const n={...t,id:this.notificaciones.length};return this.notificaciones.push(n),(0,l.of)(n)}))}updateNotificacion(t,o){return this.http.put(`${s.P.NOTIFICACIONES}/${t}`,o).pipe((0,g.K)(n=>{console.error("Error updating contrato:",n);const i=this.notificaciones.findIndex(a=>a.id===t);if(-1!==i)return this.notificaciones[i]={...o,id:t},(0,l.of)(this.notificaciones[i]);throw new Error("Contrato not found")}))}updatereadNotificacion(t,o){return this.http.put(`${s.P.NOTIFICACIONES}/${t}`,o).pipe((0,g.K)(n=>{console.error("Error updating contrato:",n);const i=this.notificaciones.findIndex(a=>a.id===t);if(-1!==i)return this.notificaciones[i]={...o,id:t},(0,l.of)(this.notificaciones[i]);throw new Error("Contrato not found")}))}deleteNotificacion(t){return this.http.delete(`${s.P.NOTIFICACIONES}/${t}`).pipe((0,g.K)(o=>{console.error("Error deleting contrato:",o);const n=this.notificaciones.findIndex(i=>i.id===t);if(-1!==n)return this.notificaciones.splice(n,1),(0,l.of)(void 0);throw new Error("Contrato not found")}))}static#e=this.\u0275fac=function(o){return new(o||r)(e.LFG(C.eN))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),b=(()=>{class r{constructor(t){this.http=t}getSystemConfig(){return this.http.get(s.P.CONFIGURACION.BASE)}updateSystemConfig(t){return this.http.put(s.P.CONFIGURACION.BASE,t)}getEmailConfig(){return this.http.get(s.P.CONFIGURACION.EMAIL)}updateEmailConfig(t){return this.http.put(s.P.CONFIGURACION.EMAIL,t)}testEmailConfig(t){return this.http.post(s.P.CONFIGURACION.EMAIL_TEST,t)}getBackupConfig(){return this.http.get(s.P.CONFIGURACION.BACKUP)}updateBackupConfig(t){return this.http.put(s.P.CONFIGURACION.BACKUP,t)}static#e=this.\u0275fac=function(o){return new(o||r)(e.LFG(C.eN))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var M=c(2682);function O(r,p){if(1&r&&(e.TgZ(0,"option",76),e._uU(1),e.qZA()),2&r){const t=p.$implicit;e.Q6J("value",t.email),e.xp6(1),e.AsE(" ",t.nombre," (",t.email,") ")}}function P(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"div",77)(1,"div",78)(2,"p",79),e._uU(3),e.qZA(),e.TgZ(4,"p",80),e._uU(5),e.qZA()(),e.TgZ(6,"button",81),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.removeRecipient(i.id))}),e._UZ(7,"i",61),e.qZA()()}if(2&r){const t=p.$implicit;e.xp6(3),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.email)}}function v(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"div",82),e.NdJ("click",function(){const i=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.useTemplate(i))}),e.TgZ(1,"div",83)(2,"h4",84),e._uU(3),e.qZA(),e.TgZ(4,"button",85),e.O4$(),e.TgZ(5,"svg",86),e._UZ(6,"path",87),e.qZA(),e.kcU(),e.TgZ(7,"span",88),e._uU(8,"Usar"),e.qZA()()(),e.TgZ(9,"div",89)(10,"p",90),e._uU(11),e.qZA()()()}if(2&r){const t=p.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(8),e.Oqu(t.preview)}}function x(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"div",91),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.showSettings=!1)}),e.TgZ(1,"div",92),e.NdJ("click",function(n){return n.stopPropagation()}),e.TgZ(2,"div",93)(3,"h3"),e._uU(4,"Configuraci\xf3n de Env\xedo"),e.qZA(),e.TgZ(5,"button",94),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.showSettings=!1)}),e._UZ(6,"i",61),e.qZA()(),e.TgZ(7,"div",95)(8,"div",27)(9,"label",28),e._uU(10,"Servidor SMTP"),e.qZA(),e.TgZ(11,"input",96),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.emailSettings.smtpServer=n)}),e.qZA()(),e.TgZ(12,"div",97)(13,"div",27)(14,"label",28),e._uU(15,"Puerto"),e.qZA(),e.TgZ(16,"input",98),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.emailSettings.port=n)}),e.qZA()(),e.TgZ(17,"div",27)(18,"label",28),e._uU(19,"Retraso entre env\xedos (ms)"),e.qZA(),e.TgZ(20,"input",99),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.emailSettings.delay=n)}),e.qZA()()(),e.TgZ(21,"div",27)(22,"label",28),e._uU(23,"Usuario"),e.qZA(),e.TgZ(24,"input",100),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.emailSettings.username=n)}),e.qZA()(),e.TgZ(25,"div",27)(26,"label",28),e._uU(27,"Contrase\xf1a"),e.qZA(),e.TgZ(28,"input",101),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.emailSettings.password=n)}),e.qZA()(),e.TgZ(29,"div",102)(30,"label",103)(31,"input",104),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.emailSettings.useSsl=n)}),e.qZA(),e.TgZ(32,"span",105),e._uU(33,"Usar autenticaci\xf3n SSL/TLS"),e.qZA()()()(),e.TgZ(34,"div",106)(35,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.showSettings=!1)}),e._uU(36," Cancelar "),e.qZA(),e.TgZ(37,"button",107),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveSettings())}),e._uU(38," Guardar Configuraci\xf3n "),e.qZA()()()()}if(2&r){const t=e.oxw();e.xp6(11),e.Q6J("ngModel",t.emailSettings.smtpServer),e.xp6(5),e.Q6J("ngModel",t.emailSettings.port),e.xp6(4),e.Q6J("ngModel",t.emailSettings.delay),e.xp6(4),e.Q6J("ngModel",t.emailSettings.username),e.xp6(4),e.Q6J("ngModel",t.emailSettings.password),e.xp6(3),e.Q6J("ngModel",t.emailSettings.useSsl)}}const w=[{path:"correo",component:(()=>{class r{constructor(t,o,n){this.notificacionesService=t,this.configService=o,this.trabajadoresService=n,this.recipients=[],this.subject="",this.message="",this.newRecipientEmail="",this.showSettings=!1,this.availableTrabajadores=[],this.emailSettings={smtpServer:"",port:587,delay:1e3,useSsl:!0,username:"",password:""},this.emailStats={totalEmails:0,sent:0,pending:0,failed:0},this.templates=[{id:1,name:"Contrato Aprobado",preview:"Estimado/a {nombre}, nos complace informarle que su contrato #{numeroContrato} ha sido aprobado y est\xe1 listo para su firma..."},{id:2,name:"Contrato Vencido",preview:"Estimado/a {nombre}, le informamos que su contrato #{numeroContrato} vencer\xe1 el {fechaVencimiento}. Por favor, contacte con nosotros para renovar..."},{id:3,name:"Solicitud Pendiente",preview:"Estimado/a {nombre}, su solicitud de contrato #{numeroSolicitud} est\xe1 siendo revisada. Le notificaremos el estado en breve..."},{id:4,name:"Documentos Requeridos",preview:"Estimado/a {nombre}, para procesar su contrato #{numeroContrato} necesitamos que nos proporcione los siguientes documentos: {documentos}..."},{id:5,name:"Renovaci\xf3n de Contrato",preview:"Estimado/a {nombre}, es momento de renovar su contrato #{numeroContrato}. Hemos preparado una nueva propuesta con condiciones mejoradas..."},{id:6,name:"Contrato Rechazado",preview:"Estimado/a {nombre}, lamentamos informarle que su solicitud de contrato #{numeroSolicitud} no ha sido aprobada. Motivo: {motivo}..."}]}ngOnInit(){this.loadEmailConfig(),this.loadTrabajadores(),this.notificacionesService.getNotificacion().subscribe({next:t=>console.log("Notificaciones:",t),error:t=>console.error("Error fetching notificaciones:",t)})}loadEmailConfig(){this.configService.getEmailConfig().subscribe({next:t=>{this.emailSettings={smtpServer:t.servidor_smtp,port:t.puerto,delay:1e3,useSsl:t.usar_ssl||!0,username:t.usuario,password:t.contrasena},this.updateStats()},error:t=>console.error("Error loading email config:",t)})}loadTrabajadores(){this.trabajadoresService.getTrabajadores().subscribe({next:t=>{this.availableTrabajadores=t,this.updateStats()},error:t=>console.error("Error loading trabajadores:",t)})}updateStats(){this.emailStats={totalEmails:this.recipients.length,sent:0,pending:this.recipients.length,failed:0}}addRecipient(){const t=this.availableTrabajadores.find(o=>o.email===this.newRecipientEmail);t&&!this.recipients.find(o=>o.id===t.id)&&(this.recipients.push(t),this.newRecipientEmail="",this.updateStats())}removeRecipient(t){this.recipients=this.recipients.filter(o=>o.id!==t),this.updateStats()}onKeyPress(t){"Enter"===t.key&&this.addRecipient()}toggleSettings(){this.showSettings=!this.showSettings}saveSettings(){const t={servidor_smtp:this.emailSettings.smtpServer,puerto:this.emailSettings.port,usuario:this.emailSettings.username,contrasena:this.emailSettings.password,remitente:this.emailSettings.username,nombre_remitente:this.emailSettings.username.split("@")[0],usar_ssl:this.emailSettings.useSsl};this.configService.updateEmailConfig(t).subscribe({next:()=>{console.log("Configuraciones guardadas"),this.showSettings=!1},error:o=>console.error("Error saving email config:",o)})}sendEmails(){}testEmailSettings(){this.configService.testEmailConfig({email_destino:this.emailSettings.username}).subscribe({next:()=>console.log("Email de prueba enviado"),error:t=>console.error("Error testing email:",t)})}saveDraft(){console.log("Borrador guardado")}previewEmail(){console.log("Vista previa del correo")}importFromCsv(){console.log("Importar desde CSV")}useTemplate(t){this.subject=`${t.name} - `+this.subject,this.message=t.preview}static#e=this.\u0275fac=function(o){return new(o||r)(e.Y36(h),e.Y36(b),e.Y36(M.r))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-centro-mensajes"]],standalone:!0,features:[e.jDz],decls:153,vars:21,consts:[[1,"email-composer"],[1,"header"],[1,"header-content"],[1,"header-left"],[1,"title"],[1,"settings-btn",3,"click"],[1,"icon-settings"],[1,"main-content"],[1,"content-grid"],[1,"recipients-panel"],[1,"panel-card"],[1,"panel-header"],[1,"panel-title"],[1,"icon-users"],[1,"recipient-count"],[1,"panel-body"],[1,"add-recipient"],[1,"recipient-input",3,"ngModel","ngModelChange","keypress"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"add-btn",3,"click"],[1,"icon-plus"],[1,"recipients-list"],["class","recipient-item",4,"ngFor","ngForOf"],[1,"import-btn",3,"click"],[1,"icon-upload"],[1,"composer-panel"],[1,"form-group"],[1,"form-label"],["type","text","placeholder","Ingresa el asunto del correo",1,"form-input",3,"ngModel","ngModelChange"],[1,"toolbar"],["title","Adjuntar archivo",1,"toolbar-btn"],[1,"icon-paperclip"],["title","Insertar imagen",1,"toolbar-btn"],[1,"icon-image"],["title","Insertar emoji",1,"toolbar-btn"],[1,"icon-smile"],[1,"toolbar-spacer"],[1,"toolbar-select"],["rows","12","placeholder","Escribe tu mensaje aqu\xed...",1,"message-textarea",3,"ngModel","ngModelChange"],[1,"actions"],[1,"actions-left"],[1,"action-btn","secondary",3,"click"],[1,"send-btn",3,"click"],[1,"icon-send"],[1,"preview-panel"],[1,"panel-card","stats-card"],[1,"icon-stats"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],[1,"stat-number","sent"],[1,"stat-number","pending"],[1,"stat-number","failed"],[1,"templates-section"],[1,"templates-list"],["class","template-item",3,"click",4,"ngFor","ngForOf"],[1,"panel-card","preview-card"],[1,"icon-eye"],[1,"toggle-preview-btn"],[1,"icon-close"],[1,"email-preview"],[1,"preview-header"],[1,"preview-field"],[1,"preview-divider"],[1,"preview-body"],[1,"preview-content",3,"innerHTML"],[1,"panel-card","progress-card"],[1,"icon-clock"],[1,"progress-info"],[1,"progress-text"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-details"],["class","modal-overlay",3,"click",4,"ngIf"],[3,"value"],[1,"recipient-item"],[1,"recipient-info"],[1,"recipient-name"],[1,"recipient-email"],[1,"remove-btn",3,"click"],[1,"template-item",3,"click"],[1,"template-header"],[1,"template-name"],["type","button",1,"use-template-btn"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"btn-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"btn-text"],[1,"template-preview"],[1,"preview-text"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-body"],["type","text","placeholder","smtp.gmail.com",1,"form-input",3,"ngModel","ngModelChange"],[1,"form-row"],["type","number","placeholder","587",1,"form-input",3,"ngModel","ngModelChange"],["type","number","placeholder","1000",1,"form-input",3,"ngModel","ngModelChange"],["type","email","placeholder","tu-email@gmail.com",1,"form-input",3,"ngModel","ngModelChange"],["type","password","placeholder","Tu contrase\xf1a",1,"form-input",3,"ngModel","ngModelChange"],[1,"checkbox-group"],[1,"checkbox-label"],["type","checkbox",1,"checkbox-input",3,"ngModel","ngModelChange"],[1,"checkbox-text"],[1,"modal-footer"],[1,"action-btn","primary",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5,"Env\xedo de Correo Electr\xf3nico"),e.qZA()(),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.toggleSettings()}),e._UZ(7,"i",6),e._uU(8," Configuraci\xf3n "),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"div",12),e._UZ(15,"i",13),e.TgZ(16,"h2"),e._uU(17,"Destinatarios"),e.qZA()(),e.TgZ(18,"span",14),e._uU(19),e.qZA()(),e.TgZ(20,"div",15)(21,"div",16)(22,"select",17),e.NdJ("ngModelChange",function(a){return n.newRecipientEmail=a})("keypress",function(a){return n.onKeyPress(a)}),e.TgZ(23,"option",18),e._uU(24,"Seleccione un trabajador"),e.qZA(),e.YNc(25,O,2,3,"option",19),e.qZA(),e.TgZ(26,"button",20),e.NdJ("click",function(){return n.addRecipient()}),e._UZ(27,"i",21),e.qZA()(),e.TgZ(28,"div",22),e.YNc(29,P,8,2,"div",23),e.qZA(),e.TgZ(30,"button",24),e.NdJ("click",function(){return n.importFromCsv()}),e._UZ(31,"i",25),e._uU(32," Importar desde CSV "),e.qZA()()()(),e.TgZ(33,"div",26)(34,"div",10)(35,"div",11)(36,"h2"),e._uU(37,"Redactar Mensaje"),e.qZA()(),e.TgZ(38,"div",15)(39,"div",27)(40,"label",28),e._uU(41,"Asunto"),e.qZA(),e.TgZ(42,"input",29),e.NdJ("ngModelChange",function(a){return n.subject=a}),e.qZA()(),e.TgZ(43,"div",27)(44,"label",28),e._uU(45,"Mensaje"),e.qZA(),e.TgZ(46,"div",30)(47,"button",31),e._UZ(48,"i",32),e.qZA(),e.TgZ(49,"button",33),e._UZ(50,"i",34),e.qZA(),e.TgZ(51,"button",35),e._UZ(52,"i",36),e.qZA(),e._UZ(53,"div",37),e.TgZ(54,"select",38)(55,"option"),e._uU(56,"Arial"),e.qZA(),e.TgZ(57,"option"),e._uU(58,"Helvetica"),e.qZA(),e.TgZ(59,"option"),e._uU(60,"Times New Roman"),e.qZA()(),e.TgZ(61,"select",38)(62,"option"),e._uU(63,"12px"),e.qZA(),e.TgZ(64,"option"),e._uU(65,"14px"),e.qZA(),e.TgZ(66,"option"),e._uU(67,"16px"),e.qZA()()(),e.TgZ(68,"textarea",39),e.NdJ("ngModelChange",function(a){return n.message=a}),e.qZA()(),e.TgZ(69,"div",40)(70,"div",41)(71,"button",42),e.NdJ("click",function(){return n.saveDraft()}),e._uU(72," Guardar Borrador "),e.qZA(),e.TgZ(73,"button",42),e.NdJ("click",function(){return n.previewEmail()}),e._uU(74," Vista Previa "),e.qZA(),e.TgZ(75,"button",42),e.NdJ("click",function(){return n.testEmailSettings()}),e._uU(76," Probar Configuraci\xf3n "),e.qZA()(),e.TgZ(77,"button",43),e.NdJ("click",function(){return n.sendEmails()}),e._UZ(78,"i",44),e._uU(79),e.qZA()()()()(),e.TgZ(80,"div",45)(81,"div",46)(82,"div",11)(83,"div",12),e._UZ(84,"i",47),e.TgZ(85,"h2"),e._uU(86,"Estad\xedsticas"),e.qZA()()(),e.TgZ(87,"div",48)(88,"div",49)(89,"div",50),e._uU(90),e.qZA(),e.TgZ(91,"div",51),e._uU(92,"Total"),e.qZA()(),e.TgZ(93,"div",49)(94,"div",52),e._uU(95),e.qZA(),e.TgZ(96,"div",51),e._uU(97,"Enviados"),e.qZA()(),e.TgZ(98,"div",49)(99,"div",53),e._uU(100),e.qZA(),e.TgZ(101,"div",51),e._uU(102,"Pendientes"),e.qZA()(),e.TgZ(103,"div",49)(104,"div",54),e._uU(105),e.qZA(),e.TgZ(106,"div",51),e._uU(107,"Fallidos"),e.qZA()()()(),e.TgZ(108,"div",55)(109,"h3"),e._uU(110,"Plantillas de Correo"),e.qZA(),e.TgZ(111,"div",56),e.YNc(112,v,12,2,"div",57),e.qZA()(),e.TgZ(113,"div",58)(114,"div",11)(115,"div",12),e._UZ(116,"i",59),e.TgZ(117,"h2"),e._uU(118,"Vista Previa"),e.qZA()(),e.TgZ(119,"button",60),e._UZ(120,"i",61),e.qZA()(),e.TgZ(121,"div",15)(122,"div",62)(123,"div",63)(124,"div",64)(125,"strong"),e._uU(126,"Para:"),e.qZA(),e._uU(127),e.qZA(),e.TgZ(128,"div",64)(129,"strong"),e._uU(130,"Asunto:"),e.qZA(),e._uU(131),e.qZA()(),e._UZ(132,"div",65),e.TgZ(133,"div",66),e._UZ(134,"div",67),e.qZA()()()(),e.TgZ(135,"div",68)(136,"div",11)(137,"div",12),e._UZ(138,"i",69),e.TgZ(139,"h2"),e._uU(140,"Progreso"),e.qZA()()(),e.TgZ(141,"div",15)(142,"div",70)(143,"div",71),e._uU(144," Listo para enviar "),e.qZA(),e.TgZ(145,"div",72),e._UZ(146,"div",73),e.qZA(),e.TgZ(147,"div",74)(148,"span"),e._uU(149),e.qZA(),e.TgZ(150,"span"),e._uU(151),e.qZA()()()()()()()(),e.YNc(152,x,39,6,"div",75),e.qZA()),2&o&&(e.xp6(19),e.Oqu(n.recipients.length),e.xp6(3),e.Q6J("ngModel",n.newRecipientEmail),e.xp6(3),e.Q6J("ngForOf",n.availableTrabajadores),e.xp6(4),e.Q6J("ngForOf",n.recipients),e.xp6(13),e.Q6J("ngModel",n.subject),e.xp6(26),e.Q6J("ngModel",n.message),e.xp6(11),e.hij(" Enviar a ",n.recipients.length," destinatarios "),e.xp6(11),e.Oqu(n.emailStats.totalEmails),e.xp6(5),e.Oqu(n.emailStats.sent),e.xp6(5),e.Oqu(n.emailStats.pending),e.xp6(5),e.Oqu(n.emailStats.failed),e.xp6(7),e.Q6J("ngForOf",n.templates),e.xp6(15),e.hij(" ",n.recipients.length," destinatarios "),e.xp6(4),e.hij(" ",n.subject||"Sin asunto"," "),e.xp6(3),e.Q6J("innerHTML",n.message||"Contenido del mensaje aparecer\xe1 aqu\xed...",e.oJD),e.xp6(12),e.Udp("width",n.emailStats.sent/n.emailStats.totalEmails*100,"%"),e.xp6(3),e.AsE("",n.emailStats.sent," de ",n.recipients.length," enviados"),e.xp6(2),e.hij("Tiempo estimado: ",n.emailStats.pending*n.emailSettings.delay/1e3,"s"),e.xp6(1),e.Q6J("ngIf",n.showSettings))},dependencies:[m.ez,m.sg,m.O5,d.u5,d.YN,d.Kr,d.Fj,d.wV,d.Wl,d.EJ,d.JJ,d.On,d.UX],styles:['@charset "UTF-8";.email-composer[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8fafc;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif}.header[_ngcontent-%COMP%]{background:white;box-shadow:0 1px 3px #0000001a;border-bottom:1px solid #e2e8f0}.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{max-width:1280px;margin:0 auto;padding:0 1rem;display:flex;justify-content:space-between;align-items:center;height:4rem}@media (min-width: 640px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:0 1.5rem}}@media (min-width: 1024px){.header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{padding:0 2rem}}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a202c;margin:0}.header[_ngcontent-%COMP%]   .settings-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.5rem 1rem;border:1px solid #d1d5db;border-radius:.375rem;box-shadow:0 1px 2px #0000000d;font-size:.875rem;font-weight:500;color:#374151;background:white;cursor:pointer;transition:all .2s}.header[_ngcontent-%COMP%]   .settings-btn[_ngcontent-%COMP%]:hover{background:#f9fafb}.header[_ngcontent-%COMP%]   .settings-btn[_ngcontent-%COMP%]:focus{outline:none;ring:2px;ring-color:#6366f1;ring-offset:2px}.header[_ngcontent-%COMP%]   .settings-btn[_ngcontent-%COMP%]   .icon-settings[_ngcontent-%COMP%]{width:1rem;height:1rem;margin-right:.5rem}.content-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:2rem}@media (min-width: 1024px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:300px 1fr 320px;gap:1.5rem}}@media (min-width: 1280px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:320px 2fr 340px;gap:2rem}}@media (min-width: 1536px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:350px 3fr 370px;gap:2.5rem}}@media (min-width: 1800px){.content-grid[_ngcontent-%COMP%]{grid-template-columns:480px 8fr 500px;gap:3rem}}.main-content[_ngcontent-%COMP%]{max-width:1700px;margin:0 auto;padding:2rem 1rem}@media (min-width: 640px){.main-content[_ngcontent-%COMP%]{padding:2rem 1.5rem}}@media (min-width: 1024px){.main-content[_ngcontent-%COMP%]{padding:2rem}}@media (min-width: 1536px){.main-content[_ngcontent-%COMP%]{max-width:1800px;padding:2rem 3rem}}@media (min-width: 1800px){.main-content[_ngcontent-%COMP%]{max-width:1900px;padding:2rem 4rem}}.panel-card[_ngcontent-%COMP%]{background:white;border-radius:.5rem;box-shadow:0 4px 6px -1px #0000001a}.panel-header[_ngcontent-%COMP%]{padding:1.5rem;border-bottom:1px solid #e5e7eb;display:flex;justify-content:space-between;align-items:center}.panel-header[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{display:flex;align-items:center}.panel-header[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;color:#1a202c;margin:0}.panel-header[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]   .icon-users[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;margin-right:.5rem;color:#6366f1}.panel-header[_ngcontent-%COMP%]   .recipient-count[_ngcontent-%COMP%]{background:#e0e7ff;color:#3730a3;font-size:.75rem;font-weight:500;padding:.25rem .625rem;border-radius:9999px}.panel-body[_ngcontent-%COMP%]{padding:1.5rem}.add-recipient[_ngcontent-%COMP%]{display:flex;margin-bottom:1rem}.add-recipient[_ngcontent-%COMP%]   .recipient-input[_ngcontent-%COMP%]{flex:1;border:1px solid #d1d5db;border-radius:.375rem 0 0 .375rem;padding:.5rem .75rem;font-size:.875rem}.add-recipient[_ngcontent-%COMP%]   .recipient-input[_ngcontent-%COMP%]:focus{outline:none;ring:2px;ring-color:#6366f1;border-color:transparent}.add-recipient[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{background:#6366f1;color:#fff;padding:.5rem .75rem;border-radius:0 .375rem .375rem 0;border:none;cursor:pointer}.add-recipient[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover{background:#4f46e5}.add-recipient[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:focus{outline:none;ring:2px;ring-color:#6366f1}.recipients-list[_ngcontent-%COMP%]{max-height:24rem;overflow-y:auto;margin-bottom:1rem}.recipients-list[_ngcontent-%COMP%]   .recipient-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem;background:#f9fafb;border-radius:.5rem;margin-bottom:.5rem}.recipients-list[_ngcontent-%COMP%]   .recipient-item[_ngcontent-%COMP%]   .recipient-info[_ngcontent-%COMP%]{flex:1;min-width:0}.recipients-list[_ngcontent-%COMP%]   .recipient-item[_ngcontent-%COMP%]   .recipient-info[_ngcontent-%COMP%]   .recipient-name[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#1a202c;margin:0 0 .25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.recipients-list[_ngcontent-%COMP%]   .recipient-item[_ngcontent-%COMP%]   .recipient-info[_ngcontent-%COMP%]   .recipient-email[_ngcontent-%COMP%]{font-size:.75rem;color:#6b7280;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.recipients-list[_ngcontent-%COMP%]   .recipient-item[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{margin-left:.5rem;color:#ef4444;background:none;border:none;cursor:pointer}.recipients-list[_ngcontent-%COMP%]   .recipient-item[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{color:#dc2626}.import-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;padding:.5rem 1rem;border:2px dashed #d1d5db;border-radius:.375rem;font-size:.875rem;color:#6b7280;background:none;cursor:pointer}.import-btn[_ngcontent-%COMP%]:hover{border-color:#9ca3af;color:#374151}.import-btn[_ngcontent-%COMP%]   .icon-upload[_ngcontent-%COMP%]{width:1rem;height:1rem;margin-right:.5rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.5rem}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;border:1px solid #d1d5db;border-radius:.375rem;padding:.5rem .75rem}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;ring:2px;ring-color:#6366f1;border-color:transparent}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem;background:#f9fafb;border:1px solid #d1d5db;border-radius:.375rem .375rem 0 0;gap:.5rem}.toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]{padding:.5rem;color:#6b7280;background:none;border:none;border-radius:.25rem;cursor:pointer}.toolbar[_ngcontent-%COMP%]   .toolbar-btn[_ngcontent-%COMP%]:hover{color:#374151;background:#e5e7eb}.toolbar[_ngcontent-%COMP%]   .toolbar-spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]   .toolbar-select[_ngcontent-%COMP%]{font-size:.875rem;border:1px solid #d1d5db;border-radius:.25rem;padding:.25rem .5rem}.message-textarea[_ngcontent-%COMP%]{width:100%;border-left:1px solid #d1d5db;border-right:1px solid #d1d5db;border-bottom:1px solid #d1d5db;border-radius:0 0 .375rem .375rem;padding:.75rem;resize:none}.message-textarea[_ngcontent-%COMP%]:focus{outline:none;ring:2px;ring-color:#6366f1;border-color:transparent}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:.75rem}.actions[_ngcontent-%COMP%]   .actions-left[_ngcontent-%COMP%]{display:flex;gap:.75rem}.actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem;border-radius:.375rem;cursor:pointer;transition:all .2s}.actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{color:#6b7280;background:none;border:none}.actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{color:#1f2937}.actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{color:#fff;background:#6366f1;border:1px solid #6366f1}.actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background:#4f46e5}.actions[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.75rem 1.5rem;border:1px solid transparent;font-size:1rem;font-weight:500;border-radius:.375rem;box-shadow:0 1px 2px #0000000d;color:#fff;background:#6366f1;cursor:pointer}.actions[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]:hover{background:#4f46e5}.actions[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]:focus{outline:none;ring:2px;ring-offset:2px;ring-color:#6366f1}.actions[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]   .icon-send[_ngcontent-%COMP%]{width:1.25rem;height:1.25rem;margin-right:.5rem}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(75,85,99,.5);overflow-y:auto;height:100%;width:100%;z-index:50}.modal-content[_ngcontent-%COMP%]{position:relative;top:5rem;margin:0 auto;padding:1.25rem;border:1px solid #e5e7eb;width:91.666667%;box-shadow:0 20px 25px -5px #0000001a;border-radius:.375rem;background:white}@media (min-width: 768px){.modal-content[_ngcontent-%COMP%]{width:75%}}@media (min-width: 1024px){.modal-content[_ngcontent-%COMP%]{width:50%}}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;color:#1a202c;margin:0}.modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]{color:#9ca3af;background:none;border:none;cursor:pointer}.modal-header[_ngcontent-%COMP%]   .modal-close[_ngcontent-%COMP%]:hover{color:#6b7280}.modal-body[_ngcontent-%COMP%]{margin-bottom:1.5rem}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;padding-top:1rem}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]{border-radius:.25rem;border:1px solid #d1d5db;color:#6366f1;box-shadow:0 1px 2px #0000000d}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .checkbox-input[_ngcontent-%COMP%]:focus{border-color:#a5b4fc;ring:2px;ring-color:rgba(99,102,241,.2);ring-opacity:.5}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   .checkbox-text[_ngcontent-%COMP%]{margin-left:.5rem;font-size:.875rem;color:#6b7280}.icon-settings[_ngcontent-%COMP%]:before{content:"\\2699\\fe0f"}.icon-users[_ngcontent-%COMP%]:before{content:"\\1f465"}.icon-plus[_ngcontent-%COMP%]:before{content:"+"}.icon-close[_ngcontent-%COMP%]:before{content:"\\d7"}.icon-upload[_ngcontent-%COMP%]:before{content:"\\1f4e4"}.icon-paperclip[_ngcontent-%COMP%]:before{content:"\\1f4ce"}.icon-image[_ngcontent-%COMP%]:before{content:"\\1f5bc\\fe0f"}.icon-smile[_ngcontent-%COMP%]:before{content:"\\1f60a"}.icon-send[_ngcontent-%COMP%]:before{content:"\\27a4"}.icon-stats[_ngcontent-%COMP%]:before{content:"\\1f4ca"}.icon-template[_ngcontent-%COMP%]:before{content:"\\1f4dd"}.icon-eye[_ngcontent-%COMP%]:before{content:"\\1f441\\fe0f"}.icon-clock[_ngcontent-%COMP%]:before{content:"\\23f0"}.icon-arrow-right[_ngcontent-%COMP%]:before{content:"\\2192"}.preview-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1.5rem}.stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{text-align:center}.stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#1a202c}.stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-number.sent[_ngcontent-%COMP%]{color:#10b981}.stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-number.pending[_ngcontent-%COMP%]{color:#f59e0b}.stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-number.failed[_ngcontent-%COMP%]{color:#ef4444}.stats-card[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280;margin-top:.25rem}.templates-section[_ngcontent-%COMP%]{margin:20px 0}.templates-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;color:#333;font-weight:600}.templates-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;max-height:400px;overflow-y:auto}.template-item[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;padding:16px;background:#fff;cursor:pointer;transition:all .3s ease}.template-item[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 12px #3b82f626;transform:translateY(-1px)}.template-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.template-header[_ngcontent-%COMP%]   .template-name[_ngcontent-%COMP%]{margin:0 12px 0 0;font-size:16px;font-weight:600;color:#1f2937;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.template-header[_ngcontent-%COMP%]   .use-template-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background:linear-gradient(135deg,#3b82f6 0%,#1d4ed8 100%);color:#fff;border:none;padding:8px 16px;border-radius:8px;font-size:13px;font-weight:500;cursor:pointer;flex-shrink:0;transition:all .2s ease;box-shadow:0 2px 4px #3b82f633}.template-header[_ngcontent-%COMP%]   .use-template-btn[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2563eb 0%,#1e40af 100%);transform:translateY(-1px);box-shadow:0 4px 8px #3b82f64d}.template-header[_ngcontent-%COMP%]   .use-template-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px #3b82f633}.template-header[_ngcontent-%COMP%]   .use-template-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:16px;height:16px;stroke-width:2}.template-header[_ngcontent-%COMP%]   .use-template-btn[_ngcontent-%COMP%]   .btn-text[_ngcontent-%COMP%]{font-weight:500}.template-preview[_ngcontent-%COMP%]   .preview-text[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:14px;line-height:1.5;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;max-height:4.5em;word-wrap:break-word;word-break:break-word}@media (max-width: 768px){.template-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}.template-header[_ngcontent-%COMP%]   .template-name[_ngcontent-%COMP%]{margin-right:0;white-space:normal}.template-header[_ngcontent-%COMP%]   .use-template-btn[_ngcontent-%COMP%]{align-self:flex-end;padding:6px 12px;font-size:12px}.template-header[_ngcontent-%COMP%]   .use-template-btn[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:14px;height:14px}.template-preview[_ngcontent-%COMP%]   .preview-text[_ngcontent-%COMP%]{-webkit-line-clamp:2;max-height:3em}}.templates-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.templates-list[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f3f4f6;border-radius:3px}.templates-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.templates-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}.preview-card[_ngcontent-%COMP%]   .email-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .preview-field[_ngcontent-%COMP%]{font-size:.875rem;margin-bottom:.5rem}.preview-card[_ngcontent-%COMP%]   .email-preview[_ngcontent-%COMP%]   .preview-header[_ngcontent-%COMP%]   .preview-field[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#374151}.preview-card[_ngcontent-%COMP%]   .email-preview[_ngcontent-%COMP%]   .preview-divider[_ngcontent-%COMP%]{height:1px;background:#e5e7eb;margin:1rem 0}.preview-card[_ngcontent-%COMP%]   .email-preview[_ngcontent-%COMP%]   .preview-body[_ngcontent-%COMP%]   .preview-content[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5;color:#6b7280;min-height:100px;padding:1rem;background:#f9fafb;border-radius:.375rem;white-space:pre-wrap}.preview-card[_ngcontent-%COMP%]   .toggle-preview-btn[_ngcontent-%COMP%]{background:none;border:none;color:#6b7280;cursor:pointer;padding:.25rem}.preview-card[_ngcontent-%COMP%]   .toggle-preview-btn[_ngcontent-%COMP%]:hover{color:#374151}.progress-card[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.875rem;color:#374151;margin-bottom:.75rem}.progress-card[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:.5rem;background:#e5e7eb;border-radius:.25rem;overflow:hidden;margin-bottom:.75rem}.progress-card[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#6366f1,#8b5cf6);transition:width .3s ease}.progress-card[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.75rem;color:#6b7280}@media (max-width: 1023px){.content-grid[_ngcontent-%COMP%]   .recipients-panel[_ngcontent-%COMP%]{order:1}.content-grid[_ngcontent-%COMP%]   .composer-panel[_ngcontent-%COMP%]{order:2}.content-grid[_ngcontent-%COMP%]   .preview-panel[_ngcontent-%COMP%]{order:3}}@media (max-width: 639px){.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.actions[_ngcontent-%COMP%]   .actions-left[_ngcontent-%COMP%]{justify-content:center}.actions[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})}return r})()}];let Z=(()=>{class r{static#e=this.\u0275fac=function(o){return new(o||r)};static#t=this.\u0275mod=e.oAB({type:r});static#n=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(w),_.Bz]})}return r})()}}]);