"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[600],{7179:(Et,A,l)=>{l.r(A),l.d(A,{OrganizacionRoutingModule:()=>Tt});var S=l(1896),t=l(9212);let x=(()=>{class i{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-trabajadores"]],decls:3,vars:0,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"h-400","min-h-400","max-h-400","border-2","border-dashed","border-gray-300","rounded-2xl"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.qZA()())},encapsulation:2})}return i})();var p=l(6814),_=l(5195),g=l(6007);let C=(()=>{class i{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(a){return new(a||i)(t.Y36(t.Rgc))};static \u0275dir=t.lG2({type:i,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]},standalone:!0})}return i})();const O=i=>({display:i});function R(i,o){if(1&i&&(t.TgZ(0,"div",7),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.Q6J("ngStyle",t.VKq(4,O,null!=e.value&&0!==e.value?"flex":"none")),t.uIk("data-pc-section","label"),t.xp6(1),t.AsE(" ",e.value,"",e.unit," ")}}function I(i,o){1&i&&t.GkF(0)}const N=(i,o)=>({width:i,display:"flex",background:o}),w=i=>({$implicit:i});function y(i,o){if(1&i&&(t.TgZ(0,"div",3)(1,"div",4),t.YNc(2,R,2,6,"div",5)(3,I,1,0,"ng-container",6),t.qZA()()),2&i){const e=t.oxw();t.Q6J("ngStyle",t.WLB(5,N,e.value+"%",e.color)),t.uIk("data-pc-section","value"),t.xp6(2),t.Q6J("ngIf",e.showValue&&!e.contentTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",t.VKq(8,w,e.value))}}const M=i=>({background:i});function D(i,o){if(1&i&&(t.TgZ(0,"div",8),t._UZ(1,"div",3),t.qZA()),2&i){const e=t.oxw();t.uIk("data-pc-section","container"),t.xp6(1),t.Q6J("ngStyle",t.VKq(3,M,e.color)),t.uIk("data-pc-section","value")}}const U=(i,o)=>({"p-progressbar p-component":!0,"p-progressbar-determinate":i,"p-progressbar-indeterminate":o});let F=(()=>{class i{value;showValue=!0;styleClass;style;unit="%";mode="determinate";color;templates;contentTemplate;ngAfterContentInit(){this.templates?.forEach(e=>{e.getType(),this.contentTemplate=e.template})}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=t.Xpm({type:i,selectors:[["p-progressBar"]],contentQueries:function(a,n,r){if(1&a&&t.Suo(r,C,4),2&a){let c;t.iGM(c=t.CRH())&&(n.templates=c)}},hostAttrs:[1,"p-element"],inputs:{value:["value","value",t.Cb_],showValue:["showValue","showValue",t.VuI],styleClass:"styleClass",style:"style",unit:"unit",mode:"mode",color:"color"},features:[t.Xq5],decls:3,vars:14,consts:[["role","progressbar",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate",3,"ngStyle",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",3,"ngStyle"],[1,"p-progressbar-label"],[3,"ngStyle",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngStyle"],[1,"p-progressbar-indeterminate-container"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0),t.YNc(1,y,4,10,"div",1)(2,D,2,5,"div",2),t.qZA()),2&a&&(t.Tol(n.styleClass),t.Q6J("ngStyle",n.style)("ngClass",t.WLB(11,U,"determinate"===n.mode,"indeterminate"===n.mode)),t.uIk("aria-valuemin",0)("aria-valuenow",n.value)("aria-valuemax",100)("data-pc-name","progressbar")("data-pc-section","root"),t.xp6(1),t.Q6J("ngIf","determinate"===n.mode),t.xp6(1),t.Q6J("ngIf","indeterminate"===n.mode))},dependencies:[p.mk,p.O5,p.tP,p.PC],styles:['@layer primeng{.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;-webkit-animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;-webkit-animation-delay:1.15s;animation-delay:1.15s}}@-webkit-keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@-webkit-keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0})}return i})(),Z=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=t.oAB({type:i});static \u0275inj=t.cJS({imports:[p.ez]})}return i})(),k=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-license"]],standalone:!0,features:[t.jDz],decls:5,vars:3,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"h-400","min-h-400","max-h-400","border-2","border-dashed","border-gray-300","rounded-2xl"],[1,"card"],[3,"value"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"p-progressBar",4),t.qZA()()()()),2&a&&(t.xp6(4),t.Akn("border-radius: 2rem;"),t.Q6J("value",50))},dependencies:[p.ez,_.QW,g.Cv,Z,F],styles:[".p-progressbar-determinate .p-progressbar-value,.p-progressbar .p-component .p-progressbar-determinate{border-radius:2rem!important}\n"],encapsulation:2})}return i})(),P=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-bd"]],standalone:!0,features:[t.jDz],decls:5,vars:0,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"h-400","min-h-400","max-h-400","border-2","border-dashed","border-gray-300","rounded-2xl"]],template:function(a,n){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card"),t._UZ(4,"mat-progress-bar"),t.qZA()()()())},dependencies:[p.ez,_.QW,_.a8,g.Cv,g.pW]})}return i})();var v=l(5313),m=l(1476),d=l(3566),f=l(2296),h=l(617),s=l(6223),H=l(3620),u=l(4170),T=l(4516),W=l(2096),E=l(2246);let q=(()=>{class i{constructor(){}getDepartamentos(){return(0,W.of)(E.iy)}static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Q(i,o){1&i&&(t.TgZ(0,"div",17),t._UZ(1,"mat-progress-bar",18),t.qZA()),2&i&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function B(i,o){1&i&&t.GkF(0)}const J=i=>({$implicit:i});function G(i,o){if(1&i&&(t.TgZ(0,"div",19),t.YNc(1,B,1,0,"ng-container",31),t.qZA()),2&i){const e=t.oxw().$implicit;t.oxw(2);const a=t.MAs(20);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.VKq(2,J,e))}}function j(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",25)(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div",26),t._uU(5),t.qZA(),t.TgZ(6,"div",26),t._uU(7),t.qZA(),t.TgZ(8,"div",26),t._uU(9),t.qZA(),t.TgZ(10,"div",27)(11,"button",28),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.toggleDetails(r.nombre_departamento))}),t._UZ(12,"mat-icon",29),t.qZA()()(),t.YNc(13,G,2,4,"div",30),t.BQk()}if(2&i){const e=o.$implicit,a=o.index,n=t.oxw(2);t.xp6(3),t.Oqu(a+1),t.xp6(2),t.Oqu(e.nombre_departamento),t.xp6(2),t.Oqu(e.codigo),t.xp6(2),t.Oqu(e.descripcion),t.xp6(3),t.Q6J("svgIcon",(null==n.selectedRow?null:n.selectedRow.nombre_departamento)===e.nombre_departamento?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),t.xp6(1),t.Q6J("ngIf",(null==n.selectedRow?null:n.selectedRow.nombre_departamento)===e.nombre_departamento)}}const K=()=>[5,10,25,100];function V(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",19)(2,"div",20),t._UZ(3,"div"),t.TgZ(4,"div",21),t._uU(5,"Nombre"),t.qZA(),t.TgZ(6,"div",21),t._uU(7,"C\xf3digo"),t.qZA(),t.TgZ(8,"div",21),t._uU(9,"Descripci\xf3n"),t.qZA(),t.TgZ(10,"div",22),t._uU(11,"Detalles"),t.qZA()(),t.YNc(12,j,14,6,"ng-container",23),t.qZA(),t._UZ(13,"mat-paginator",24),t.BQk()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("mat-sort-header","nombre_departamento"),t.xp6(2),t.Q6J("mat-sort-header","codigo"),t.xp6(2),t.Q6J("mat-sort-header","descripcion"),t.xp6(4),t.Q6J("ngForOf",e.dataSource.filteredData),t.xp6(1),t.Q6J("length",e.dataSource.data.length)("pageSize",10)("pageSizeOptions",t.DdM(8,K))("showFirstLastButtons",!0)}}function Y(i,o){1&i&&(t.TgZ(0,"div",32),t._uU(1," \xa1No hay departamentos! "),t.qZA())}function z(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",33)(1,"div",34)(2,"form",35)(3,"div",36)(4,"div",37)(5,"div",38)(6,"mat-form-field",39)(7,"mat-label"),t._uU(8,"Nombre del Departamento"),t.qZA(),t._UZ(9,"input",40),t.qZA(),t.TgZ(10,"mat-form-field",39)(11,"mat-label"),t._uU(12,"C\xf3digo"),t.qZA(),t._UZ(13,"input",41),t.qZA(),t.TgZ(14,"mat-form-field",39)(15,"mat-label"),t._uU(16,"Descripci\xf3n"),t.qZA(),t._UZ(17,"textarea",42),t.qZA()()()(),t.TgZ(18,"div",43)(19,"button",44),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.deleteSelectedRecord())}),t._uU(20,"Eliminar"),t.qZA(),t.TgZ(21,"div",45)(22,"button",46),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.updateSelectedRecord())}),t._uU(23,"Actualizar"),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.selectedRowForm)}}let X=(()=>{class i{constructor(e,a){this.departamentoService=e,this.cdr=a,this.displayedColumns=["nombre_departamento","codigo","descripcion","actions"],this.dataSource=new v.by([]),this.searchInputControl=new s.NI,this.selectedRow=null,this.isLoading=!1,this.selectedRowForm=new s.cw({nombre_departamento:new s.NI(""),codigo:new s.NI(""),descripcion:new s.NI("")})}ngOnInit(){this.isLoading=!0,this.departamentoService.getDepartamentos().subscribe(e=>{this.dataSource.data=e,this.isLoading=!1,this.cdr.detectChanges()}),this.dataSource.filterPredicate=(e,a)=>{if(!a)return!0;const n=a.toLowerCase().split(" ").filter(c=>c.length>0),r=[e.nombre_departamento,e.codigo,e.descripcion].join(" ").toLowerCase();return n.every(c=>r.includes(c))},this.searchInputControl.valueChanges.pipe((0,H.b)(300)).subscribe(e=>{this.dataSource.filter=e.trim().toLowerCase(),this.closeDetails()})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.cdr.detectChanges()}toggleDetails(e){this.selectedRow=this.selectedRow?.nombre_departamento===e?null:this.dataSource.data.find(a=>a.nombre_departamento===e)||null,this.selectedRow&&this.selectedRowForm.setValue({nombre_departamento:this.selectedRow.nombre_departamento,codigo:this.selectedRow.codigo,descripcion:this.selectedRow.descripcion}),this.cdr.markForCheck()}closeDetails(){this.selectedRow=null}openNewDepartamentoDialog(){console.log("Open new departamento dialog")}updateSelectedRecord(){}deleteSelectedRecord(){}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(q),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-departamento"]],viewQuery:function(a,n){if(1&a&&(t.Gf(m.NW,5),t.Gf(d.YE,5)),2&a){let r;t.iGM(r=t.CRH())&&(n.paginator=r.first),t.iGM(r=t.CRH())&&(n.sort=r.first)}},standalone:!0,features:[t.jDz],decls:21,vars:8,consts:[[1,"flex","flex-col","min-h-screen","p-6","w-full"],[1,"flex","flex-col","flex-auto","min-w-0","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","Buscar departamentos",3,"formControl","autocomplete"],["mat-flat-button","","color","primary",1,"ml-4",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-x-auto"],[4,"ngIf","ngIfElse"],["noDepartments",""],["rowDetailsTemplate",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"grid"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5",2,"grid-template-columns","40px repeat(3, minmax(100px, 1fr)) 100px"],[3,"mat-sort-header"],[1,"sticky-end"],[4,"ngFor","ngForOf"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"length","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"inventory-grid","grid","gap-4","py-3","px-6","md:px-8","border-b","items-center","text-m",2,"grid-template-columns","40px repeat(3, minmax(100px, 1fr)) 100px"],[1,"truncate"],[1,"flex","items-center","justify-center","sticky-end"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6","whitespace-nowrap",3,"click"],[1,"icon-size-5",3,"svgIcon"],["class","grid",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-8","sm:p-16","border-b","text-4xl","font-semibold","tracking-tight","text-center"],[1,"shadow-lg","overflow-hidden"],[1,"flex","border-b"],[1,"flex","flex-col","w-full",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","p-8"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-2/4","sm:pl-8"],[1,"w-full"],["matInput","","formControlName","nombre_departamento"],["matInput","","formControlName","codigo"],["matInput","","formControlName","descripcion"],[1,"flex","items-center","justify-between","w-full","border-t","px-8","py-4"],["mat-button","","color","warn",1,"-ml-4",3,"click"],[1,"flex","items-center"],["mat-button","","color","primary",1,"-ml-4",3,"click"]],template:function(a,n){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,Q,2,1,"div",3),t.TgZ(4,"div",4),t._uU(5,"Departamentos"),t.qZA(),t.TgZ(6,"div",5)(7,"mat-form-field",6),t._UZ(8,"mat-icon",7)(9,"input",8),t.qZA(),t.TgZ(10,"button",9),t.NdJ("click",function(){return n.openNewDepartamentoDialog()}),t._UZ(11,"mat-icon",10),t.TgZ(12,"span",11),t._uU(13,"Agregar"),t.qZA()()()(),t.TgZ(14,"div",12)(15,"div",13),t.YNc(16,V,14,9,"ng-container",14)(17,Y,2,0,"ng-template",null,15,t.W1O),t.qZA()()(),t.YNc(19,z,24,1,"ng-template",null,16,t.W1O),t.qZA()),2&a){const r=t.MAs(18);t.xp6(3),t.Q6J("ngIf",n.isLoading),t.xp6(4),t.Q6J("subscriptSizing","dynamic"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:magnifying-glass"),t.xp6(1),t.Q6J("formControl",n.searchInputControl)("autocomplete","off"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(5),t.Q6J("ngIf",n.dataSource.data.length>0)("ngIfElse",r)}},dependencies:[p.ez,p.sg,p.O5,p.tP,_.QW,v.p0,m.TU,m.NW,d.JX,d.YE,d.nU,f.ot,f.lW,h.Ps,h.Hw,u.lN,u.KE,u.hX,u.qo,T.c,T.Nt,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.oH,s.sg,s.u]})}return i})();var b=l(2596),$=l(5619),tt=l(8645);function et(i,o){1&i&&(t.TgZ(0,"div",16),t._UZ(1,"mat-progress-bar",17),t.qZA()),2&i&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function it(i,o){if(1&i&&(t.ynx(0),t._UZ(1,"img",38),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.dataSource.data[0].background,t.LSH)}}function at(i,o){if(1&i&&t._UZ(0,"img",39),2&i){const e=t.oxw(3);t.Q6J("src",e.dataSource.data[0].avatar,t.LSH)}}function nt(i,o){if(1&i&&(t.TgZ(0,"div",40),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.dataSource.data[0].nombre_entidad.charAt(0)," ")}}function ot(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",43)(2,"span",44),t._uU(3),t.qZA()(),t.BQk()),2&i){const e=o.$implicit;t.xp6(3),t.Oqu(e.title)}}function rt(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",41),t.YNc(2,ot,4,1,"ng-container",42),t.qZA(),t.BQk()),2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.dataSource.data[0].tags)("ngForTrackBy",e.trackByFn)}}const st=()=>["../"];function lt(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",20),t.YNc(2,it,2,1,"ng-container",19),t.TgZ(3,"div",21)(4,"a",22),t._UZ(5,"mat-icon",23),t.qZA()()(),t.TgZ(6,"div",24)(7,"div",25)(8,"div",26)(9,"div",27),t.YNc(10,at,1,1,"img",28)(11,nt,2,1,"div",29),t.qZA(),t.TgZ(12,"div",30)(13,"button",31),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.openEditEntidadDialog(n.dataSource.data[0]))}),t._UZ(14,"mat-icon",32),t.TgZ(15,"span",33),t._uU(16,"Editar"),t.qZA()()()(),t.TgZ(17,"div",34),t._uU(18),t.qZA(),t.YNc(19,rt,3,2,"ng-container",19),t.TgZ(20,"div",35)(21,"div",36),t._UZ(22,"mat-icon",10),t.TgZ(23,"div",37),t._uU(24),t.qZA()(),t.TgZ(25,"div",36),t._UZ(26,"mat-icon",10),t.TgZ(27,"div",37),t._uU(28),t.qZA()(),t.TgZ(29,"div",36),t._UZ(30,"mat-icon",10),t.TgZ(31,"div",37),t._uU(32),t.qZA()(),t.TgZ(33,"div",36),t._UZ(34,"mat-icon",10),t.TgZ(35,"div",37),t._uU(36),t.qZA()(),t.TgZ(37,"div",36),t._UZ(38,"mat-icon",10),t.TgZ(39,"div",37),t._uU(40),t.qZA()()()()(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.dataSource.data[0].background),t.xp6(2),t.Q6J("matTooltip","Close")("routerLink",t.DdM(19,st)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x-mark"),t.xp6(5),t.Q6J("ngIf",e.dataSource.data[0].avatar),t.xp6(1),t.Q6J("ngIf",!e.dataSource.data[0].avatar),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:pencil-square"),t.xp6(4),t.Oqu(e.dataSource.data[0].nombre_entidad),t.xp6(1),t.Q6J("ngIf",null==e.dataSource.data[0].tags?null:e.dataSource.data[0].tags.length),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:identification"),t.xp6(2),t.Oqu(e.dataSource.data[0].codigo_entidad),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:building-office"),t.xp6(2),t.Oqu(e.dataSource.data[0].domicilio_legal),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:phone"),t.xp6(2),t.Oqu(e.dataSource.data[0].telefonos),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:map-pin"),t.xp6(2),t.Oqu(null==e.dataSource.data[0].municipio?null:e.dataSource.data[0].municipio.nombre_municipio),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:map-pin"),t.xp6(2),t.Oqu(null==e.dataSource.data[0].provincia?null:e.dataSource.data[0].provincia.nombre_provincia)}}function ct(i,o){if(1&i&&t._UZ(0,"img",39),2&i){const e=t.oxw(3);t.Q6J("src",e.contactForm.get("logo").value,t.LSH)}}function pt(i,o){if(1&i&&(t.TgZ(0,"div",40),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.contactForm.get("nombre_entidad").value.charAt(0)," ")}}function dt(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",24)(2,"div",25)(3,"form",45),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.updateEntidad())}),t.TgZ(4,"div",26)(5,"div",46),t._UZ(6,"div",47),t.TgZ(7,"div",48)(8,"div")(9,"input",49,50),t.NdJ("change",function(n){t.CHM(e);const r=t.oxw(2);return t.KtG(r.uploadLogo(n.target.files))}),t.qZA(),t.TgZ(11,"label",51),t._UZ(12,"mat-icon",23),t.qZA()(),t.TgZ(13,"div")(14,"button",52),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.removeLogo())}),t._UZ(15,"mat-icon",23),t.qZA()()(),t.YNc(16,ct,1,1,"img",28)(17,pt,2,1,"div",29),t.qZA()(),t.TgZ(18,"mat-form-field",53)(19,"mat-label"),t._uU(20,"Nombre Entidad"),t.qZA(),t._UZ(21,"input",54),t.qZA(),t.TgZ(22,"mat-form-field",53)(23,"mat-label"),t._uU(24,"C\xf3digo Entidad"),t.qZA(),t._UZ(25,"input",55),t.qZA(),t.TgZ(26,"mat-form-field",53)(27,"mat-label"),t._uU(28,"Domicilio Legal"),t.qZA(),t._UZ(29,"input",56),t.qZA(),t.TgZ(30,"mat-form-field",53)(31,"mat-label"),t._uU(32,"Tel\xe9fonos"),t.qZA(),t._UZ(33,"input",57),t.qZA(),t.TgZ(34,"mat-form-field",53)(35,"mat-label"),t._uU(36,"Municipio"),t.qZA(),t._UZ(37,"input",58),t.qZA(),t.TgZ(38,"div",59)(39,"button",60),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.cancelEdit())}),t._uU(40,"Cancelar"),t.qZA(),t.TgZ(41,"button",61),t._uU(42,"Guardar"),t.qZA()()()()(),t.BQk()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("formGroup",e.contactForm),t.xp6(6),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:camera"),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:trash"),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("logo").value),t.xp6(1),t.Q6J("ngIf",!e.contactForm.get("logo").value&&e.contactForm.get("nombre_entidad").value),t.xp6(24),t.Q6J("disabled",e.contactForm.invalid)}}function ut(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",18),t.YNc(2,lt,41,20,"ng-container",19)(3,dt,43,8,"ng-container",19),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.editMode),t.xp6(1),t.Q6J("ngIf",e.editMode)}}function mt(i,o){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",68),t._UZ(2,"div"),t.TgZ(3,"div",69),t._uU(4),t.qZA(),t.TgZ(5,"div",70),t._uU(6),t.qZA(),t.TgZ(7,"div",70),t._uU(8),t.qZA(),t.TgZ(9,"div",70),t._uU(10),t.qZA(),t.TgZ(11,"div",70),t._uU(12),t.qZA(),t.TgZ(13,"div",70),t._uU(14),t.qZA(),t.TgZ(15,"div",71)(16,"button",72),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.openEditEntidadDialog(r))}),t._UZ(17,"mat-icon",32),t.qZA(),t.TgZ(18,"button",73),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.deleteEntidad(r))}),t._UZ(19,"mat-icon",32),t.qZA()()(),t.BQk()}if(2&i){const e=o.$implicit;t.xp6(4),t.Oqu(e.id),t.xp6(1),t.Q6J("matTooltip",e.nombre_entidad),t.xp6(1),t.hij(" ",e.nombre_entidad," "),t.xp6(1),t.Q6J("matTooltip",e.codigo_entidad),t.xp6(1),t.hij(" ",e.codigo_entidad," "),t.xp6(1),t.Q6J("matTooltip",e.domicilio_legal),t.xp6(1),t.hij(" ",e.domicilio_legal," "),t.xp6(1),t.Q6J("matTooltip",e.telefonos),t.xp6(1),t.hij(" ",e.telefonos," "),t.xp6(1),t.Q6J("matTooltip",null==e.municipio?null:e.municipio.nombre),t.xp6(1),t.hij(" ",null==e.municipio?null:e.municipio.nombre," "),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:pencil"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:trash")}}const ft=()=>[5,10,25,100];function gt(i,o){if(1&i&&(t.ynx(0),t.TgZ(1,"div",63)(2,"div",64),t._UZ(3,"div"),t.TgZ(4,"div",65),t._uU(5,"ID"),t.qZA(),t.TgZ(6,"div",65),t._uU(7,"Nombre"),t.qZA(),t.TgZ(8,"div",65),t._uU(9,"C\xf3digo"),t.qZA(),t.TgZ(10,"div",65),t._uU(11,"Domicilio Legal"),t.qZA(),t.TgZ(12,"div",65),t._uU(13,"Tel\xe9fonos"),t.qZA(),t.TgZ(14,"div",65),t._uU(15,"Municipio"),t.qZA(),t.TgZ(16,"div",66),t._uU(17,"Detalles"),t.qZA()(),t.YNc(18,mt,20,13,"ng-container",42),t.qZA(),t._UZ(19,"mat-paginator",67),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("mat-sort-header","id"),t.xp6(2),t.Q6J("mat-sort-header","nombre_entidad"),t.xp6(2),t.Q6J("mat-sort-header","codigo_entidad"),t.xp6(2),t.Q6J("mat-sort-header","domicilio_legal"),t.xp6(2),t.Q6J("mat-sort-header","telefonos"),t.xp6(2),t.Q6J("mat-sort-header","municipio"),t.xp6(4),t.Q6J("ngForOf",e.dataSource.filteredData)("ngForTrackBy",e.trackByFn),t.xp6(1),t.Q6J("length",e.pagination.length)("pageIndex",e.pagination.page)("pageSize",e.pagination.size)("pageSizeOptions",t.DdM(13,ft))("showFirstLastButtons",!0)}}function _t(i,o){1&i&&(t.TgZ(0,"div",74),t._uU(1," \xa1No hay entidades! "),t.qZA())}function vt(i,o){if(1&i&&t.YNc(0,gt,20,14,"ng-container",14)(1,_t,2,0,"ng-template",null,62,t.W1O),2&i){const e=t.MAs(2),a=t.oxw();t.Q6J("ngIf",a.dataSource.data.length>0)("ngIfElse",e)}}const ht=[{path:"entidad",component:(()=>{class i{constructor(e,a,n){this._cdr=e,this._fb=a,this._document=n,this.displayedColumns=["id","nombre_entidad","codigo_entidad","domicilio_legal","telefonos","tipo_empresa","municipio","actions"],this.dataSource=new v.by,this._entidadesSubject=new $.X([]),this.entidades$=this._entidadesSubject.asObservable(),this.isLoading=!1,this.pagination={length:0,page:0,size:10},this.editMode=!1,this.selectedEntidad=null,this._unsubscribeAll=new tt.x}ngOnInit(){this.isLoading=!0,this.loadEntidades(),this.contactForm=this._fb.group({id:[null],nombre_entidad:["",s.kI.required],codigo_entidad:[""],domicilio_legal:[""],telefonos:[""],municipio:[""],logo:[null]})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}loadEntidades(){const e=[{id:1,municipio_id:101,nombre_entidad:"Entidad Uno",codigo_entidad:"E001",domicilio_legal:"Calle 123, Ciudad",telefonos:"123456789",logo:"",tipo_empresa:"Empresa Estatal",provincia:E.rQ[3],municipio:E.k0[0]}];this._entidadesSubject.next(e),this.dataSource.data=e,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.pagination.length=e.length,this.isLoading=!1,this._cdr.markForCheck()}openAddEntidadDialog(){this.editMode=!1,this.selectedEntidad=null,this.contactForm.reset(),this._cdr.markForCheck(),console.log("Open add entidad dialog")}openEditEntidadDialog(e){this.editMode=!0,this.selectedEntidad=e,this.contactForm.patchValue({id:e.id,nombre_entidad:e.nombre_entidad,codigo_entidad:e.codigo_entidad,domicilio_legal:e.domicilio_legal,telefonos:e.telefonos,municipio:e.municipio?.nombre_municipio||"",logo:e.logo||null}),this._cdr.markForCheck()}updateEntidad(){if(this.contactForm.invalid)return;const e=this.contactForm.value,a=this._entidadesSubject.getValue(),n=a.findIndex(r=>r.id===e.id);-1!==n&&(a[n]={...a[n],...e,municipio:{id:a[n].municipio.id,nombre:e.municipio}},this._entidadesSubject.next([...a]),this.dataSource.data=a,this.cancelEdit())}cancelEdit(){this.editMode=!1,this.selectedEntidad=null,this.contactForm.reset(),this._cdr.markForCheck()}deleteEntidad(e){const n=this._entidadesSubject.getValue().filter(r=>r.id!==e.id);this._entidadesSubject.next(n),this.dataSource.data=n,this.pagination.length=n.length,this._cdr.markForCheck()}canAddEntidad(){return 0===this._entidadesSubject.getValue().length}trackByFn(e,a){return a.id||e}uploadLogo(e){if(!e||!e[0])return;const a=e[0],n=new FileReader;n.onload=()=>{this.contactForm.get("logo").setValue(n.result),this.contactForm.markAsDirty(),this._cdr.markForCheck()},n.readAsDataURL(a)}removeLogo(){this.contactForm.get("logo").setValue(null),this.contactForm.markAsDirty(),this._cdr.markForCheck()}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(t.sBO),t.Y36(s.qu),t.Y36(p.K0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-entidad-list"]],viewQuery:function(a,n){if(1&a&&(t.Gf(m.NW,5),t.Gf(d.YE,5)),2&a){let r;t.iGM(r=t.CRH())&&(n.paginator=r.first),t.iGM(r=t.CRH())&&(n.sort=r.first)}},standalone:!0,features:[t.jDz],decls:19,vars:7,consts:[[1,"flex","flex-col","min-h-screen","p-6","w-full"],[1,"relative","flex","flex-col","flex-auto","p-6","pr-3","pb-3","bg-card","rounded-2xl","shadow","overflow-hidden","mb-6","w-full"],[1,"absolute","bottom-0","right-0","w-24","h-24","-m-6"],[1,"icon-size-24","opacity-25","text-blue-500","dark:text-blue-400",3,"svgIcon"],[1,"flex","flex-col","flex-auto","min-w-0","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","flex-col","sm:flex-row","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4","search-add-wrapper"],["mat-flat-button","",1,"ml-4","mt-4","sm:mt-0","w-40","text-lg",3,"color","disabled","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-x-auto"],[4,"ngIf","ngIfElse"],["multipleEntities",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"flex","flex-col","w-full"],[4,"ngIf"],[1,"relative","w-full","h-40","sm:h-48","px-8","sm:px-12","bg-accent-100","dark:bg-accent-700","custom-top-offset"],[1,"flex","items-center","justify-end","w-full","max-w-3xl","mx-auto","pt-6"],["mat-icon-button","",3,"matTooltip","routerLink"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"flex","flex-auto","items-end","-mt-16"],[1,"flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],["class","object-cover w-full h-full",3,"src",4,"ngIf"],["class","flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200",4,"ngIf"],[1,"flex","items-center","ml-auto","mb-1"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-3","text-4xl","font-bold","truncate"],[1,"flex","flex-col","mt-4","pt-6","border-t","space-y-8"],[1,"flex","sm:items-center"],[1,"ml-6","leading-6"],[1,"absolute","inset-0","object-cover","w-full","h-full",3,"src"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded","overflow-hidden","uppercase","text-8xl","font-bold","leading-none","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"flex","flex-wrap","items-center","mt-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","justify-center","py-1","px-3","mr-3","mb-3","rounded-full","leading-normal","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700"],[1,"text-sm","font-medium","whitespace-nowrap"],[3,"formGroup","ngSubmit"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["id","logo-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["logoFileInput",""],["for","logo-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["mat-icon-button","",3,"click"],["appearance","fill",1,"w-full"],["matInput","","formControlName","nombre_entidad","placeholder","Nombre Entidad","required",""],["matInput","","formControlName","codigo_entidad","placeholder","C\xf3digo Entidad"],["matInput","","formControlName","domicilio_legal","placeholder","Domicilio Legal"],["matInput","","formControlName","telefonos","placeholder","Tel\xe9fonos"],["matInput","","formControlName","municipio","placeholder","Municipio"],[1,"flex","justify-end","space-x-4","mt-6"],["mat-stroked-button","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["noEntities",""],[1,"flex","flex-col","h-full","overflow-y-auto"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5",2,"grid-template-columns","40px repeat(6, minmax(120px, 1fr)) 100px"],[3,"mat-sort-header"],[1,"sticky-end"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"inventory-grid","grid","gap-4","py-3","px-6","md:px-8","border-b","items-center","text-m",2,"grid-template-columns","40px repeat(6, minmax(120px, 1fr)) 100px"],[1,"truncate"],["matTooltipPosition","above",1,"truncate",3,"matTooltip"],[1,"flex","items-center","justify-center","sticky-end"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6","whitespace-nowrap",3,"click"],["mat-stroked-button","","color","warn",1,"min-w-10","min-h-7","h-7","px-2","leading-6","whitespace-nowrap","ml-2",3,"click"],[1,"p-8","sm:p-16","border-b","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(a,n){if(1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"mat-icon",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5),t.YNc(6,et,2,1,"div",6),t.TgZ(7,"div",7),t._uU(8,"Mi Entidad"),t.qZA(),t.TgZ(9,"div",8)(10,"button",9),t.NdJ("click",function(){return n.openAddEntidadDialog()}),t._UZ(11,"mat-icon",10),t.TgZ(12,"span",11),t._uU(13,"Agregar"),t.qZA()()()(),t.TgZ(14,"div",12)(15,"div",13),t.YNc(16,ut,4,2,"ng-container",14)(17,vt,3,2,"ng-template",null,15,t.W1O),t.qZA()()()()()),2&a){const r=t.MAs(18);t.xp6(3),t.Q6J("svgIcon","heroicons_outline:building-office"),t.xp6(3),t.Q6J("ngIf",n.isLoading),t.xp6(4),t.Q6J("color","primary")("disabled",!n.canAddEntidad()),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(5),t.Q6J("ngIf",1===n.dataSource.data.length)("ngIfElse",r)}},dependencies:[p.ez,p.sg,p.O5,f.ot,f.lW,f.o6,f.RK,g.Cv,g.pW,d.JX,d.YE,d.nU,v.p0,h.Ps,h.Hw,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,m.TU,m.NW,u.lN,u.KE,u.hX,T.c,T.Nt,b.AV,b.gM],styles:[".custom-top-offset{top:75px}\n"],encapsulation:2,changeDetection:0})}return i})()},{path:"trabajadores",component:x},{path:"departamentos",component:X},{path:"licencia",component:k},{path:"bd",component:P}];let Tt=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[S.Bz.forChild(ht),S.Bz]})}return i})()}}]);