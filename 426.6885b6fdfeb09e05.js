"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[426],{5426:(Tt,T,d)=>{d.r(T),d.d(T,{TrabajadoresComponent:()=>ht});var c=d(6814),p=d(2296),g=d(617),s=d(5313),m=d(4170),f=d(4516),x=d(6007),b=d(1476),_=d(3566),Z=d(2596),i=d(6223),A=d(8645),q=d(3620),U=d(3997),F=d(9773),u=d(7700),C=d(8525),t=d(9212),j=d(2682),y=d(3680);function O(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"El nombre es requerido"),t.qZA())}function I(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"El nombre debe tener al menos 2 caracteres"),t.qZA())}function N(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,O,2,0,"span",5)(2,I,2,0,"span",5),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.nombre||null==e.nombre.errors?null:e.nombre.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.nombre||null==e.nombre.errors?null:e.nombre.errors.minlength)}}function w(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"El apellido es requerido"),t.qZA())}function E(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"El apellido debe tener al menos 2 caracteres"),t.qZA())}function M(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,w,2,0,"span",5)(2,E,2,0,"span",5),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.apellido||null==e.apellido.errors?null:e.apellido.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.apellido||null==e.apellido.errors?null:e.apellido.errors.minlength)}}function P(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"El usuario es requerido"),t.qZA())}function J(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"El usuario debe tener al menos 3 caracteres"),t.qZA())}function k(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,P,2,0,"span",5)(2,J,2,0,"span",5),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.usuario||null==e.usuario.errors?null:e.usuario.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.usuario||null==e.usuario.errors?null:e.usuario.errors.minlength)}}function Q(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"El email es requerido"),t.qZA())}function S(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"Ingrese un email v\xe1lido"),t.qZA())}function Y(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,Q,2,0,"span",5)(2,S,2,0,"span",5),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.required),t.xp6(1),t.Q6J("ngIf",null==e.email||null==e.email.errors?null:e.email.errors.email)}}function D(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"El cargo es requerido"),t.qZA())}function R(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,D,2,0,"span",5),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.cargo||null==e.cargo.errors?null:e.cargo.errors.required)}}function L(o,r){if(1&o&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.nombre," ")}}function $(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"El departamento es requerido"),t.qZA())}function B(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,$,2,0,"span",5),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.departamento_id||null==e.departamento_id.errors?null:e.departamento_id.errors.required)}}function z(o,r){if(1&o&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.label," ")}}function H(o,r){1&o&&(t.TgZ(0,"span"),t._uU(1,"El rol es requerido"),t.qZA())}function G(o,r){if(1&o&&(t.TgZ(0,"mat-error"),t.YNc(1,H,2,0,"span",5),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",null==e.rol||null==e.rol.errors?null:e.rol.errors.required)}}function V(o,r){1&o&&(t.TgZ(0,"mat-form-field",3)(1,"mat-label"),t._uU(2,"Contrase\xf1a"),t.qZA(),t._UZ(3,"input",20),t.TgZ(4,"mat-hint"),t._uU(5,"Se asignar\xe1 una contrase\xf1a temporal que el usuario deber\xe1 cambiar"),t.qZA()())}let v=(()=>{class o{constructor(e,n,a,l){this.fb=e,this.trabajadoresService=n,this.dialogRef=a,this.data=l,this.roles=[{value:"admin",label:"Administrador"},{value:"user",label:"Usuario"},{value:"supervisor",label:"Supervisor"},{value:"empleado",label:"Empleado"}],this.isEdit=l.isEdit,this.initForm()}ngOnInit(){this.departamentos$=this.trabajadoresService.getDepartamentos(),this.isEdit&&this.data.trabajador&&this.trabajadorForm.patchValue({nombre:this.data.trabajador.nombre,apellido:this.data.trabajador.apellido,usuario:this.data.trabajador.usuario,email:this.data.trabajador.email,telefono:this.data.trabajador.telefono,telefono_movil:this.data.trabajador.telefono_movil,cargo:this.data.trabajador.cargo,departamento_id:this.data.trabajador.departamento_id,rol:this.data.trabajador.rol})}initForm(){this.trabajadorForm=this.fb.group({nombre:["",[i.kI.required,i.kI.minLength(2)]],apellido:["",[i.kI.required,i.kI.minLength(2)]],usuario:["",[i.kI.required,i.kI.minLength(3)]],email:["",[i.kI.required,i.kI.email]],telefono:[""],telefono_movil:[""],cargo:["",i.kI.required],departamento_id:["",i.kI.required],rol:["",i.kI.required],contrasena:[this.isEdit?"":"temporal123"]})}get nombre(){return this.trabajadorForm.get("nombre")}get apellido(){return this.trabajadorForm.get("apellido")}get usuario(){return this.trabajadorForm.get("usuario")}get email(){return this.trabajadorForm.get("email")}get telefono(){return this.trabajadorForm.get("telefono")}get telefono_movil(){return this.trabajadorForm.get("telefono_movil")}get cargo(){return this.trabajadorForm.get("cargo")}get departamento_id(){return this.trabajadorForm.get("departamento_id")}get rol(){return this.trabajadorForm.get("rol")}onSubmit(){if(this.trabajadorForm.valid){const e=this.trabajadorForm.value;this.isEdit&&this.data.trabajador?.id?this.trabajadoresService.updateTrabajador(this.data.trabajador.id,e).subscribe({next:n=>{this.dialogRef.close(n)},error:n=>{console.error("Error al actualizar trabajador:",n)}}):this.trabajadoresService.createTrabajador(e).subscribe({next:n=>{this.dialogRef.close(n)},error:n=>{console.error("Error al crear trabajador:",n)}})}}onCancel(){this.dialogRef.close()}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(i.qu),t.Y36(j.r),t.Y36(u.so),t.Y36(u.WI))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-trabajador-form"]],standalone:!0,features:[t.jDz],decls:59,vars:17,consts:[[1,"trabajador-form-dialog"],["mat-dialog-title","",1,"flex","items-center"],[1,"flex","flex-col","gap-4",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","nombre","placeholder","Ingrese el nombre"],[4,"ngIf"],["matInput","","formControlName","apellido","placeholder","Ingrese el apellido"],["matInput","","formControlName","usuario","placeholder","Ingrese el nombre de usuario"],["matInput","","type","email","formControlName","email","placeholder","ejemplo@correo.com"],["matInput","","formControlName","telefono","placeholder","Ingrese el tel\xe9fono"],["matInput","","formControlName","telefono_movil","placeholder","Ingrese el tel\xe9fono m\xf3vil"],["matInput","","formControlName","cargo","placeholder","Ingrese el cargo"],["formControlName","departamento_id"],[3,"value",4,"ngFor","ngForOf"],["formControlName","rol"],["appearance","outline",4,"ngIf"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],["matInput","","type","password","formControlName","contrasena","placeholder","Contrase\xf1a temporal"]],template:function(n,a){1&n&&(t.TgZ(0,"div",0)(1,"h2",1)(2,"mat-icon"),t._uU(3),t.qZA(),t._uU(4),t.qZA(),t.TgZ(5,"mat-dialog-content")(6,"form",2)(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Nombre"),t.qZA(),t._UZ(10,"input",4),t.YNc(11,N,3,2,"mat-error",5),t.qZA(),t.TgZ(12,"mat-form-field",3)(13,"mat-label"),t._uU(14,"Apellido"),t.qZA(),t._UZ(15,"input",6),t.YNc(16,M,3,2,"mat-error",5),t.qZA(),t.TgZ(17,"mat-form-field",3)(18,"mat-label"),t._uU(19,"Usuario"),t.qZA(),t._UZ(20,"input",7),t.YNc(21,k,3,2,"mat-error",5),t.qZA(),t.TgZ(22,"mat-form-field",3)(23,"mat-label"),t._uU(24,"Email"),t.qZA(),t._UZ(25,"input",8),t.YNc(26,Y,3,2,"mat-error",5),t.qZA(),t.TgZ(27,"mat-form-field",3)(28,"mat-label"),t._uU(29,"Tel\xe9fono"),t.qZA(),t._UZ(30,"input",9),t.qZA(),t.TgZ(31,"mat-form-field",3)(32,"mat-label"),t._uU(33,"Tel\xe9fono M\xf3vil"),t.qZA(),t._UZ(34,"input",10),t.qZA(),t.TgZ(35,"mat-form-field",3)(36,"mat-label"),t._uU(37,"Cargo"),t.qZA(),t._UZ(38,"input",11),t.YNc(39,R,2,1,"mat-error",5),t.qZA(),t.TgZ(40,"mat-form-field",3)(41,"mat-label"),t._uU(42,"Departamento"),t.qZA(),t.TgZ(43,"mat-select",12),t.YNc(44,L,2,2,"mat-option",13),t.ALo(45,"async"),t.qZA(),t.YNc(46,B,2,1,"mat-error",5),t.qZA(),t.TgZ(47,"mat-form-field",3)(48,"mat-label"),t._uU(49,"Rol"),t.qZA(),t.TgZ(50,"mat-select",14),t.YNc(51,z,2,2,"mat-option",13),t.qZA(),t.YNc(52,G,2,1,"mat-error",5),t.qZA(),t.YNc(53,V,6,0,"mat-form-field",15),t.qZA()(),t.TgZ(54,"mat-dialog-actions",16)(55,"button",17),t.NdJ("click",function(){return a.onCancel()}),t._uU(56,"Cancelar"),t.qZA(),t.TgZ(57,"button",18),t.NdJ("click",function(){return a.onSubmit()}),t._uU(58),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(a.isEdit?"edit":"person_add"),t.xp6(1),t.hij(" ",a.isEdit?"Editar Trabajador":"Nuevo Trabajador"," "),t.xp6(2),t.Q6J("formGroup",a.trabajadorForm),t.xp6(5),t.Q6J("ngIf",(null==a.nombre?null:a.nombre.invalid)&&(null==a.nombre?null:a.nombre.touched)),t.xp6(5),t.Q6J("ngIf",(null==a.apellido?null:a.apellido.invalid)&&(null==a.apellido?null:a.apellido.touched)),t.xp6(5),t.Q6J("ngIf",(null==a.usuario?null:a.usuario.invalid)&&(null==a.usuario?null:a.usuario.touched)),t.xp6(5),t.Q6J("ngIf",(null==a.email?null:a.email.invalid)&&(null==a.email?null:a.email.touched)),t.xp6(13),t.Q6J("ngIf",(null==a.cargo?null:a.cargo.invalid)&&(null==a.cargo?null:a.cargo.touched)),t.xp6(5),t.Q6J("ngForOf",t.lcZ(45,15,a.departamentos$)),t.xp6(2),t.Q6J("ngIf",(null==a.departamento_id?null:a.departamento_id.invalid)&&(null==a.departamento_id?null:a.departamento_id.touched)),t.xp6(5),t.Q6J("ngForOf",a.roles),t.xp6(1),t.Q6J("ngIf",(null==a.rol?null:a.rol.invalid)&&(null==a.rol?null:a.rol.touched)),t.xp6(1),t.Q6J("ngIf",!a.isEdit),t.xp6(4),t.Q6J("disabled",a.trabajadorForm.invalid),t.xp6(1),t.hij(" ",a.isEdit?"Actualizar":"Crear"," "))},dependencies:[c.ez,c.sg,c.O5,c.Ov,i.UX,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,u.Is,u.uh,u.H8,u.xY,p.ot,p.lW,m.lN,m.KE,m.hX,m.bx,m.TO,f.c,f.Nt,C.LD,C.gD,y.ey,g.Ps,g.Hw],styles:[".trabajador-form-dialog[_ngcontent-%COMP%]{min-width:500px}.trabajador-form-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.trabajador-form-dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.trabajador-form-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{padding:1rem 0}.trabajador-form-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{min-width:400px}.trabajador-form-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{padding:1rem 0;gap:.5rem}"]})}return o})();function X(o,r){1&o&&(t.TgZ(0,"div",16),t._UZ(1,"mat-progress-bar",17),t.qZA()),2&o&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function W(o,r){1&o&&(t.TgZ(0,"th",33),t._uU(1,"Nombre"),t.qZA())}function K(o,r){if(1&o&&(t.TgZ(0,"td",34),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Oqu(e.nombre)}}function tt(o,r){1&o&&(t.TgZ(0,"th",33),t._uU(1,"Apellido"),t.qZA())}function et(o,r){if(1&o&&(t.TgZ(0,"td",34),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Oqu(e.apellido)}}function ot(o,r){1&o&&(t.TgZ(0,"th",33),t._uU(1,"Email"),t.qZA())}function at(o,r){if(1&o&&(t.TgZ(0,"td",34),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Oqu(e.email)}}function rt(o,r){1&o&&(t.TgZ(0,"th",33),t._uU(1,"Cargo"),t.qZA())}function nt(o,r){if(1&o&&(t.TgZ(0,"td",34),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Oqu(e.cargo)}}function lt(o,r){1&o&&(t.TgZ(0,"th",35),t._uU(1,"Departamento"),t.qZA())}function it(o,r){if(1&o&&(t.TgZ(0,"td",34),t._uU(1),t.qZA()),2&o){const e=r.$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",n.getDepartamentoNombre(e.departamento_id)," ")}}function dt(o,r){1&o&&(t.TgZ(0,"th",33),t._uU(1,"Rol"),t.qZA())}const st=(o,r,e,n)=>({"bg-green-100 text-green-800":o,"bg-blue-100 text-blue-800":r,"bg-yellow-100 text-yellow-800":e,"bg-gray-100 text-gray-800":n});function mt(o,r){if(1&o&&(t.TgZ(0,"td",34)(1,"span",36),t._uU(2),t.qZA()()),2&o){const e=r.$implicit;t.xp6(1),t.Q6J("ngClass",t.l5B(2,st,"admin"===e.rol,"user"===e.rol,"supervisor"===e.rol,"empleado"===e.rol)),t.xp6(1),t.hij(" ",e.rol," ")}}function ct(o,r){1&o&&(t.TgZ(0,"th",35),t._uU(1,"Acciones"),t.qZA())}function ut(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"td",34)(1,"div",37)(2,"button",38),t.NdJ("click",function(){const l=t.CHM(e).$implicit,h=t.oxw(2);return t.KtG(h.onEdit(l))}),t.TgZ(3,"mat-icon"),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"button",39),t.NdJ("click",function(){const l=t.CHM(e).$implicit,h=t.oxw(2);return t.KtG(h.onDelete(l))}),t.TgZ(6,"mat-icon"),t._uU(7,"delete"),t.qZA()()()()}}function pt(o,r){1&o&&t._UZ(0,"tr",40)}function gt(o,r){1&o&&t._UZ(0,"tr",41)}const ft=()=>[5,10,25,100];function _t(o,r){if(1&o&&(t.TgZ(0,"div",18)(1,"table",19),t.ynx(2,20),t.YNc(3,W,2,0,"th",21)(4,K,2,1,"td",22),t.BQk(),t.ynx(5,23),t.YNc(6,tt,2,0,"th",21)(7,et,2,1,"td",22),t.BQk(),t.ynx(8,24),t.YNc(9,ot,2,0,"th",21)(10,at,2,1,"td",22),t.BQk(),t.ynx(11,25),t.YNc(12,rt,2,0,"th",21)(13,nt,2,1,"td",22),t.BQk(),t.ynx(14,26),t.YNc(15,lt,2,0,"th",27)(16,it,2,1,"td",22),t.BQk(),t.ynx(17,28),t.YNc(18,dt,2,0,"th",21)(19,mt,3,7,"td",22),t.BQk(),t.ynx(20,29),t.YNc(21,ct,2,0,"th",27)(22,ut,8,0,"td",22),t.BQk(),t.YNc(23,pt,1,0,"tr",30)(24,gt,1,0,"tr",31),t.qZA(),t._UZ(25,"mat-paginator",32),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(6,ft))("pageSize",10)("showFirstLastButtons",!0)}}function bt(o,r){1&o&&(t.TgZ(0,"div",42)(1,"mat-icon",43),t._uU(2,"people_outline"),t.qZA(),t.TgZ(3,"h2",44),t._uU(4," No hay trabajadores "),t.qZA(),t.TgZ(5,"p",45),t._uU(6," Comienza agregando tu primer trabajador al sistema "),t.qZA()())}let ht=(()=>{class o{constructor(e,n,a){this.trabajadoresService=e,this.dialog=n,this.cdr=a,this.displayedColumns=["nombre","apellido","email","cargo","departamento","rol","acciones"],this.isLoading=!1,this.searchInputControl=new i.NI(""),this.destroy$=new A.x,this.dataSource=new s.by([])}ngOnInit(){this.loadTrabajadores(),this.setupSearch()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.cdr.detectChanges()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setupSearch(){this.searchInputControl.valueChanges.pipe((0,q.b)(300),(0,U.x)(),(0,F.R)(this.destroy$)).subscribe(e=>{this.onSearch(e||"")})}loadTrabajadores(){this.isLoading=!0,this.trabajadoresService.getTrabajadores().subscribe({next:e=>{console.log(e),this.dataSource.data=e,this.isLoading=!1,this.cdr.detectChanges()},error:e=>{console.error("Error al cargar trabajadores:",e),this.isLoading=!1,this.cdr.detectChanges()}})}onSearch(e){e.trim()?(this.isLoading=!0,this.trabajadoresService.searchTrabajadores(e).subscribe({next:n=>{this.dataSource.data=n,this.isLoading=!1,this.cdr.detectChanges()},error:n=>{console.error("Error en b\xfasqueda:",n),this.isLoading=!1,this.cdr.detectChanges()}})):this.loadTrabajadores()}openNewTrabajadorDialog(){this.dialog.open(v,{width:"600px",data:{isEdit:!1}}).afterClosed().subscribe(a=>{a&&this.loadTrabajadores()})}onEdit(e){this.dialog.open(v,{width:"600px",data:{trabajador:e,isEdit:!0}}).afterClosed().subscribe(l=>{l&&this.loadTrabajadores()})}onDelete(e){e.id&&confirm(`\xbfEliminar a ${e.nombre} ${e.apellido}?`)&&(this.isLoading=!0,this.trabajadoresService.deleteTrabajador(e.id).subscribe({next:()=>{this.loadTrabajadores()},error:n=>{console.error("Error al eliminar trabajador:",n),this.isLoading=!1,this.cdr.detectChanges()}}))}exportToExcel(){this.trabajadoresService.exportToExcel().subscribe({next:e=>{this.downloadFile(e,"trabajadores.xlsx")},error:e=>{console.error("Error al exportar a Excel:",e)}})}exportToPdf(){this.trabajadoresService.exportToPdf().subscribe({next:e=>{this.downloadFile(e,"trabajadores.pdf")},error:e=>{console.error("Error al exportar a PDF:",e)}})}exportToCSV(){const e=this.convertToCSV(this.dataSource.data),n=new Blob([e],{type:"text/csv;charset=utf-8;"});this.downloadFile(n,"trabajadores.csv")}convertToCSV(e){return[["Nombre","Apellido","Email","Cargo","Tel\xe9fono","Rol"].join(","),...e.map(l=>[l.nombre,l.apellido,l.email,l.cargo,l.telefono||"",l.rol].join(","))].join("\n")}downloadFile(e,n){const a=window.URL.createObjectURL(e),l=document.createElement("a");l.href=a,l.download=n,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(a)}getDepartamentoNombre(e){return{1:"Recursos Humanos",2:"Tecnolog\xeda",3:"Finanzas",4:"Operaciones",5:"Marketing",6:"Ventas"}[e]||"Sin asignar"}trackByFn(e,n){return n.id||e}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(j.r),t.Y36(u.uw),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-trabajadores"]],viewQuery:function(n,a){if(1&n&&(t.Gf(b.NW,5),t.Gf(_.YE,5)),2&n){let l;t.iGM(l=t.CRH())&&(a.paginator=l.first),t.iGM(l=t.CRH())&&(a.sort=l.first)}},standalone:!0,features:[t.jDz],decls:37,vars:5,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],["appearance","outline",1,"search-field"],["matPrefix",""],["matInput","","placeholder","Buscar trabajadores...",3,"formControl","maxLength"],["mat-flat-button","","color","primary",1,"ml-4",3,"click"],[1,"ml-2","mr-1"],["mat-stroked-button","",1,"ml-2",3,"click"],[1,"ml-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],["class","overflow-auto",4,"ngIf","ngIfElse"],["emptyState",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"overflow-auto"],["mat-table","","matSort","",1,"trabajadores-table",3,"dataSource"],["matColumnDef","nombre"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","apellido"],["matColumnDef","email"],["matColumnDef","cargo"],["matColumnDef","departamento"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","rol"],["matColumnDef","acciones"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions","pageSize","showFirstLastButtons"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"action-buttons"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"flex","flex-col","items-center","justify-center","h-full","p-8"],[1,"text-6xl","text-gray-400","mb-4"],[1,"text-2xl","font-semibold","text-gray-600","mb-2"],[1,"text-gray-500","mb-6","text-center"]],template:function(n,a){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,X,2,1,"div",2),t.TgZ(3,"div",3),t._uU(4,"Trabajadores"),t.qZA(),t.TgZ(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Buscar"),t.qZA(),t.TgZ(9,"mat-icon",6),t._uU(10,"search"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"button",8),t.NdJ("click",function(){return a.openNewTrabajadorDialog()}),t.TgZ(13,"mat-icon"),t._uU(14,"add"),t.qZA(),t.TgZ(15,"span",9),t._uU(16,"Agregar"),t.qZA()(),t.TgZ(17,"button",10),t.NdJ("click",function(){return a.exportToExcel()}),t.TgZ(18,"mat-icon"),t._uU(19,"download"),t.qZA(),t.TgZ(20,"span",11),t._uU(21,"Excel"),t.qZA()(),t.TgZ(22,"button",10),t.NdJ("click",function(){return a.exportToCSV()}),t.TgZ(23,"mat-icon"),t._uU(24,"download"),t.qZA(),t.TgZ(25,"span",11),t._uU(26,"CSV"),t.qZA()(),t.TgZ(27,"button",10),t.NdJ("click",function(){return a.exportToPdf()}),t.TgZ(28,"mat-icon"),t._uU(29,"picture_as_pdf"),t.qZA(),t.TgZ(30,"span",11),t._uU(31,"PDF"),t.qZA()()()(),t.TgZ(32,"div",12)(33,"div",13),t.YNc(34,_t,26,7,"div",14)(35,bt,7,0,"ng-template",null,15,t.W1O),t.qZA()()()),2&n){const l=t.MAs(36);t.xp6(2),t.Q6J("ngIf",a.isLoading),t.xp6(9),t.Q6J("formControl",a.searchInputControl)("maxLength",50),t.xp6(23),t.Q6J("ngIf",a.dataSource.data.length>0)("ngIfElse",l)}},dependencies:[c.ez,c.mk,c.O5,p.ot,p.lW,p.RK,g.Ps,g.Hw,s.p0,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,m.lN,m.KE,m.hX,m.qo,f.c,f.Nt,x.Cv,x.pW,b.TU,b.NW,_.JX,_.YE,_.nU,Z.AV,Z.gM,i.UX,i.Fj,i.JJ,i.oH],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto}.filter-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(10,minmax(100px,1fr));gap:16px;padding:8px 16px;border-bottom:1px solid #ccc;background-color:#f9f9f9}.details-panel[_ngcontent-%COMP%]{padding:16px;background-color:#fff;border-top:1px solid #ccc}.sticky-end[_ngcontent-%COMP%]{position:sticky;right:0;background:inherit;z-index:1}.mat-form-field[_ngcontent-%COMP%]{width:100%}.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:120px 120px 200px 150px 120px 100px 120px}@media (min-width: 640px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:120px 120px 200px 150px 120px 100px 120px}}@media (min-width: 768px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:140px 140px 220px 180px 140px 120px 140px}}@media (min-width: 1024px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:160px 160px 240px 200px 160px 140px 160px}}@media (max-width: 1023px){.inventory-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.pointer-events-none[_ngcontent-%COMP%]{pointer-events:none;opacity:.6}.bg-green-100[_ngcontent-%COMP%]{background-color:#dcfce7}.text-green-800[_ngcontent-%COMP%]{color:#166534}.bg-blue-100[_ngcontent-%COMP%]{background-color:#dbeafe}.text-blue-800[_ngcontent-%COMP%]{color:#1e40af}.bg-yellow-100[_ngcontent-%COMP%]{background-color:#fef3c7}.text-yellow-800[_ngcontent-%COMP%]{color:#92400e}.bg-gray-100[_ngcontent-%COMP%]{background-color:#f3f4f6}.text-gray-800[_ngcontent-%COMP%]{color:#1f2937}.trabajadores-table[_ngcontent-%COMP%]{width:100%}.mat-mdc-table[_ngcontent-%COMP%]{background:transparent}.mat-mdc-header-row[_ngcontent-%COMP%]{background-color:#f9fafb}.mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#f3f4f6}.search-field[_ngcontent-%COMP%]{width:300px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:40px}"]})}return o})()}}]);