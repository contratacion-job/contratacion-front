"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[405],{5405:(Ht,j,c)=>{c.r(j),c.d(j,{ContratosRoutingModule:()=>Yt});var k=c(1896),E=c(6117),m=c(3566),g=c(1476),d=c(5313),s=c(6223),U=c(3620),A=c(3997),I=c(9773),p=c(6814),_=c(2296),h=c(6007),C=c(617),u=c(4170),v=c(4516),T=c(8525),S=c(7988),q=c(6385),f=c(2246),F=c(7668),Q=c(8645),t=c(9212),b=c(2096);let J=(()=>{class o{constructor(){}getEjecuciones(){return(0,b.of)(f.P_)}getEjecucionById(e){const n=f.P_.find(r=>r.id===e);return(0,b.of)(n)}addEjecucion(e){return f.P_.push(e),(0,b.of)(e)}updateEjecucion(e){const n=f.P_.findIndex(r=>r.id===e.id);return-1!==n&&(f.P_[n]=e),(0,b.of)(e)}deleteEjecucion(e){const n=f.P_.findIndex(r=>r.id===e);return-1!==n?(f.P_.splice(n,1),(0,b.of)(!0)):(0,b.of)(!1)}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var N=c(7700),w=c(5170),R=c(3018),D=c(3680);function L(o,i){1&o&&(t.TgZ(0,"div",23),t._UZ(1,"mat-progress-bar",24),t.qZA()),2&o&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function M(o,i){1&o&&t.GkF(0)}const B=o=>({$implicit:o});function z(o,i){if(1&o&&(t.ynx(0),t.YNc(1,M,1,0,"ng-container",38),t.BQk()),2&o){const e=t.oxw().$implicit;t.oxw(2);const n=t.MAs(60);t.xp6(1),t.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",t.VKq(2,B,e))}}function P(o,i){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",31)(2,"div",32),t._uU(3),t.qZA(),t.TgZ(4,"div",32),t._uU(5),t.qZA(),t.TgZ(6,"div"),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"div",32),t._uU(13),t.qZA(),t.TgZ(14,"div"),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"div",33)(18,"button",34),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.toggleDetails(a.id))}),t._UZ(19,"mat-icon",35),t.qZA()()(),t.TgZ(20,"div",36),t.YNc(21,z,2,4,"ng-container",37),t.qZA(),t.BQk()}if(2&o){const e=i.$implicit,n=t.oxw(2);t.xp6(3),t.hij(" ",(null==e.proveedor?null:e.proveedor.nombre)||"Sin proveedor"," "),t.xp6(2),t.hij(" ",(null==e.contrato?null:e.contrato.no_contrato)||"Sin contrato"," "),t.xp6(2),t.hij(" ",t.gM2(8,8,e.costo_cup,"CUP","symbol","1.2-2")," "),t.xp6(3),t.hij(" ",t.gM2(11,13,e.costo_cl,"CLP","symbol","1.2-2")," "),t.xp6(3),t.hij(" ",e.trabajo_ejecutado," "),t.xp6(2),t.hij(" ",t.xi3(16,18,e.fecha_ejecucion,"shortDate")," "),t.xp6(4),t.Q6J("svgIcon",(null==n.selectedRow?null:n.selectedRow.id)===e.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),t.xp6(2),t.Q6J("ngIf",(null==n.selectedRow?null:n.selectedRow.id)===e.id)}}const V=o=>({"pointer-events-none":o}),Y=()=>[5,10,25,100];function O(o,i){if(1&o&&(t.ynx(0),t.TgZ(1,"div",25)(2,"div",26)(3,"div",27),t._uU(4,"Proveedor"),t.qZA(),t.TgZ(5,"div",27),t._uU(6,"Contrato"),t.qZA(),t.TgZ(7,"div",27),t._uU(8,"Costo (CUP)"),t.qZA(),t.TgZ(9,"div",27),t._uU(10,"Costo (CL)"),t.qZA(),t.TgZ(11,"div",27),t._uU(12,"Trabajo Ejecutado"),t.qZA(),t.TgZ(13,"div",27),t._uU(14,"Fecha Ejecuci\xf3n"),t.qZA(),t.TgZ(15,"div",28),t._uU(16,"Detalles"),t.qZA()(),t.YNc(17,P,22,21,"ng-container",29),t.qZA(),t._UZ(18,"mat-paginator",30),t.BQk()),2&o){const e=t.oxw();t.xp6(3),t.Q6J("mat-sort-header","proveedor"),t.xp6(2),t.Q6J("mat-sort-header","contrato"),t.xp6(2),t.Q6J("mat-sort-header","costo_cup"),t.xp6(2),t.Q6J("mat-sort-header","costo_cl"),t.xp6(2),t.Q6J("mat-sort-header","trabajo_ejecutado"),t.xp6(2),t.Q6J("mat-sort-header","fecha_ejecucion"),t.xp6(4),t.Q6J("ngForOf",e.dataSource.filteredData)("ngForTrackBy",e.trackByFn),t.xp6(1),t.Q6J("ngClass",t.VKq(14,V,e.isLoading))("length",e.pagination.length)("pageIndex",e.pagination.page)("pageSize",e.pagination.size)("pageSizeOptions",t.DdM(16,Y))("showFirstLastButtons",!0)}}function H(o,i){if(1&o&&(t.TgZ(0,"mat-option",60),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.nombre," ")}}function G(o,i){if(1&o&&(t.TgZ(0,"mat-option",60),t._uU(1),t.qZA()),2&o){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.no_contrato," ")}}function $(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",39)(1,"div",40)(2,"form",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"mat-form-field",45)(7,"mat-label"),t._uU(8,"Proveedor"),t.qZA(),t.TgZ(9,"mat-select",46),t.YNc(10,H,2,2,"mat-option",47),t.qZA()(),t.TgZ(11,"mat-form-field",45)(12,"mat-label"),t._uU(13,"Contrato"),t.qZA(),t.TgZ(14,"mat-select",48),t.YNc(15,G,2,2,"mat-option",47),t.qZA()(),t.TgZ(16,"mat-form-field",45)(17,"mat-label"),t._uU(18,"Costo (CUP)"),t.qZA(),t.TgZ(19,"span",49),t._uU(20,"CUP"),t.qZA(),t._UZ(21,"input",50),t.qZA()(),t.TgZ(22,"div",51)(23,"mat-form-field",45)(24,"mat-label"),t._uU(25,"Costo (CL)"),t.qZA(),t.TgZ(26,"span",49),t._uU(27,"CLP"),t.qZA(),t._UZ(28,"input",52),t.qZA(),t.TgZ(29,"mat-form-field",45)(30,"mat-label"),t._uU(31,"Trabajo Ejecutado"),t.qZA(),t._UZ(32,"input",53),t.qZA(),t.TgZ(33,"mat-form-field",45)(34,"mat-label"),t._uU(35,"Fecha Ejecuci\xf3n"),t.qZA(),t._UZ(36,"input",54),t.qZA()()()(),t.TgZ(37,"div",55)(38,"button",56),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.deleteSelectedRecord())}),t.qZA(),t.TgZ(39,"div",57)(40,"button",58),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.updateSelectedRecord())}),t._uU(41," Actualizar "),t.qZA(),t.TgZ(42,"button",59),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.deleteSelectedRecord())}),t._uU(43," Eliminar "),t.qZA()()()()()()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.selectedRowForm),t.xp6(8),t.Q6J("ngForOf",e.mockProveedor),t.xp6(5),t.Q6J("ngForOf",e.mockContrato),t.xp6(23),t.Q6J("color","warn")}}function K(o,i){1&o&&(t.TgZ(0,"div",61),t._uU(1,"\xa1No hay ejecuciones!"),t.qZA())}let W=(()=>{class o{constructor(e,n,r,a,l){this.ejecucionService=e,this.dialog=n,this.cdr=r,this.contratoService=a,this.proveedorService=l,this.data=[],this.montoInicialCup=8e3,this.totalEjecutadoCup=6e3,this.montoRestanteCup=2e3,this.montoInicialUsd="-",this.totalEjecutadoUsd="-",this.montoRestanteUsd="-",this.columns=[{key:"proveedor",label:"Proveedor",nestedKey:"nombre",editable:!1,selectOptions:f.UB},{key:"contrato",label:"Contrato",nestedKey:"no_contrato",editable:!1,selectOptions:f.Io},{key:"costo_cup",label:"Costo (CUP)",type:"currency",editable:!0},{key:"costo_cl",label:"Costo (CL)",type:"currency",editable:!0},{key:"trabajo_ejecutado",label:"Trabajo Ejecutado",editable:!0},{key:"fecha_ejecucion",label:"Fecha Ejecuci\xf3n",type:"date",editable:!0}],this._unsubscribeAll=new Q.x,this.title="Ejecuci\xf3n de Contratos",this.addButtonText="Agregar Ejecuci\xf3n",this.displayedColumns=[],this.searchInputControl=new s.NI(""),this.selectedRow=null,this.isLoading=!1,this.errorMessage="",this.pagination={length:0,page:0,size:10},this.dataSource=new d.by([]),this.selectedRowForm=new s.cw({})}ngOnInit(){this.displayedColumns=this.columns.map(e=>e.key).concat("details"),this.loadEjecuciones(),this.contratoService.getContratos().subscribe(e=>{console.log(e)}),this.proveedorService.getProveedores().subscribe(e=>{console.log(e)}),this.searchInputControl.valueChanges.pipe((0,U.b)(300),(0,A.x)(),(0,I.R)(this._unsubscribeAll)).subscribe(e=>{console.log("Search query:",e),this.dataSource.filter=e?.trim().toLowerCase()||"",console.log("Filtered data:",this.dataSource.filteredData),this.cdr.detectChanges(),this.dataSource._updateChangeSubscription()}),this.dataSource.filterPredicate=(e,n)=>Object.keys(e).reduce((a,l)=>a+(this.getNestedValue(e,l,this.columns.find(x=>x.key===l)?.nestedKey)||"")+" ","").toLowerCase().includes(n)}loadEjecuciones(){this.isLoading=!0,this.errorMessage="",this.ejecucionService.getEjecuciones().subscribe({next:e=>{this.data=e,this.dataSource.data=this.data,this.pagination.length=this.data.length,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.isLoading=!1},error:e=>{this.errorMessage="Error loading ejecuciones",this.isLoading=!1}})}trackByFn(e,n){return n.id}getNestedValue(e,n,r){return r&&e[n]?e[n][r]:e[n]||""}toggleDetails(e){this.selectedRow=this.selectedRow?.id===e?null:this.data.find(n=>n.id===e),this.selectedRowForm=new s.cw({proveedor:new s.NI(this.selectedRow?.proveedor),contrato:new s.NI(this.selectedRow?.contrato),costo_cup:new s.NI(this.selectedRow?.costo_cup),costo_cl:new s.NI(this.selectedRow?.costo_cl),trabajo_ejecutado:new s.NI(this.selectedRow?.trabajo_ejecutado),fecha_ejecucion:new s.NI(this.selectedRow?.fecha_ejecucion)})}createRecord(){this.dialog.open(F.h,{width:"30%",height:"90%",disableClose:!1}).afterClosed().subscribe(n=>{n&&this.loadEjecuciones()})}updateSelectedRecord(){if(this.selectedRow&&this.selectedRowForm.valid){const e={...this.selectedRow,...this.selectedRowForm.value};this.ejecucionService.updateEjecucion(e).subscribe({next:n=>{this.loadEjecuciones()}})}}deleteSelectedRecord(){this.selectedRow&&this.ejecucionService.deleteEjecucion(this.selectedRow.id).subscribe({next:()=>{this.loadEjecuciones(),this.selectedRow=null}})}exportToCSV(){if(!this.dataSource.filteredData||0===this.dataSource.filteredData.length)return;const e=[];e.push(["Proveedor","Contrato","Costo (CUP)","Costo (CL)","Trabajo Ejecutado","Fecha Ejecuci\xf3n"].join(",")),this.dataSource.filteredData.forEach(x=>{const Ot=[x.proveedor?.nombre||"",x.contrato?.no_contrato||"",x.costo_cup,x.costo_cl,x.trabajo_ejecutado||"",x.fecha_ejecucion||""].map(y=>"string"==typeof y&&(y.includes(",")||y.includes('"'))?`"${y.replace(/"/g,'""')}"`:y);e.push(Ot.join(","))});const r=e.join("\n"),a=new Blob([r],{type:"text/csv;charset=utf-8;"}),l=window.URL.createObjectURL(a),Z=document.createElement("a");Z.href=l,Z.download="ejecuciones_export.csv",Z.click(),window.URL.revokeObjectURL(l)}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(J),t.Y36(N.uw),t.Y36(t.sBO),t.Y36(w.d),t.Y36(R.z))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-ejecucion-contrato"]],viewQuery:function(n,r){if(1&n&&(t.Gf(m.YE,5),t.Gf(g.NW,5)),2&n){let a;t.iGM(a=t.CRH())&&(r.sort=a.first),t.iGM(a=t.CRH())&&(r.paginator=a.first)}},standalone:!0,features:[t.jDz],decls:63,vars:28,consts:[[1,"flex","flex-col","min-h-screen","p-6","w-full"],[1,"relative","flex","flex-col","flex-auto","p-6","pr-3","pb-3","bg-card","rounded-2xl","shadow","overflow-hidden","mb-6","w-full"],[1,"flex","flex-row","flex-wrap","mt-4","-mx-6"],[1,"flex","flex-col","mx-6","my-3"],[1,"text-sm","font-medium","leading-none","text-secondary"],[1,"mt-2","font-medium","text-3xl","leading-none"],[1,"flex","flex-col","flex-auto","min-w-0","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","flex-col","sm:flex-row","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4","search-add-wrapper"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4","mt-4","sm:mt-0","w-40","text-lg",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],["mat-icon-button","","matTooltip","Exportar tabla a CSV","aria-label","Exportar tabla a CSV",1,"ml-4","mt-4","sm:mt-0",3,"color","click"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-x-auto"],[4,"ngIf","ngIfElse"],["rowDetailsTemplate",""],["noEjecucionesTemplate",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"flex","flex-col","h-full","overflow-y-auto"],["matSort","","matSortDisableClear","",1,"inventory-grid","sticky","top-0","z-30","grid","gap-4","py-4","px-6","md:px-8","shadow-md","text-md","font-semibold","text-secondary","bg-white","dark:bg-gray-900","border-b","border-gray-200","dark:border-gray-700",2,"grid-template-columns","200px 200px 150px 150px 300px 250px 120px"],[3,"mat-sort-header"],[1,"sticky-end"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"inventory-grid","grid","gap-4","py-3","px-6","md:px-8","border-b","items-center","text-m",2,"grid-template-columns","200px 200px 150px 150px 300px 250px 200px"],[1,"truncate"],[1,"flex","items-center","justify-center","sticky-end"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6","whitespace-nowrap",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"grid"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"shadow-lg","overflow-hidden"],[1,"flex","border-b"],[1,"responsive-form","flex","flex-col","w-full","max-w-full","mx-auto","box-border",2,"width","100%","max-width","500px","padding","0 16px","box-sizing","border-box",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","p-8"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-2/4","sm:pl-8"],[1,"w-full"],["formControlName","proveedor"],[3,"value",4,"ngFor","ngForOf"],["formControlName","contrato"],["matPrefix",""],["matInput","","type","number","formControlName","costo_cup"],[1,"flex","flex-col","w-full","lg:w-1/4","sm:pl-8"],["matInput","","type","number","formControlName","costo_cl"],["matInput","","formControlName","trabajo_ejecutado"],["matInput","","type","date","formControlName","fecha_ejecucion"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","w-full","border-t","px-4","sm:px-8","py-4"],["mat-button","",1,"-ml-4",3,"color","click"],[1,"flex","flex-col","sm:flex-row","items-center","gap-3","w-full","sm:w-auto","lg:w-auto"],["mat-stroked-button","","color","primary",1,"w-full","sm:w-auto","lg:w-auto","px-6",3,"click"],["mat-stroked-button","","color","warn",1,"w-full","sm:w-auto","lg:w-auto","px-6",3,"click"],[3,"value"],[1,"p-8","sm:p-16","border-b","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5,"Total Ejecuciones"),t.qZA(),t.TgZ(6,"div",5),t._uU(7),t.qZA()(),t.TgZ(8,"div",3)(9,"div",4),t._uU(10," Monto Inicial CUP "),t.qZA(),t.TgZ(11,"div",5),t._uU(12),t.ALo(13,"currency"),t.qZA()(),t.TgZ(14,"div",3)(15,"div",4),t._uU(16," Total Ejecutado CUP "),t.qZA(),t.TgZ(17,"div",5),t._uU(18),t.ALo(19,"currency"),t.qZA()(),t.TgZ(20,"div",3)(21,"div",4),t._uU(22," Monto Restante CUP "),t.qZA(),t.TgZ(23,"div",5),t._uU(24),t.ALo(25,"currency"),t.qZA()(),t.TgZ(26,"div",3)(27,"div",4),t._uU(28," Monto Inicial USD "),t.qZA(),t.TgZ(29,"div",5),t._uU(30),t.qZA()(),t.TgZ(31,"div",3)(32,"div",4),t._uU(33," Total Ejecutado USD "),t.qZA(),t.TgZ(34,"div",5),t._uU(35),t.qZA()(),t.TgZ(36,"div",3)(37,"div",4),t._uU(38," Monto Restante USD "),t.qZA(),t.TgZ(39,"div",5),t._uU(40),t.qZA()()()(),t.TgZ(41,"div",6)(42,"div",7),t.YNc(43,L,2,1,"div",8),t.TgZ(44,"div",9),t._uU(45,"Ejecuci\xf3n de Contratos"),t.qZA(),t.TgZ(46,"div",10)(47,"mat-form-field",11),t._UZ(48,"mat-icon",12)(49,"input",13),t.qZA(),t.TgZ(50,"button",14),t.NdJ("click",function(){return r.createRecord()}),t._UZ(51,"mat-icon",15),t.TgZ(52,"span",16),t._uU(53,"Agregar"),t.qZA()(),t.TgZ(54,"button",17),t.NdJ("click",function(){return r.exportToCSV()}),t._UZ(55,"mat-icon",15),t.qZA()()(),t.TgZ(56,"div",18)(57,"div",19),t.YNc(58,O,19,17,"ng-container",20)(59,$,44,4,"ng-template",null,21,t.W1O)(61,K,2,0,"ng-template",null,22,t.W1O),t.qZA()()()()),2&n){const a=t.MAs(62);t.xp6(7),t.Oqu(r.data.length),t.xp6(5),t.hij(" ",t.xi3(13,19,r.montoInicialCup,"CUP")," "),t.xp6(6),t.hij(" ",t.xi3(19,22,r.totalEjecutadoCup,"CUP")," "),t.xp6(6),t.hij(" ",t.xi3(25,25,r.montoRestanteCup,"CUP")," "),t.xp6(6),t.hij(" ",r.montoInicialUsd," "),t.xp6(5),t.hij(" ",r.totalEjecutadoUsd," "),t.xp6(5),t.hij(" ",r.montoRestanteUsd," "),t.xp6(3),t.Q6J("ngIf",r.isLoading),t.xp6(4),t.Q6J("subscriptSizing","dynamic"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:magnifying-glass"),t.xp6(1),t.Q6J("formControl",r.searchInputControl)("autocomplete","off")("placeholder","Buscar ejecuciones"),t.xp6(1),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(3),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:arrow-up-tray"),t.xp6(3),t.Q6J("ngIf",r.dataSource.data.length>0)("ngIfElse",a)}},dependencies:[p.ez,p.mk,p.sg,p.O5,p.tP,p.H9,p.uU,_.ot,_.lW,_.RK,h.Cv,h.pW,m.JX,m.YE,m.nU,d.p0,C.Ps,C.Hw,s.UX,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.oH,s.sg,s.u,g.TU,g.NW,u.lN,u.KE,u.hX,u.qo,v.c,v.Nt,T.LD,T.gD,D.ey,S.Tx,q.t],styles:[".inventory-grid{display:grid;grid-template-columns:25px repeat(9,1fr) 35px;gap:1rem;width:100%;box-sizing:border-box}.inventory-grid.z-3{position:sticky;top:0;background:white;z-index:20;box-shadow:0 2px 5px -2px #0000001a;overflow:visible}.dark .inventory-grid.z-3{background:#1E293B}.inventory-grid>div:last-child{position:sticky;right:0;background:white;z-index:10;box-shadow:-2px 0 5px -2px #0000001a}.dark .inventory-grid>div:last-child{background:#1E293B}.sticky-end{position:sticky;right:0;background:white;z-index:11;box-shadow:-2px 0 5px -2px #0000001a}.dark .sticky-end{background:#1E293B}.dark .inventory-grid>div{color:#e0e0e0}.dark .sticky-end .mat-stroked-button{background:#1E293B!important;color:#fff!important;border-color:#1e293b!important}.dark .sticky-end .mat-stroked-button .mat-icon{color:#fff!important}.inventory-grid>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host{display:block;width:100%;overflow-x:auto}@media (max-width: 768px){.inventory-grid{grid-template-columns:25px 70px 110px 90px 90px 80px 80px 80px 80px 80px 35px}}\n"],encapsulation:2,changeDetection:0})}return o})();function X(o,i){1&o&&(t.TgZ(0,"div",12),t._UZ(1,"mat-progress-bar",13),t.qZA())}function tt(o,i){if(1&o&&(t.TgZ(0,"div",14)(1,"div",15),t._uU(2),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.errorMessage)}}function et(o,i){1&o&&(t.TgZ(0,"th",33),t._uU(1," No. Contrato "),t.qZA())}function ot(o,i){if(1&o&&(t.TgZ(0,"td",34)(1,"span",35),t._uU(2),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",e.no_contrato," ")}}function nt(o,i){1&o&&(t.TgZ(0,"th",33),t._uU(1," Proveedor "),t.qZA())}function it(o,i){if(1&o&&(t.TgZ(0,"td",34)(1,"span",36),t._uU(2),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",(null==e.proveedor?null:e.proveedor.nombre)||"N/A"," ")}}function rt(o,i){1&o&&(t.TgZ(0,"th",33),t._uU(1," Tipo Contrato "),t.qZA())}function at(o,i){if(1&o&&(t.TgZ(0,"td",34)(1,"span",36),t._uU(2),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",(null==e.tipo_contrato?null:e.tipo_contrato.tipo_contrato)||"N/A"," ")}}function ct(o,i){1&o&&(t.TgZ(0,"th",33),t._uU(1," Valor (CUP) "),t.qZA())}function st(o,i){if(1&o&&(t.TgZ(0,"td",34)(1,"span",37),t._uU(2),t.ALo(3,"currency"),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",t.gM2(3,1,e.valor_cup,"CUP","symbol","1.2-2")," ")}}function dt(o,i){1&o&&(t.TgZ(0,"th",33),t._uU(1," Fecha Firmado "),t.qZA())}function lt(o,i){if(1&o&&(t.TgZ(0,"td",34)(1,"span",36),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,e.fecha_firmado,"dd/MM/yyyy")," ")}}function pt(o,i){1&o&&(t.TgZ(0,"th",33),t._uU(1," Fecha Vencido "),t.qZA())}function mt(o,i){if(1&o&&(t.TgZ(0,"td",34)(1,"span",38),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,e.fecha_vencido,"dd/MM/yyyy")," ")}}function ut(o,i){1&o&&(t.TgZ(0,"th",39),t._uU(1," Acciones "),t.qZA())}function gt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"td",34)(1,"div",40)(2,"button",41),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.restoreContrato(a.id))}),t._UZ(3,"mat-icon",42),t.qZA(),t.TgZ(4,"button",43),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.deleteContrato(a.id))}),t._UZ(5,"mat-icon",44),t.qZA()()()}2&o&&(t.xp6(3),t.Q6J("svgIcon","heroicons_outline:arrow-path"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"))}function ft(o,i){1&o&&t._UZ(0,"tr",45)}function xt(o,i){1&o&&t._UZ(0,"tr",46)}function _t(o,i){1&o&&(t.TgZ(0,"div",47)(1,"div",48),t._UZ(2,"mat-icon",49),t.TgZ(3,"span",50),t._uU(4,"No hay contratos vencidos"),t.qZA(),t.TgZ(5,"span",51),t._uU(6,"Los contratos vencidos aparecer\xe1n aqu\xed"),t.qZA()()()),2&o&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:document-text"))}const ht=o=>({"pointer-events-none":o}),Ct=()=>[5,10,25,100];function vt(o,i){if(1&o&&(t.TgZ(0,"div",16)(1,"table",17,18),t.ynx(3,19),t.YNc(4,et,2,0,"th",20)(5,ot,3,1,"td",21),t.BQk(),t.ynx(6,22),t.YNc(7,nt,2,0,"th",20)(8,it,3,1,"td",21),t.BQk(),t.ynx(9,23),t.YNc(10,rt,2,0,"th",20)(11,at,3,1,"td",21),t.BQk(),t.ynx(12,24),t.YNc(13,ct,2,0,"th",20)(14,st,4,6,"td",21),t.BQk(),t.ynx(15,25),t.YNc(16,dt,2,0,"th",20)(17,lt,4,4,"td",21),t.BQk(),t.ynx(18,26),t.YNc(19,pt,2,0,"th",20)(20,mt,4,4,"td",21),t.BQk(),t.ynx(21,27),t.YNc(22,ut,2,0,"th",28)(23,gt,6,2,"td",21),t.BQk(),t.YNc(24,ft,1,0,"tr",29)(25,xt,1,0,"tr",30),t.qZA(),t.YNc(26,_t,7,1,"div",31),t._UZ(27,"mat-paginator",32),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource)("trackByFn",e.trackByFn),t.xp6(23),t.Q6J("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns),t.xp6(1),t.Q6J("ngIf",0===e.dataSource.data.length&&!e.isLoading),t.xp6(1),t.Q6J("ngClass",t.VKq(12,ht,e.isLoading))("length",e.pagination.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",t.DdM(14,Ct))("showFirstLastButtons",!0)}}let bt=(()=>{class o{constructor(e,n){this.contratoService=e,this.cdr=n,this.displayedColumns=["no_contrato","proveedor","tipo_contrato","valor_cup","fecha_firmado","fecha_vencido","acciones"],this.isLoading=!1,this.errorMessage="",this.pagination={length:0,page:0,size:10},this.searchInputControl=new s.NI(""),this.dataSource=new d.by([])}ngOnInit(){this.loadExpiredContracts(),this.searchInputControl.valueChanges.subscribe(e=>{this.applyFilter(e)})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.cdr.markForCheck()}loadExpiredContracts(){this.isLoading=!0,this.errorMessage="",this.contratoService.getExpiredContratos().subscribe({next:e=>{this.dataSource.data=e.filter(n=>n.proveedor&&n.proveedor.nombre),this.pagination.length=this.dataSource.data.length,this.isLoading=!1,this.cdr.markForCheck()},error:e=>{this.errorMessage="Failed to load expired contracts. Please try again.",this.isLoading=!1,this.cdr.markForCheck()}})}applyFilter(e){e=e.trim().toLowerCase(),this.dataSource.filter=e}trackByFn(e,n){return n.id}restoreContrato(e){this.contratoService.restoreContrato(e).subscribe({next:()=>{this.loadExpiredContracts(),this.cdr.markForCheck()},error:n=>{this.errorMessage="Failed to restore contract. Please try again.",this.cdr.markForCheck()}})}deleteContrato(e){this.contratoService.deleteContrato(e).subscribe({next:()=>{this.loadExpiredContracts(),this.cdr.markForCheck()},error:n=>{this.errorMessage="Failed to delete contract. Please try again.",this.cdr.markForCheck()}})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(w.d),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-expired-contracts"]],viewQuery:function(n,r){if(1&n&&(t.Gf(m.YE,5),t.Gf(g.NW,5)),2&n){let a;t.iGM(a=t.CRH())&&(r.sort=a.first),t.iGM(a=t.CRH())&&(r.paginator=a.first)}},standalone:!0,features:[t.jDz],decls:13,vars:7,consts:[[1,"sm:absolute","sm:inset-0","flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],["class","flex justify-center p-8",4,"ngIf"],["class","p-8 text-center",4,"ngIf"],["class","overflow-x-auto mx-6",4,"ngIf"],[1,"flex","justify-center","p-8"],["mode","indeterminate"],[1,"p-8","text-center"],[1,"text-red-600","text-lg"],[1,"overflow-x-auto","mx-6"],["mat-table","","matSort","",1,"w-full","bg-transparent",3,"dataSource","trackByFn"],["contractsTable",""],["matColumnDef","no_contrato"],["class","bg-gray-50 dark:bg-black dark:bg-opacity-5","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","pr-6","mat-cell","",4,"matCellDef"],["matColumnDef","proveedor"],["matColumnDef","tipo_contrato"],["matColumnDef","valor_cup"],["matColumnDef","fecha_firmado"],["matColumnDef","fecha_vencido"],["matColumnDef","acciones"],["class","bg-gray-50 dark:bg-black dark:bg-opacity-5","mat-header-cell","",4,"matHeaderCellDef"],["class","shadow-none","mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","order-row h-16","mat-row","",4,"matRowDef","matRowDefColumns"],["class","p-8 sm:p-16 border-t text-4xl font-semibold tracking-tight text-center",4,"ngIf"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],["mat-header-cell","","mat-sort-header","",1,"bg-gray-50","dark:bg-black","dark:bg-opacity-5"],["mat-cell","",1,"pr-6"],[1,"text-md","font-medium","text-secondary"],[1,"text-md","font-medium"],[1,"text-md","font-medium","text-green-600"],[1,"text-md","font-medium","text-red-600"],["mat-header-cell","",1,"bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"flex","items-center","gap-2"],["mat-stroked-button","","matTooltip","Restaurar contrato",1,"min-h-7","min-w-10","h-7","px-2","leading-6",3,"click"],[1,"icon-size-4","text-blue-600",3,"svgIcon"],["mat-stroked-button","","matTooltip","Eliminar contrato",1,"min-h-7","min-w-10","h-7","px-2","leading-6",3,"click"],[1,"icon-size-4","text-red-600",3,"svgIcon"],["mat-header-row","",1,"shadow-none"],["mat-row","",1,"order-row","h-16"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"],[1,"flex","flex-col","items-center"],[1,"icon-size-24","text-gray-400","mb-4",3,"svgIcon"],[1,"text-gray-500"],[1,"text-sm","text-gray-400","mt-2"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Contratos Vencidos"),t.qZA(),t.TgZ(4,"div",3)(5,"mat-form-field",4),t._UZ(6,"mat-icon",5)(7,"input",6),t.qZA()()(),t.TgZ(8,"div",7)(9,"div",8),t.YNc(10,X,2,0,"div",9)(11,tt,3,1,"div",10)(12,vt,28,15,"div",11),t.qZA()()()),2&n&&(t.xp6(6),t.Q6J("svgIcon","heroicons_solid:magnifying-glass"),t.xp6(1),t.Q6J("formControl",r.searchInputControl)("autocomplete","off")("placeholder","Buscar contratos..."),t.xp6(3),t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("ngIf",r.errorMessage&&!r.isLoading),t.xp6(1),t.Q6J("ngIf",!r.isLoading))},dependencies:[p.ez,p.mk,p.O5,p.H9,p.uU,_.ot,_.lW,h.Cv,h.pW,m.JX,m.YE,m.nU,d.p0,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,C.Ps,C.Hw,s.UX,s.Fj,s.JJ,s.oH,g.TU,g.NW,u.lN,u.KE,u.qo,v.c,v.Nt,T.LD],styles:['@charset "UTF-8";.inventory-grid{display:grid;grid-template-columns:repeat(7,minmax(0,1fr));gap:1rem;padding:.5rem 0;border-bottom:1px solid #e0e0e0}.inventory-grid>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.bg-card{background-color:#fff;border-radius:.5rem;box-shadow:0 0 10px #0000001a}.text-secondary{color:#6b7280}.shadow{box-shadow:0 1px 3px #0000001a}\n'],encapsulation:2,changeDetection:0})}return o})();var Zt=c(5195);function yt(o,i){1&o&&(t.TgZ(0,"div",15),t._UZ(1,"mat-progress-bar",16),t.qZA())}function Tt(o,i){if(1&o&&(t.TgZ(0,"div",17)(1,"div",18),t._uU(2),t.qZA()()),2&o){const e=t.oxw();t.xp6(2),t.Oqu(e.errorMessage)}}function wt(o,i){1&o&&(t.TgZ(0,"th",34),t._uU(1," No. Contrato "),t.qZA())}function jt(o,i){if(1&o&&(t.TgZ(0,"td",35)(1,"span",36),t._uU(2),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",e.no_contrato," ")}}function kt(o,i){1&o&&(t.TgZ(0,"th",34),t._uU(1," Proveedor "),t.qZA())}function Et(o,i){if(1&o&&(t.TgZ(0,"td",35)(1,"span",37),t._uU(2),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",(null==e.proveedor?null:e.proveedor.nombre)||"N/A"," ")}}function Ut(o,i){1&o&&(t.TgZ(0,"th",34),t._uU(1," Tipo Contrato "),t.qZA())}function At(o,i){if(1&o&&(t.TgZ(0,"td",35)(1,"span",37),t._uU(2),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",(null==e.tipo_contrato?null:e.tipo_contrato.nombre_tipo_contrato)||"N/A"," ")}}function It(o,i){1&o&&(t.TgZ(0,"th",34),t._uU(1," Valor (CUP) "),t.qZA())}function St(o,i){if(1&o&&(t.TgZ(0,"td",35)(1,"span",38),t._uU(2),t.ALo(3,"currency"),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",t.gM2(3,1,e.valor_cup,"CUP","symbol","1.2-2")," ")}}function qt(o,i){1&o&&(t.TgZ(0,"th",34),t._uU(1," Fecha Inicio "),t.qZA())}function Ft(o,i){if(1&o&&(t.TgZ(0,"td",35)(1,"span",37),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,e.fecha_inicio,"dd/MM/yyyy")," ")}}function Qt(o,i){1&o&&(t.TgZ(0,"th",34),t._uU(1," Fecha Vencido "),t.qZA())}function Jt(o,i){if(1&o&&(t.TgZ(0,"td",35)(1,"span",39),t._uU(2),t.ALo(3,"date"),t.qZA()()),2&o){const e=i.$implicit;t.xp6(2),t.hij(" ",t.xi3(3,1,e.fecha_vencido,"dd/MM/yyyy")," ")}}function Nt(o,i){1&o&&(t.TgZ(0,"th",40),t._uU(1," Acciones "),t.qZA())}function Rt(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"td",35)(1,"div",41)(2,"button",42),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.restoreContrato(a.id))}),t._UZ(3,"mat-icon",43),t.qZA(),t.TgZ(4,"button",44),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.deleteContrato(a.id))}),t._UZ(5,"mat-icon",45),t.qZA()()()}2&o&&(t.xp6(3),t.Q6J("svgIcon","heroicons_outline:arrow-path"),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"))}function Dt(o,i){1&o&&t._UZ(0,"tr",46)}function Lt(o,i){1&o&&t._UZ(0,"tr",47)}function Mt(o,i){if(1&o&&(t.TgZ(0,"div",19)(1,"table",20,21),t.ynx(3,22),t.YNc(4,wt,2,0,"th",23)(5,jt,3,1,"td",24),t.BQk(),t.ynx(6,25),t.YNc(7,kt,2,0,"th",23)(8,Et,3,1,"td",24),t.BQk(),t.ynx(9,26),t.YNc(10,Ut,2,0,"th",23)(11,At,3,1,"td",24),t.BQk(),t.ynx(12,27),t.YNc(13,It,2,0,"th",23)(14,St,4,6,"td",24),t.BQk(),t.ynx(15,28),t.YNc(16,qt,2,0,"th",23)(17,Ft,4,4,"td",24),t.BQk(),t.ynx(18,29),t.YNc(19,Qt,2,0,"th",23)(20,Jt,4,4,"td",24),t.BQk(),t.ynx(21,30),t.YNc(22,Nt,2,0,"th",31)(23,Rt,6,2,"td",24),t.BQk(),t.YNc(24,Dt,1,0,"tr",32)(25,Lt,1,0,"tr",33),t.qZA()()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("dataSource",e.dataSource)("trackByFn",e.trackByFn),t.xp6(23),t.Q6J("matHeaderRowDef",e.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",e.displayedColumns)}}function Bt(o,i){1&o&&t._UZ(0,"mat-progress-bar",16)}function zt(o,i){if(1&o&&(t.TgZ(0,"div",48),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.hij(" ",e.errorMessage," ")}}const Vt=[{path:"list",component:E.M},{path:"ejecucion",component:W},{path:"vencidos",component:bt},{path:"vencidas",component:(()=>{class o{constructor(e,n){this.contratoService=e,this.cdr=n,this.displayedColumns=["no_contrato","proveedor","tipo_contrato","valor_cup","fecha_inicio","fecha_vencido","acciones"],this.isLoading=!1,this.errorMessage="",this.pagination={length:0,page:0,size:10},this.searchInputControl=new s.NI(""),this.dataSource=new d.by([])}ngOnInit(){this.loadVencidoEjecucionContratos(),this.searchInputControl.valueChanges.subscribe(e=>{this.applyFilter(e)})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.cdr.markForCheck()}loadVencidoEjecucionContratos(){this.isLoading=!0,this.errorMessage="",this.contratoService.getVencidoEjecucionContratos(this.pagination.page,this.pagination.size).subscribe({next:e=>{this.dataSource.data=e.data,this.pagination.length=e.total,this.isLoading=!1,this.cdr.markForCheck()},error:e=>{this.errorMessage="Error al cargar contratos vencidos.",this.isLoading=!1,this.cdr.markForCheck()}})}applyFilter(e){e=e.trim().toLowerCase(),this.dataSource.filter=e}trackByFn(e,n){return n.id}restoreContrato(e){this.contratoService.restoreContrato(e).subscribe({next:()=>{this.loadVencidoEjecucionContratos(),this.cdr.markForCheck()},error:n=>{this.errorMessage="Failed to restore contract. Please try again.",this.cdr.markForCheck()}})}deleteContrato(e){this.contratoService.deleteContrato(e).subscribe({next:()=>{this.loadVencidoEjecucionContratos(),this.cdr.markForCheck()},error:n=>{this.errorMessage="Failed to delete contract. Please try again.",this.cdr.markForCheck()}})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(w.d),t.Y36(t.sBO))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-vencido-ejecucion-contrato"]],viewQuery:function(n,r){if(1&n&&(t.Gf(m.YE,5),t.Gf(g.NW,5)),2&n){let a;t.iGM(a=t.CRH())&&(r.sort=a.first),t.iGM(a=t.CRH())&&(r.paginator=a.first)}},standalone:!0,features:[t.jDz],decls:16,vars:12,consts:[[1,"sm:absolute","sm:inset-0","flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],["class","flex justify-center p-8",4,"ngIf"],["class","p-8 text-center",4,"ngIf"],["class","overflow-x-auto mx-6",4,"ngIf"],[3,"length","pageSize","pageIndex","page"],["mode","indeterminate",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"flex","justify-center","p-8"],["mode","indeterminate"],[1,"p-8","text-center"],[1,"text-red-600","text-lg"],[1,"overflow-x-auto","mx-6"],["mat-table","","matSort","",1,"w-full","bg-transparent",3,"dataSource","trackByFn"],["contractsTable",""],["matColumnDef","no_contrato"],["class","bg-gray-50 dark:bg-black dark:bg-opacity-5","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","pr-6","mat-cell","",4,"matCellDef"],["matColumnDef","proveedor"],["matColumnDef","tipo_contrato"],["matColumnDef","valor_cup"],["matColumnDef","fecha_inicio"],["matColumnDef","fecha_vencido"],["matColumnDef","acciones"],["class","bg-gray-50 dark:bg-black dark:bg-opacity-5","mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","",1,"bg-gray-50","dark:bg-black","dark:bg-opacity-5"],["mat-cell","",1,"pr-6"],[1,"text-md","font-medium","text-secondary"],[1,"text-md","font-medium"],[1,"text-md","font-medium","text-green-600"],[1,"text-md","font-medium","text-red-600"],["mat-header-cell","",1,"bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[1,"flex","items-center","gap-2"],["mat-stroked-button","","matTooltip","Restaurar contrato",1,"min-h-7","min-w-10","h-7","px-2","leading-6",3,"click"],[1,"icon-size-4","text-blue-600",3,"svgIcon"],["mat-stroked-button","","matTooltip","Eliminar contrato",1,"min-h-7","min-w-10","h-7","px-2","leading-6",3,"click"],[1,"icon-size-4","text-red-600",3,"svgIcon"],["mat-header-row",""],["mat-row",""],[1,"error-message"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Contratos de Ejecuci\xf3n Vencidos"),t.qZA(),t.TgZ(4,"div",3)(5,"mat-form-field",4),t._UZ(6,"mat-icon",5)(7,"input",6),t.qZA()()(),t.TgZ(8,"div",7)(9,"div",8),t.YNc(10,yt,2,0,"div",9)(11,Tt,3,1,"div",10)(12,Mt,26,4,"div",11),t.TgZ(13,"mat-paginator",12),t.NdJ("page",function(){return r.loadVencidoEjecucionContratos()}),t.qZA(),t.YNc(14,Bt,1,0,"mat-progress-bar",13)(15,zt,2,1,"div",14),t.qZA()()()),2&n&&(t.xp6(6),t.Q6J("svgIcon","heroicons_solid:magnifying-glass"),t.xp6(1),t.Q6J("formControl",r.searchInputControl)("autocomplete","off")("placeholder","Buscar contratos..."),t.xp6(3),t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("ngIf",r.errorMessage&&!r.isLoading),t.xp6(1),t.Q6J("ngIf",!r.isLoading),t.xp6(1),t.Q6J("length",r.pagination.length)("pageSize",r.pagination.size)("pageIndex",r.pagination.page),t.xp6(1),t.Q6J("ngIf",r.isLoading),t.xp6(1),t.Q6J("ngIf",r.errorMessage))},dependencies:[p.ez,p.O5,p.H9,p.uU,_.ot,_.lW,h.Cv,h.pW,m.JX,m.YE,m.nU,d.p0,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,C.Ps,C.Hw,s.UX,s.Fj,s.JJ,s.oH,g.TU,g.NW,u.lN,u.KE,u.qo,v.c,v.Nt,T.LD,Zt.QW],encapsulation:2,changeDetection:0})}return o})()}];let Yt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[k.Bz.forChild(Vt),k.Bz]})}return o})()}}]);