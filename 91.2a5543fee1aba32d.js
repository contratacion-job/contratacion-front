"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[91],{7091:(tt,U,s)=>{s.r(U),s.d(U,{OrganizacionRoutingModule:()=>Xe});var q=s(1896),c=s(6223),_=s(5313),p=s(3566),g=s(1476),k=s(9773),w=s(3620),O=s(8645),l=s(6814),u=s(2296),b=s(6007),x=s(617),m=s(4170),v=s(4516),S=s(8525),T=s(2596),M=s(6385),e=s(9212),h=s(2096);let D=(()=>{class n{constructor(){this.trabajadores=[{id:1,nombre:"Juan",apellido:"Perez",cargo:"Ingeniero",departamentoId:1,departamento:{id:1,nombre_departamento:"Desarrollo",codigo:"",descripcion:""},email:"juan.perez@example.com",createdAt:new Date("2022-01-01T08:00:00Z"),updatedAt:new Date("2023-01-01T08:00:00Z"),timeZone:"America/Havana"},{id:2,nombre:"Maria",apellido:"Gonzalez",cargo:"Analista",departamentoId:2,departamento:{id:2,nombre_departamento:"Marketing",codigo:"",descripcion:""},email:"maria.gonzalez@example.com",createdAt:new Date("2022-02-01T08:00:00Z"),updatedAt:new Date("2023-02-01T08:00:00Z"),timeZone:"America/Havana"}]}getTrabajadores(){return(0,h.of)(this.trabajadores)}createTrabajador(t){const i={...t,id:this.trabajadores.length>0?Math.max(...this.trabajadores.map(r=>r.id))+1:1,createdAt:new Date,updatedAt:new Date};return this.trabajadores.push(i),(0,h.of)(i)}updateTrabajador(t){const o=this.trabajadores.findIndex(i=>i.id===t.id);return-1!==o?(this.trabajadores[o]={...t,updatedAt:new Date},(0,h.of)(this.trabajadores[o])):(0,h.of)(null)}deleteTrabajador(t){const o=this.trabajadores.findIndex(i=>i.id===t);return-1!==o?(this.trabajadores.splice(o,1),(0,h.of)(!0)):(0,h.of)(!1)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var P=s(7700),j=s(3680);function F(n,a){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"mat-progress-bar",19),e.qZA()),2&n&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function I(n,a){if(1&n&&(e.TgZ(0,"mat-option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nombre_departamento)}}function E(n,a){1&n&&e.GkF(0)}const J=n=>({$implicit:n});function Q(n,a){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,E,1,0,"ng-container",49),e.qZA()),2&n){const t=e.oxw().$implicit;e.oxw(2);const o=e.MAs(21);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,J,t))}}function N(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",40)(2,"div"),e._UZ(3,"span",41),e.qZA(),e.TgZ(4,"div",42),e._uU(5),e.qZA(),e.TgZ(6,"div",42),e._uU(7),e.qZA(),e.TgZ(8,"div",42),e._uU(9),e.qZA(),e.TgZ(10,"div",42),e._uU(11),e.qZA(),e.TgZ(12,"div",43),e._uU(13),e.qZA(),e.TgZ(14,"div",42),e._uU(15),e.qZA(),e.TgZ(16,"div",44)(17,"button",45),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.toggleDetails(r.id))}),e._UZ(18,"mat-icon",46),e.qZA()()(),e.YNc(19,Q,2,4,"div",47),e.BQk()}if(2&n){const t=a.$implicit,o=e.oxw(2);e.xp6(5),e.Oqu(t.id),e.xp6(2),e.Oqu(t.nombre),e.xp6(2),e.Oqu(t.apellido),e.xp6(2),e.Oqu(t.cargo),e.xp6(1),e.Q6J("matTooltip",null==t.departamento?null:t.departamento.nombre_departamento),e.xp6(1),e.hij(" ",null==t.departamento?null:t.departamento.nombre_departamento," "),e.xp6(2),e.Oqu(t.email),e.xp6(3),e.Q6J("svgIcon",(null==o.selectedTrabajador?null:o.selectedTrabajador.id)===t.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),e.xp6(1),e.Q6J("ngIf",(null==o.selectedTrabajador?null:o.selectedTrabajador.id)===t.id)}}const L=n=>({"pointer-events-none":n}),z=()=>[5,10,25,100];function R(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",20)(2,"div",21),e._UZ(3,"div"),e.TgZ(4,"div",22),e._uU(5,"ID"),e.qZA(),e.TgZ(6,"div",22),e._uU(7,"Nombre"),e.qZA(),e.TgZ(8,"div",22),e._uU(9,"Apellido"),e.qZA(),e.TgZ(10,"div",22),e._uU(11,"Cargo"),e.qZA(),e.TgZ(12,"div",22),e._uU(13,"Departamento"),e.qZA(),e.TgZ(14,"div",22),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"div",23),e._uU(17,"Detalles"),e.qZA()(),e.TgZ(18,"div",24),e._UZ(19,"div")(20,"div"),e.TgZ(21,"div")(22,"mat-form-field",25),e._UZ(23,"input",26),e.qZA()(),e.TgZ(24,"div")(25,"mat-form-field",25),e._UZ(26,"input",27),e.qZA()(),e.TgZ(27,"div")(28,"mat-form-field",25),e._UZ(29,"input",28),e.qZA()(),e.TgZ(30,"div")(31,"mat-form-field",25)(32,"mat-select",29)(33,"mat-option",30),e._uU(34,"Todos"),e.qZA(),e.YNc(35,I,2,2,"mat-option",31),e.qZA()()(),e.TgZ(36,"div")(37,"mat-form-field",25),e._UZ(38,"input",32),e.qZA()(),e.TgZ(39,"div",33)(40,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.applyFilters())}),e.TgZ(41,"mat-icon",35),e._uU(42,"search"),e.qZA()(),e.TgZ(43,"button",36),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.clearFilters())}),e.TgZ(44,"mat-icon",35),e._uU(45,"clear"),e.qZA()()()(),e.YNc(46,N,20,9,"ng-container",37),e.qZA(),e._UZ(47,"mat-paginator",38),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("mat-sort-header","id"),e.xp6(2),e.Q6J("mat-sort-header","nombre"),e.xp6(2),e.Q6J("mat-sort-header","apellido"),e.xp6(2),e.Q6J("mat-sort-header","cargo"),e.xp6(2),e.Q6J("mat-sort-header","departamento"),e.xp6(2),e.Q6J("mat-sort-header","email"),e.xp6(4),e.Q6J("formGroup",t.filterForm),e.xp6(17),e.Q6J("ngForOf",t.departamentos),e.xp6(11),e.Q6J("ngForOf",t.dataSource.filteredData)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",e.VKq(16,L,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(18,z))("showFirstLastButtons",!0)}}function Y(n,a){if(1&n&&(e.TgZ(0,"mat-option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.nombre_departamento," ")}}function B(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"div",51)(2,"form",52)(3,"div",53)(4,"div",54)(5,"mat-form-field",55)(6,"mat-label"),e._uU(7,"Nombre"),e.qZA(),e._UZ(8,"input",56),e.qZA(),e.TgZ(9,"mat-form-field",55)(10,"mat-label"),e._uU(11,"Apellido"),e.qZA(),e._UZ(12,"input",57),e.qZA(),e.TgZ(13,"mat-form-field",55)(14,"mat-label"),e._uU(15,"Cargo"),e.qZA(),e._UZ(16,"input",58),e.qZA(),e.TgZ(17,"mat-form-field",55)(18,"mat-label"),e._uU(19,"Departamento"),e.qZA(),e.TgZ(20,"mat-select",59),e.YNc(21,Y,2,2,"mat-option",31),e.qZA()()(),e.TgZ(22,"div",54)(23,"mat-form-field",55)(24,"mat-label"),e._uU(25,"Email"),e.qZA(),e._UZ(26,"input",60),e.qZA(),e.TgZ(27,"mat-form-field",55)(28,"mat-label"),e._uU(29,"Zona Horaria"),e.qZA(),e._UZ(30,"input",61),e.qZA()()(),e.TgZ(31,"div",62)(32,"button",63),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateSelectedTrabajador())}),e._uU(33," Actualizar "),e.qZA(),e.TgZ(34,"button",64),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteSelectedTrabajador())}),e._uU(35," Eliminar "),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.selectedTrabajadorForm),e.xp6(19),e.Q6J("ngForOf",t.departamentos)}}let G=(()=>{class n{constructor(t,o,i,r){this.trabajadoresService=t,this.dialog=o,this.cdr=i,this.fb=r,this.trabajadores=[],this.departamentos=[],this.dataSource=new _.by([]),this.searchInputControl=new c.p4,this.selectedTrabajador=null,this.isLoading=!1,this.errorMessage="",this.pagination={length:0,page:0,size:10},this._unsubscribeAll=new O.x,this.displayedColumns=["id","nombre","apellido","cargo","departamento","email","createdAt","updatedAt","timeZone","details"],this.dataSource=new _.by([]),this.initSelectedTrabajadorForm(),this.initNewTrabajadorForm(),this.filterForm=this.fb.group({nombre_filter:[""],apellido_filter:[""],cargo_filter:[""],departamento_id:[""],email_filter:[""]})}openNewTrabajadorDialog(){this.newTrabajadorForm.reset(),this.selectedTrabajador=null}ngOnInit(){this.loadTrabajadores(),this.dataSource.sortingDataAccessor=(t,o)=>"departamento"===o?t.departamento?.nombre_departamento:t[o],this.dataSource.filterPredicate=(t,o)=>{if(!o)return!0;const i=o.toLowerCase().trim();return[t.nombre?.toLowerCase()||"",t.apellido?.toLowerCase()||"",t.cargo?.toLowerCase()||"",t.departamento?.nombre_departamento?.toLowerCase()||"",t.email?.toLowerCase()||"",t.timeZone?.toLowerCase()||""].join(" ").includes(i)},this.searchInputControl.valueChanges.pipe((0,k.R)(this._unsubscribeAll),(0,w.b)(300)).subscribe(t=>{this.closeDetails(),this.dataSource.filter=t?t.trim().toLowerCase():"",this.cdr.detectChanges()}),this.filterForm.valueChanges.pipe((0,k.R)(this._unsubscribeAll),(0,w.b)(300)).subscribe(()=>{this.applyFilters()})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.paginator&&(this.paginator.pageSize=10,this.paginator.pageSizeOptions=[5,10,25,50]),this.dataSource.sort=this.sort,this.sort&&(this.sort.active="nombre",this.sort.direction="asc"),this.cdr.detectChanges()}loadTrabajadores(){this.isLoading=!0,this.errorMessage="",this.trabajadoresService.getTrabajadores().subscribe({next:t=>{this.trabajadores=t,this.dataSource.data=t,this.pagination.length=t.length,this.isLoading=!1,this.cdr.detectChanges()},error:t=>{this.errorMessage="Error al cargar los trabajadores. Por favor, intente nuevamente.",this.isLoading=!1,this.cdr.detectChanges()}})}applyFilters(){const t=this.filterForm.value;let o=this.dataSource.data;t.nombre_filter&&(o=o.filter(i=>i.nombre.toLowerCase().includes(t.nombre_filter.toLowerCase()))),t.apellido_filter&&(o=o.filter(i=>i.apellido.toLowerCase().includes(t.apellido_filter.toLowerCase()))),t.cargo_filter&&(o=o.filter(i=>i.cargo.toLowerCase().includes(t.cargo_filter.toLowerCase()))),t.departamento_id&&(o=o.filter(i=>i.departamento?.id===t.departamento_id)),t.email_filter&&(o=o.filter(i=>i.email.toLowerCase().includes(t.email_filter.toLowerCase()))),this.dataSource.filteredData=o}clearFilters(){this.filterForm.reset(),this.dataSource.filteredData=this.dataSource.data}initSelectedTrabajadorForm(){this.selectedTrabajadorForm=this.fb.group({nombre:["",c.kI.required],apellido:["",c.kI.required],cargo:["",c.kI.required],departamento:[null,c.kI.required],email:["",[c.kI.required,c.kI.email]],timeZone:["",c.kI.required]})}initNewTrabajadorForm(){this.newTrabajadorForm=this.fb.group({nombre:["",c.kI.required],apellido:["",c.kI.required],cargo:["",c.kI.required],departamento:[null,c.kI.required],email:["",[c.kI.required,c.kI.email]],timeZone:["",c.kI.required]})}toggleDetails(t){this.selectedTrabajador?.id===t?this.selectedTrabajador=null:(this.selectedTrabajador=this.trabajadores.find(o=>o.id===t)||null,this.selectedTrabajador&&this.selectedTrabajadorForm.patchValue({nombre:this.selectedTrabajador.nombre,apellido:this.selectedTrabajador.apellido,cargo:this.selectedTrabajador.cargo,departamento:this.selectedTrabajador.departamento,email:this.selectedTrabajador.email,timeZone:this.selectedTrabajador.timeZone})),this.cdr.detectChanges()}closeDetails(){this.selectedTrabajador=null}addNewTrabajador(){if(this.newTrabajadorForm.invalid)return void this.newTrabajadorForm.markAllAsTouched();const t=this.newTrabajadorForm.value;this.trabajadoresService.createTrabajador({id:0,nombre:t.nombre,apellido:t.apellido,cargo:t.cargo,departamentoId:t.departamento.id,departamento:t.departamento,email:t.email,createdAt:new Date,updatedAt:new Date,timeZone:t.timeZone}).subscribe({next:()=>{this.loadTrabajadores(),this.newTrabajadorForm.reset()},error:i=>{console.error("Error al crear el trabajador:",i)}})}updateSelectedTrabajador(){if(!this.selectedTrabajador)return;if(this.selectedTrabajadorForm.invalid)return void this.selectedTrabajadorForm.markAllAsTouched();const t=this.selectedTrabajadorForm.value,o={...this.selectedTrabajador,nombre:t.nombre,apellido:t.apellido,cargo:t.cargo,departamento:t.departamento,departamentoId:t.departamento.id,email:t.email,timeZone:t.timeZone,updatedAt:new Date};this.trabajadoresService.updateTrabajador(o).subscribe({next:()=>{this.loadTrabajadores(),this.selectedTrabajador=null},error:i=>{console.error("Error al actualizar el trabajador:",i)}})}deleteSelectedTrabajador(){this.selectedTrabajador&&this.trabajadoresService.deleteTrabajador(this.selectedTrabajador.id).subscribe({next:()=>{this.loadTrabajadores(),this.selectedTrabajador=null},error:t=>{console.error("Error al eliminar el trabajador:",t)}})}trackByFn(t,o){return o.id}exportToCSV(){if(!this.dataSource.filteredData||0===this.dataSource.filteredData.length)return;const t=[];t.push(["ID","Nombre","Apellido","Cargo","Departamento","Email","Fecha Creaci\xf3n","Fecha Actualizaci\xf3n","Zona Horaria"].join(",")),this.dataSource.filteredData.forEach(f=>{const et=[f.id,f.nombre,f.apellido,f.cargo,f.departamento?.nombre_departamento||"",f.email,f.createdAt.toISOString(),f.updatedAt.toISOString(),f.timeZone].map(Z=>"string"==typeof Z&&(Z.includes(",")||Z.includes('"'))?`"${Z.replace(/"/g,'""')}"`:Z);t.push(et.join(","))});const i=t.join("\n"),r=new Blob([i],{type:"text/csv;charset=utf-8;"}),d=window.URL.createObjectURL(r),y=document.createElement("a");y.href=d,y.download="trabajadores_export.csv",y.click(),window.URL.revokeObjectURL(d)}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(D),e.Y36(P.uw),e.Y36(e.sBO),e.Y36(c.qu))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-trabajadores"]],viewQuery:function(o,i){if(1&o&&(e.Gf(p.YE,5),e.Gf(g.NW,5)),2&o){let r;e.iGM(r=e.CRH())&&(i.sort=r.first),e.iGM(r=e.CRH())&&(i.paginator=r.first)}},standalone:!0,features:[e.jDz],decls:22,vars:9,consts:[[1,"flex","flex-col","min-h-screen","p-6","w-full"],[1,"flex","flex-col","flex-auto","min-w-0","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","flex-col","sm:flex-row","shrink-0","items-center","justify-between","py-4","px-6","md:px-8","border-b"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","Buscar trabajadores",3,"formControl","autocomplete"],[1,"flex","items-center","gap-4","mt-4","sm:mt-0"],["mat-flat-button","","color","primary",1,"text-lg",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],["mat-icon-button","","color","primary","matTooltip","Exportar tabla a CSV","aria-label","Exportar tabla a CSV",3,"click"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-x-auto"],[4,"ngIf","ngIfElse"],["rowDetailsTemplate",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"flex","flex-col","h-full","overflow-y-auto"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5",2,"grid-template-columns","40px repeat(7, minmax(100px, 1fr)) 100px"],[3,"mat-sort-header"],[1,"sticky-end"],[1,"inventory-grid","grid","gap-4","py-3","px-6","md:px-8","border-b","bg-gray-50","dark:bg-gray-800",2,"grid-template-columns","40px repeat(7, minmax(100px, 1fr)) 100px",3,"formGroup"],["appearance","outline","subscriptSizing","dynamic",1,"w-full"],["matInput","","placeholder","Nombre","formControlName","nombre_filter"],["matInput","","placeholder","Apellido","formControlName","apellido_filter"],["matInput","","placeholder","Cargo","formControlName","cargo_filter"],["formControlName","departamento_id","placeholder","Departamento"],["value",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Email","formControlName","email_filter"],[1,"flex","gap-1","sticky-end"],["mat-icon-button","","color","primary","type","button","matTooltip","Aplicar filtros",1,"!w-8","!h-8","!min-w-8",3,"click"],[1,"!text-sm"],["mat-icon-button","","color","warn","type","button","matTooltip","Limpiar filtros",1,"!w-8","!h-8","!min-w-8",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[3,"value"],[1,"inventory-grid","grid","gap-4","py-3","px-6","md:px-8","border-b","items-center","text-m",2,"grid-template-columns","40px repeat(7, minmax(100px, 1fr)) 100px"],[1,"w-3","h-3","rounded-full","inline-block","bg-green-500"],[1,"truncate"],["matTooltipPosition","above",1,"truncate",3,"matTooltip"],[1,"flex","items-center","justify-center","sticky-end"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6","whitespace-nowrap",3,"click"],[1,"icon-size-5",3,"svgIcon"],["class","grid",4,"ngIf"],[1,"grid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"shadow-lg","overflow-hidden"],[1,"flex","border-b"],[1,"responsive-form","flex","flex-col","w-full","mx-auto","p-8",3,"formGroup"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-1/3","sm:pl-8"],[1,"w-full"],["matInput","","formControlName","nombre"],["matInput","","formControlName","apellido"],["matInput","","formControlName","cargo"],["formControlName","departamento"],["matInput","","formControlName","email"],["matInput","","formControlName","timeZone"],[1,"flex","flex-col","sm:flex-row","items-center","justify-end","w-full","border-t","px-4","py-4","gap-3"],["mat-stroked-button","","color","primary",1,"w-full","sm:w-auto","px-6",3,"click"],["mat-stroked-button","","color","warn",1,"w-full","sm:w-auto","px-6",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,F,2,1,"div",3),e.TgZ(4,"div",4),e._uU(5,"Trabajadores"),e.qZA()(),e.TgZ(6,"div",5)(7,"mat-form-field",6),e._UZ(8,"mat-icon",7)(9,"input",8),e.qZA(),e.TgZ(10,"div",9)(11,"button",10),e.NdJ("click",function(){return i.openNewTrabajadorDialog()}),e._UZ(12,"mat-icon",11),e.TgZ(13,"span",12),e._uU(14,"Agregar"),e.qZA()(),e.TgZ(15,"button",13),e.NdJ("click",function(){return i.exportToCSV()}),e._UZ(16,"mat-icon",11),e.qZA()()(),e.TgZ(17,"div",14)(18,"div",15),e.YNc(19,R,48,19,"ng-container",16)(20,B,36,2,"ng-template",null,17,e.W1O),e.qZA()()()()),2&o&&(e.xp6(3),e.Q6J("ngIf",i.isLoading),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:magnifying-glass"),e.xp6(1),e.Q6J("formControl",i.searchInputControl)("autocomplete","off"),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(4),e.Q6J("svgIcon","heroicons_outline:arrow-up-tray"),e.xp6(3),e.Q6J("ngIf",i.dataSource.data.length>0)("ngIfElse",i.trabajadores))},dependencies:[l.ez,l.mk,l.sg,l.O5,l.tP,u.ot,u.lW,u.RK,b.Cv,b.pW,p.JX,p.YE,p.nU,_.p0,x.Ps,x.Hw,c.UX,c._Y,c.Fj,c.JJ,c.JL,c.oH,c.sg,c.u,g.TU,g.NW,m.lN,m.KE,m.hX,m.qo,v.c,v.Nt,S.LD,S.gD,j.ey,T.AV,T.gM,M.t],styles:[":host{display:flex;flex-direction:column;height:100%}.mat-table{overflow:auto}.filter-row{display:grid;grid-template-columns:repeat(10,minmax(100px,1fr));gap:16px;padding:8px 16px;border-bottom:1px solid #ccc;background-color:#f9f9f9}.details-panel{padding:16px;background-color:#fff;border-top:1px solid #ccc}.sticky-end{position:sticky;right:0;background:inherit;z-index:1}.mat-form-field{width:100%}\n"],encapsulation:2,changeDetection:0})}return n})();var C=s(5195);let ee=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[l.ez]})}return n})();function te(n,a){if(1&n&&(e.TgZ(0,"div",21),e._UZ(1,"img",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.licenseData.entidad.logo,e.LSH)("alt",t.licenseData.entidad.nombre_entidad+" Logo")}}function ne(n,a){if(1&n&&(e.TgZ(0,"div",41)(1,"span",42),e._uU(2,"Ubicaci\xf3n:"),e.qZA(),e.TgZ(3,"span",43),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.AsE("",t.licenseData.entidad.municipio.nombre,", ",t.licenseData.entidad.provincia.nombre,"")}}function oe(n,a){if(1&n&&(e.TgZ(0,"div",47)(1,"h4",48),e._uU(2,"Observaciones"),e.qZA(),e.TgZ(3,"p",49),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Oqu(t.licenseData.observaciones)}}function ie(n,a){if(1&n&&(e.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26),e._UZ(4,"i",27),e.TgZ(5,"span",28),e._uU(6,"Activaci\xf3n"),e.qZA()(),e.TgZ(7,"p",29),e._uU(8),e.qZA()(),e.TgZ(9,"div",25)(10,"div",26),e._UZ(11,"i",30),e.TgZ(12,"span",28),e._uU(13,"Expiraci\xf3n"),e.qZA()(),e.TgZ(14,"p",29),e._uU(15),e.qZA()(),e.TgZ(16,"div",25)(17,"div",26),e._UZ(18,"i",31),e.TgZ(19,"span",28),e._uU(20,"Estado"),e.qZA()(),e.TgZ(21,"div",32),e._UZ(22,"i"),e._uU(23),e.qZA()()(),e.TgZ(24,"div",33)(25,"div",34)(26,"div",35),e._uU(27),e.qZA(),e.TgZ(28,"div",36),e._uU(29,"d\xedas restantes"),e.qZA()()(),e.TgZ(30,"div",37)(31,"div",38)(32,"h3",39),e._uU(33,"Detalles de la Licencia"),e.qZA(),e.TgZ(34,"div",40)(35,"div",41)(36,"span",42),e._uU(37,"Tipo:"),e.qZA(),e.TgZ(38,"span",43),e._uU(39),e.qZA()(),e.TgZ(40,"div",41)(41,"span",42),e._uU(42,"ID:"),e.qZA(),e.TgZ(43,"span",44),e._uU(44),e.qZA()(),e.TgZ(45,"div",41)(46,"span",42),e._uU(47,"Entidad ID:"),e.qZA(),e.TgZ(48,"span",44),e._uU(49),e.qZA()()()(),e.TgZ(50,"div",38)(51,"h3",39),e._uU(52,"Informaci\xf3n de la Entidad"),e.qZA(),e.TgZ(53,"div",40)(54,"div",41)(55,"span",42),e._uU(56,"Nombre:"),e.qZA(),e.TgZ(57,"span",43),e._uU(58),e.qZA()(),e.TgZ(59,"div",41)(60,"span",42),e._uU(61,"C\xf3digo:"),e.qZA(),e.TgZ(62,"span",44),e._uU(63),e.qZA()(),e.TgZ(64,"div",41)(65,"span",42),e._uU(66,"Tipo Empresa:"),e.qZA(),e.TgZ(67,"span",43),e._uU(68),e.qZA()(),e.TgZ(69,"div",41)(70,"span",42),e._uU(71,"Domicilio Legal:"),e.qZA(),e.TgZ(72,"span",43),e._uU(73),e.qZA()(),e.TgZ(74,"div",41)(75,"span",42),e._uU(76,"Tel\xe9fonos:"),e.qZA(),e.TgZ(77,"span",43),e._uU(78),e.qZA()(),e.YNc(79,ne,5,2,"div",45),e.qZA()()(),e.YNc(80,oe,5,1,"div",46),e.qZA()),2&n){const t=e.oxw();e.xp6(8),e.Oqu(t.formatDate(t.licenseData.fecha_emision)),e.xp6(7),e.Oqu(t.formatDate(t.licenseData.fecha_vencimiento)),e.xp6(6),e.Q6J("ngClass",t.getStatusColor()),e.xp6(1),e.Tol("icon-"+t.getStatusIcon()),e.xp6(1),e.hij(" ",t.licenseData.estado," "),e.xp6(4),e.Oqu(t.daysRemaining),e.xp6(12),e.Oqu(t.licenseData.tipo_licencia),e.xp6(5),e.Oqu(t.licenseData.id),e.xp6(5),e.Oqu(t.licenseData.entidad_id),e.xp6(9),e.Oqu(t.licenseData.entidad.nombre_entidad),e.xp6(5),e.Oqu(t.licenseData.entidad.codigo_entidad),e.xp6(5),e.Oqu(t.licenseData.entidad.tipo_empresa),e.xp6(5),e.Oqu(t.licenseData.entidad.domicilio_legal),e.xp6(5),e.Oqu(t.licenseData.entidad.telefonos),e.xp6(1),e.Q6J("ngIf",t.licenseData.entidad.municipio&&t.licenseData.entidad.provincia),e.xp6(1),e.Q6J("ngIf",t.licenseData.observaciones)}}function ae(n,a){if(1&n&&(e.TgZ(0,"tr",57)(1,"td",58),e._uU(2),e.qZA(),e.TgZ(3,"td",59),e._uU(4),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t.serie),e.xp6(2),e.Oqu(t.fecha)}}function re(n,a){if(1&n&&(e.TgZ(0,"div",60),e._UZ(1,"i",61),e.TgZ(2,"div",62)(3,"p",63),e._uU(4),e.qZA(),e.TgZ(5,"p",64),e._uU(6),e.qZA()()()),2&n){const t=a.$implicit;e.xp6(4),e.Oqu(t.usuario),e.xp6(2),e.hij("Activado: ",t.fecha,"")}}function ce(n,a){if(1&n&&(e.TgZ(0,"div",23)(1,"div",50)(2,"div",51)(3,"h3",39),e._uU(4,"Historial de Activaciones"),e.qZA(),e.TgZ(5,"div",52)(6,"table",53)(7,"thead")(8,"tr")(9,"th"),e._uU(10,"No. de serie"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Fecha"),e.qZA()()(),e.TgZ(13,"tbody"),e.YNc(14,ae,5,2,"tr",54),e.qZA()()()(),e.TgZ(15,"div",51)(16,"h3",39),e._uU(17,"Usuarios Vinculados"),e.qZA(),e.TgZ(18,"div",55),e.YNc(19,re,7,2,"div",56),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(14),e.Q6J("ngForOf",t.historialActivaciones),e.xp6(5),e.Q6J("ngForOf",t.historialActivaciones)}}function se(n,a){if(1&n&&(e.TgZ(0,"div",23)(1,"div",65)(2,"h3",39),e._uU(3),e.qZA(),e.TgZ(4,"div",66)(5,"div",67)(6,"h4",68),e._uU(7,"Caracter\xedsticas Incluidas"),e.qZA(),e.TgZ(8,"ul",69)(9,"li",70),e._UZ(10,"i",71),e._uU(11," Acceso completo al sistema ERP "),e.qZA(),e.TgZ(12,"li",70),e._UZ(13,"i",71),e._uU(14," Usuarios ilimitados "),e.qZA(),e.TgZ(15,"li",70),e._UZ(16,"i",71),e._uU(17," Soporte t\xe9cnico 24/7 "),e.qZA(),e.TgZ(18,"li",70),e._UZ(19,"i",71),e._uU(20," Actualizaciones autom\xe1ticas "),e.qZA(),e.TgZ(21,"li",70),e._UZ(22,"i",71),e._uU(23," Respaldo en la nube "),e.qZA()()(),e.TgZ(24,"div",72)(25,"h4",73),e._uU(26,"Informaci\xf3n T\xe9cnica"),e.qZA(),e.TgZ(27,"div",74)(28,"div",75)(29,"p",76),e._uU(30,"Versi\xf3n:"),e.qZA(),e.TgZ(31,"p",77),e._uU(32,"v2.4.1"),e.qZA()(),e.TgZ(33,"div",75)(34,"p",76),e._uU(35,"\xdaltima actualizaci\xf3n:"),e.qZA(),e.TgZ(36,"p",77),e._uU(37,"15 de mayo, 2025"),e.qZA()(),e.TgZ(38,"div",75)(39,"p",76),e._uU(40,"Compatibilidad:"),e.qZA(),e.TgZ(41,"p",77),e._uU(42,"Windows, macOS, Linux"),e.qZA()(),e.TgZ(43,"div",75)(44,"p",76),e._uU(45,"Base de datos:"),e.qZA(),e.TgZ(46,"p",77),e._uU(47,"PostgreSQL 14+"),e.qZA()()()()()()()),2&n){const t=e.oxw();e.xp6(3),e.hij("Detalles del Plan ",t.licenseData.tipo_licencia,"")}}let le=(()=>{class n{constructor(){this.activeTab="estado",this.daysRemaining=0,this.licenseData={id:1,entidad_id:123,numero_licencia:"ABC123-XYZ456",tipo_licencia:"Empresarial Pro",fecha_emision:new Date("2025-06-01"),fecha_vencimiento:new Date("2025-07-01"),estado:"Activa",observaciones:"Licencia renovada autom\xe1ticamente",entidad:{id:123,municipio_id:1,nombre_entidad:"Mi Sistema ERP",codigo_entidad:"ERP001",domicilio_legal:"Av. Principal 123, Centro",telefonos:"555-0123, 555-0124",logo:"assets/logo.jpg",tipo_empresa:"PRIVADA",provincia:{id:1,nombre_provincia:"Provincia Central"},municipio:{id:1,provincia_id:1,nombre_municipio:"Ciudad Capital",provincia:{id:1,nombre_provincia:"Provincia Central"}}}},this.historialActivaciones=[{serie:"SN987654320",fecha:"1 de ene. 2024",usuario:"juan.perez@empresa.com"},{serie:"SN876543210",fecha:"15 de dic. 2023",usuario:"admin@empresa.com"}]}ngOnInit(){this.calculateDaysRemaining()}setActiveTab(t){this.activeTab=t}calculateDaysRemaining(){const t=new Date,i=new Date(this.licenseData.fecha_vencimiento).getTime()-t.getTime();this.daysRemaining=Math.ceil(i/864e5)}getStatusColor(){return this.daysRemaining>15?"status-active":this.daysRemaining>7?"status-warning":"status-danger"}getStatusIcon(){return this.daysRemaining>7?"check-circle":"alert-circle"}formatDate(t){return t.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})}onRenovar(){console.log("Renovar licencia")}onDescargarLicencia(){console.log("Descargar licencia")}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-license"]],standalone:!0,features:[e.jDz],decls:37,vars:13,consts:[[1,"license-container"],[1,"license-card"],[1,"header-section"],[1,"header-content"],[1,"title-section"],["class","logo-section",4,"ngIf"],[1,"text-section"],[1,"main-title"],[1,"subtitle"],[1,"license-number"],[1,"license-code"],[1,"entity-code"],[1,"btn-renovar",3,"click"],[1,"tabs-container"],[1,"tabs-nav"],[1,"tab-button",3,"click"],[1,"content-card"],["class","content-section",4,"ngIf"],[1,"download-section"],[1,"btn-download",3,"click"],[1,"icon-download"],[1,"logo-section"],[1,"entity-logo",3,"src","alt"],[1,"content-section"],[1,"status-grid"],[1,"status-card"],[1,"status-header"],[1,"icon-calendar"],[1,"status-label"],[1,"status-value"],[1,"icon-clock"],[1,"icon-shield"],[1,"status-badge",3,"ngClass"],[1,"days-remaining-card"],[1,"days-content"],[1,"days-number"],[1,"days-label"],[1,"details-grid"],[1,"details-section"],[1,"section-title"],[1,"details-list"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value","detail-code"],["class","detail-item",4,"ngIf"],["class","observaciones-card",4,"ngIf"],[1,"observaciones-card"],[1,"observaciones-title"],[1,"observaciones-text"],[1,"historial-grid"],[1,"historial-section"],[1,"table-container"],[1,"data-table"],["class","table-row",4,"ngFor","ngForOf"],[1,"usuarios-list"],["class","usuario-card",4,"ngFor","ngForOf"],[1,"table-row"],[1,"table-cell","table-code"],[1,"table-cell"],[1,"usuario-card"],[1,"icon-user"],[1,"usuario-info"],[1,"usuario-email"],[1,"usuario-fecha"],[1,"detalles-container"],[1,"plan-sections"],[1,"caracteristicas-card"],[1,"caracteristicas-title"],[1,"caracteristicas-list"],[1,"caracteristica-item"],[1,"icon-check-circle"],[1,"tecnica-card"],[1,"tecnica-title"],[1,"tecnica-grid"],[1,"tecnica-item"],[1,"tecnica-label"],[1,"tecnica-value"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e.YNc(5,te,2,2,"div",5),e.TgZ(6,"div",6)(7,"h1",7),e._uU(8,"Licencia de Software"),e.qZA(),e.TgZ(9,"h2",8),e._uU(10),e.qZA(),e.TgZ(11,"p",9),e._uU(12," Licencia: "),e.TgZ(13,"span",10),e._uU(14),e.qZA()(),e.TgZ(15,"p",11),e._uU(16," C\xf3digo Entidad: "),e.TgZ(17,"span",10),e._uU(18),e.qZA()()()(),e.TgZ(19,"button",12),e.NdJ("click",function(){return i.onRenovar()}),e._uU(20," RENOVAR "),e.qZA()()(),e.TgZ(21,"div",13)(22,"div",14)(23,"button",15),e.NdJ("click",function(){return i.setActiveTab("estado")}),e._uU(24," Estado "),e.qZA(),e.TgZ(25,"button",15),e.NdJ("click",function(){return i.setActiveTab("historial")}),e._uU(26," Historial de Activaciones "),e.qZA(),e.TgZ(27,"button",15),e.NdJ("click",function(){return i.setActiveTab("detalles")}),e._uU(28," Detalles del Plan "),e.qZA()()()(),e.TgZ(29,"div",16),e.YNc(30,ie,81,17,"div",17)(31,ce,20,2,"div",17)(32,se,48,1,"div",17),e.TgZ(33,"div",18)(34,"button",19),e.NdJ("click",function(){return i.onDescargarLicencia()}),e._UZ(35,"i",20),e._uU(36," Descargar Licencia "),e.qZA()()()()),2&o&&(e.xp6(5),e.Q6J("ngIf",i.licenseData.entidad.logo),e.xp6(5),e.Oqu(i.licenseData.entidad.nombre_entidad),e.xp6(4),e.Oqu(i.licenseData.numero_licencia),e.xp6(4),e.Oqu(i.licenseData.entidad.codigo_entidad),e.xp6(5),e.ekj("active","estado"===i.activeTab),e.xp6(2),e.ekj("active","historial"===i.activeTab),e.xp6(2),e.ekj("active","detalles"===i.activeTab),e.xp6(3),e.Q6J("ngIf","estado"===i.activeTab),e.xp6(1),e.Q6J("ngIf","historial"===i.activeTab),e.xp6(1),e.Q6J("ngIf","detalles"===i.activeTab))},dependencies:[l.ez,l.mk,l.sg,l.O5,C.QW,b.Cv,ee],styles:['@charset "UTF-8";.license-container{max-width:1024px;margin:0 auto;padding:24px;background-color:#f9fafb;min-height:100vh}.license-card,.content-card{background:white;border-radius:8px;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.license-card{margin-bottom:24px}.header-section{padding:32px;border-bottom:1px solid #f3f4f6}.header-content{display:flex;justify-content:space-between;align-items:flex-start}.title-section{display:flex;align-items:flex-start;gap:20px}.logo-section{flex-shrink:0}.entity-logo{width:80px;height:80px;object-fit:contain;border-radius:8px;border:1px solid #e5e7eb;background-color:#fff}.text-section{flex:1}.text-section h1.main-title{font-size:32px;font-weight:700;color:#111827;margin:0 0 8px}.text-section h2.subtitle{font-size:20px;color:#374151;margin:0 0 8px}.license-number,.entity-code{color:#6b7280;margin:0 0 4px}.license-code{font-family:Courier New,monospace;font-weight:500}.btn-renovar{background-color:#2563eb;color:#fff;padding:12px 24px;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:background-color .2s}.btn-renovar:hover{background-color:#1d4ed8}.tabs-container{padding:0 32px}.tabs-nav{display:flex;gap:32px;border-bottom:1px solid #e5e7eb}.tab-button{padding:16px 8px;border:none;background:none;border-bottom:2px solid transparent;font-weight:500;font-size:14px;color:#6b7280;cursor:pointer;transition:all .2s}.tab-button:hover{color:#374151}.tab-button.active{border-bottom-color:#2563eb;color:#2563eb}.content-section{padding:32px}.status-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin-bottom:32px}.status-card{background-color:#f9fafb;border-radius:8px;padding:24px}.status-header{display:flex;align-items:center;gap:12px;margin-bottom:8px}.status-label{font-size:14px;color:#6b7280;font-weight:500}.status-value{font-size:18px;font-weight:600;color:#111827;margin:0}.status-badge{display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:20px;font-size:14px;font-weight:500;width:-moz-fit-content;width:fit-content}.status-active{color:#065f46;background-color:#ecfdf5}.status-warning{color:#92400e;background-color:#fffbeb}.status-danger{color:#991b1b;background-color:#fef2f2}.days-remaining-card{background:linear-gradient(135deg,#dbeafe 0%,#e0e7ff 100%);border-radius:8px;padding:24px;margin-bottom:32px;border:1px solid #bfdbfe}.days-content{text-align:center}.days-number{font-size:48px;font-weight:700;color:#2563eb;margin-bottom:8px}.days-label{color:#1e40af;font-weight:500}.details-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:32px}.section-title{font-size:18px;font-weight:600;color:#111827;margin:0 0 16px}.details-list{display:flex;flex-direction:column;gap:12px}.detail-item{display:flex;justify-content:space-between}.detail-label{color:#6b7280}.detail-value{font-weight:500;color:#111827}.detail-code{font-family:Courier New,monospace}.observaciones-card{margin-top:32px;padding:16px;background-color:#dbeafe;border-radius:8px;border:1px solid #bfdbfe}.observaciones-title{font-weight:500;color:#1e40af;margin:0 0 8px}.observaciones-text{color:#1e3a8a;margin:0}.historial-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:32px}.table-container{overflow:hidden;border-radius:8px;border:1px solid #e5e7eb}.data-table{width:100%;border-collapse:collapse}.data-table thead{background-color:#f9fafb}.data-table th{padding:12px 16px;text-align:left;font-size:12px;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.table-row:hover{background-color:#f9fafb}.table-cell{padding:12px 16px;font-size:14px;color:#111827;border-top:1px solid #e5e7eb}.table-code{font-family:Courier New,monospace}.usuarios-list{display:flex;flex-direction:column;gap:16px}.usuario-card{display:flex;align-items:center;gap:12px;padding:16px;background-color:#f9fafb;border-radius:8px}.usuario-info p{margin:0}.usuario-email{font-weight:500;color:#111827}.usuario-fecha{font-size:14px;color:#6b7280}.detalles-container{max-width:512px}.plan-sections{display:flex;flex-direction:column;gap:24px}.caracteristicas-card{background:linear-gradient(135deg,#ecfdf5 0%,#d1fae5 100%);border-radius:8px;padding:24px;border:1px solid #bbf7d0}.caracteristicas-title{font-weight:600;color:#065f46;margin:0 0 12px}.caracteristicas-list{list-style:none;padding:0;margin:0;display:flex;flex-direction:column;gap:8px}.caracteristica-item{display:flex;align-items:center;gap:8px;color:#047857}.tecnica-card{background-color:#dbeafe;border-radius:8px;padding:24px;border:1px solid #bfdbfe}.tecnica-title{font-weight:600;color:#1e40af;margin:0 0 12px}.tecnica-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.tecnica-item{color:#1e3a8a}.tecnica-label{font-weight:500;margin:0 0 4px}.tecnica-value{margin:0}.download-section{padding:16px 32px;border-top:1px solid #f3f4f6;background-color:#f9fafb}.btn-download{display:flex;align-items:center;gap:8px;color:#2563eb;background:none;border:none;font-weight:500;cursor:pointer;transition:color .2s}.btn-download:hover{color:#1d4ed8}.icon-calendar:before{content:"\\1f4c5"}.icon-clock:before{content:"\\23f0"}.icon-shield:before{content:"\\1f6e1\\fe0f"}.icon-check-circle:before{content:"\\2705"}.icon-alert-circle:before{content:"\\26a0\\fe0f"}.icon-user:before{content:"\\1f464"}.icon-download:before{content:"\\2b07\\fe0f"}@media (max-width: 768px){.license-container{padding:16px}.header-content{flex-direction:column;gap:16px}.title-section{flex-direction:column;text-align:center}.entity-logo{width:60px;height:60px}.header-section,.content-section{padding:24px 16px}.tabs-container{padding:0 16px}.tabs-nav{gap:16px;overflow-x:auto}.status-grid,.details-grid,.historial-grid{grid-template-columns:1fr}.days-number{font-size:36px}}\n'],encapsulation:2})}return n})(),de=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-bd"]],standalone:!0,features:[e.jDz],decls:5,vars:0,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"h-400","min-h-400","max-h-400","border-2","border-dashed","border-gray-300","rounded-2xl"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card"),e._UZ(4,"mat-progress-bar"),e.qZA()()()())},dependencies:[l.ez,C.QW,C.a8,b.Cv,b.pW]})}return n})();var A=s(2246);let pe=(()=>{class n{constructor(){}getDepartamentos(){return(0,h.of)(A.iy)}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function me(n,a){1&n&&(e.TgZ(0,"div",17),e._UZ(1,"mat-progress-bar",18),e.qZA()),2&n&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function ge(n,a){1&n&&e.GkF(0)}const ue=n=>({$implicit:n});function fe(n,a){if(1&n&&(e.TgZ(0,"div",19),e.YNc(1,ge,1,0,"ng-container",31),e.qZA()),2&n){const t=e.oxw().$implicit;e.oxw(2);const o=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,ue,t))}}function _e(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",25)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div",26),e._uU(5),e.qZA(),e.TgZ(6,"div",26),e._uU(7),e.qZA(),e.TgZ(8,"div",26),e._uU(9),e.qZA(),e.TgZ(10,"div",27)(11,"button",28),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.toggleDetails(r.nombre_departamento))}),e._UZ(12,"mat-icon",29),e.qZA()()(),e.YNc(13,fe,2,4,"div",30),e.BQk()}if(2&n){const t=a.$implicit,o=a.index,i=e.oxw(2);e.xp6(3),e.Oqu(o+1),e.xp6(2),e.Oqu(t.nombre_departamento),e.xp6(2),e.Oqu(t.codigo),e.xp6(2),e.Oqu(t.descripcion),e.xp6(3),e.Q6J("svgIcon",(null==i.selectedRow?null:i.selectedRow.nombre_departamento)===t.nombre_departamento?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),e.xp6(1),e.Q6J("ngIf",(null==i.selectedRow?null:i.selectedRow.nombre_departamento)===t.nombre_departamento)}}const be=()=>[5,10,25,100];function he(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",19)(2,"div",20),e._UZ(3,"div"),e.TgZ(4,"div",21),e._uU(5,"Nombre"),e.qZA(),e.TgZ(6,"div",21),e._uU(7,"C\xf3digo"),e.qZA(),e.TgZ(8,"div",21),e._uU(9,"Descripci\xf3n"),e.qZA(),e.TgZ(10,"div",22),e._uU(11,"Detalles"),e.qZA()(),e.YNc(12,_e,14,6,"ng-container",23),e.qZA(),e._UZ(13,"mat-paginator",24),e.BQk()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("mat-sort-header","nombre_departamento"),e.xp6(2),e.Q6J("mat-sort-header","codigo"),e.xp6(2),e.Q6J("mat-sort-header","descripcion"),e.xp6(4),e.Q6J("ngForOf",t.dataSource.filteredData),e.xp6(1),e.Q6J("length",t.dataSource.data.length)("pageSize",10)("pageSizeOptions",e.DdM(8,be))("showFirstLastButtons",!0)}}function xe(n,a){1&n&&(e.TgZ(0,"div",32),e._uU(1," \xa1No hay departamentos! "),e.qZA())}function ve(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34)(2,"form",35)(3,"div",36)(4,"div",37)(5,"div",38)(6,"mat-form-field",39)(7,"mat-label"),e._uU(8,"Nombre del Departamento"),e.qZA(),e._UZ(9,"input",40),e.qZA(),e.TgZ(10,"mat-form-field",39)(11,"mat-label"),e._uU(12,"C\xf3digo"),e.qZA(),e._UZ(13,"input",41),e.qZA(),e.TgZ(14,"mat-form-field",39)(15,"mat-label"),e._uU(16,"Descripci\xf3n"),e.qZA(),e._UZ(17,"textarea",42),e.qZA()()()(),e.TgZ(18,"div",43)(19,"button",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteSelectedRecord())}),e._uU(20,"Eliminar"),e.qZA(),e.TgZ(21,"div",45)(22,"button",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateSelectedRecord())}),e._uU(23,"Actualizar"),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.selectedRowForm)}}let Ze=(()=>{class n{constructor(t,o){this.departamentoService=t,this.cdr=o,this.displayedColumns=["nombre_departamento","codigo","descripcion","actions"],this.dataSource=new _.by([]),this.searchInputControl=new c.NI,this.selectedRow=null,this.isLoading=!1,this.selectedRowForm=new c.cw({nombre_departamento:new c.NI(""),codigo:new c.NI(""),descripcion:new c.NI("")})}ngOnInit(){this.isLoading=!0,this.departamentoService.getDepartamentos().subscribe(t=>{this.dataSource.data=t,this.isLoading=!1,this.cdr.detectChanges()}),this.dataSource.filterPredicate=(t,o)=>{if(!o)return!0;const i=o.toLowerCase().split(" ").filter(d=>d.length>0),r=[t.nombre_departamento,t.codigo,t.descripcion].join(" ").toLowerCase();return i.every(d=>r.includes(d))},this.searchInputControl.valueChanges.pipe((0,w.b)(300)).subscribe(t=>{this.dataSource.filter=t.trim().toLowerCase(),this.closeDetails()})}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.cdr.detectChanges()}toggleDetails(t){this.selectedRow=this.selectedRow?.nombre_departamento===t?null:this.dataSource.data.find(o=>o.nombre_departamento===t)||null,this.selectedRow&&this.selectedRowForm.setValue({nombre_departamento:this.selectedRow.nombre_departamento,codigo:this.selectedRow.codigo,descripcion:this.selectedRow.descripcion}),this.cdr.markForCheck()}closeDetails(){this.selectedRow=null}openNewDepartamentoDialog(){console.log("Open new departamento dialog")}updateSelectedRecord(){}deleteSelectedRecord(){}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(pe),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-departamento"]],viewQuery:function(o,i){if(1&o&&(e.Gf(g.NW,5),e.Gf(p.YE,5)),2&o){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},standalone:!0,features:[e.jDz],decls:21,vars:8,consts:[[1,"flex","flex-col","min-h-screen","p-6","w-full"],[1,"flex","flex-col","flex-auto","min-w-0","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","placeholder","Buscar departamentos",3,"formControl","autocomplete"],["mat-flat-button","","color","primary",1,"ml-4",3,"click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-x-auto"],[4,"ngIf","ngIfElse"],["noDepartments",""],["rowDetailsTemplate",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"grid"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5",2,"grid-template-columns","40px repeat(3, minmax(100px, 1fr)) 100px"],[3,"mat-sort-header"],[1,"sticky-end"],[4,"ngFor","ngForOf"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"length","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"inventory-grid","grid","gap-4","py-3","px-6","md:px-8","border-b","items-center","text-m",2,"grid-template-columns","40px repeat(3, minmax(100px, 1fr)) 100px"],[1,"truncate"],[1,"flex","items-center","justify-center","sticky-end"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6","whitespace-nowrap",3,"click"],[1,"icon-size-5",3,"svgIcon"],["class","grid",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-8","sm:p-16","border-b","text-4xl","font-semibold","tracking-tight","text-center"],[1,"shadow-lg","overflow-hidden"],[1,"flex","border-b"],[1,"flex","flex-col","w-full",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","p-8"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-2/4","sm:pl-8"],[1,"w-full"],["matInput","","formControlName","nombre_departamento"],["matInput","","formControlName","codigo"],["matInput","","formControlName","descripcion"],[1,"flex","items-center","justify-between","w-full","border-t","px-8","py-4"],["mat-button","","color","warn",1,"-ml-4",3,"click"],[1,"flex","items-center"],["mat-button","","color","primary",1,"-ml-4",3,"click"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,me,2,1,"div",3),e.TgZ(4,"div",4),e._uU(5,"Departamentos"),e.qZA(),e.TgZ(6,"div",5)(7,"mat-form-field",6),e._UZ(8,"mat-icon",7)(9,"input",8),e.qZA(),e.TgZ(10,"button",9),e.NdJ("click",function(){return i.openNewDepartamentoDialog()}),e._UZ(11,"mat-icon",10),e.TgZ(12,"span",11),e._uU(13,"Agregar"),e.qZA()()()(),e.TgZ(14,"div",12)(15,"div",13),e.YNc(16,he,14,9,"ng-container",14)(17,xe,2,0,"ng-template",null,15,e.W1O),e.qZA()()(),e.YNc(19,ve,24,1,"ng-template",null,16,e.W1O),e.qZA()),2&o){const r=e.MAs(18);e.xp6(3),e.Q6J("ngIf",i.isLoading),e.xp6(4),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:magnifying-glass"),e.xp6(1),e.Q6J("formControl",i.searchInputControl)("autocomplete","off"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",i.dataSource.data.length>0)("ngIfElse",r)}},dependencies:[l.ez,l.sg,l.O5,l.tP,C.QW,_.p0,g.TU,g.NW,p.JX,p.YE,p.nU,u.ot,u.lW,x.Ps,x.Hw,m.lN,m.KE,m.hX,m.qo,v.c,v.Nt,c.UX,c._Y,c.Fj,c.JJ,c.JL,c.oH,c.sg,c.u]})}return n})();var Te=s(5619);function Ce(n,a){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"mat-progress-bar",17),e.qZA()),2&n&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function we(n,a){if(1&n&&(e.ynx(0),e._UZ(1,"img",38),e.BQk()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.dataSource.data[0].background,e.LSH)}}function Ae(n,a){if(1&n&&e._UZ(0,"img",39),2&n){const t=e.oxw(3);e.Q6J("src",t.dataSource.data[0].avatar,e.LSH)}}function ye(n,a){if(1&n&&(e.TgZ(0,"div",40),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.dataSource.data[0].nombre_entidad.charAt(0)," ")}}function Ue(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",43)(2,"span",44),e._uU(3),e.qZA()(),e.BQk()),2&n){const t=a.$implicit;e.xp6(3),e.Oqu(t.title)}}function qe(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",41),e.YNc(2,Ue,4,1,"ng-container",42),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.dataSource.data[0].tags)("ngForTrackBy",t.trackByFn)}}const ke=()=>["../"];function Oe(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",20),e.YNc(2,we,2,1,"ng-container",19),e.TgZ(3,"div",21)(4,"a",22),e._UZ(5,"mat-icon",23),e.qZA()()(),e.TgZ(6,"div",24)(7,"div",25)(8,"div",26)(9,"div",27),e.YNc(10,Ae,1,1,"img",28)(11,ye,2,1,"div",29),e.qZA(),e.TgZ(12,"div",30)(13,"button",31),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.openEditEntidadDialog(i.dataSource.data[0]))}),e._UZ(14,"mat-icon",32),e.TgZ(15,"span",33),e._uU(16,"Editar"),e.qZA()()()(),e.TgZ(17,"div",34),e._uU(18),e.qZA(),e.YNc(19,qe,3,2,"ng-container",19),e.TgZ(20,"div",35)(21,"div",36),e._UZ(22,"mat-icon",10),e.TgZ(23,"div",37),e._uU(24),e.qZA()(),e.TgZ(25,"div",36),e._UZ(26,"mat-icon",10),e.TgZ(27,"div",37),e._uU(28),e.qZA()(),e.TgZ(29,"div",36),e._UZ(30,"mat-icon",10),e.TgZ(31,"div",37),e._uU(32),e.qZA()(),e.TgZ(33,"div",36),e._UZ(34,"mat-icon",10),e.TgZ(35,"div",37),e._uU(36),e.qZA()(),e.TgZ(37,"div",36),e._UZ(38,"mat-icon",10),e.TgZ(39,"div",37),e._uU(40),e.qZA()()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.dataSource.data[0].background),e.xp6(2),e.Q6J("matTooltip","Close")("routerLink",e.DdM(19,ke)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x-mark"),e.xp6(5),e.Q6J("ngIf",t.dataSource.data[0].avatar),e.xp6(1),e.Q6J("ngIf",!t.dataSource.data[0].avatar),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil-square"),e.xp6(4),e.Oqu(t.dataSource.data[0].nombre_entidad),e.xp6(1),e.Q6J("ngIf",null==t.dataSource.data[0].tags?null:t.dataSource.data[0].tags.length),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:identification"),e.xp6(2),e.Oqu(t.dataSource.data[0].codigo_entidad),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:building-office"),e.xp6(2),e.Oqu(t.dataSource.data[0].domicilio_legal),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:phone"),e.xp6(2),e.Oqu(t.dataSource.data[0].telefonos),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:map-pin"),e.xp6(2),e.Oqu(null==t.dataSource.data[0].municipio?null:t.dataSource.data[0].municipio.nombre_municipio),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:map-pin"),e.xp6(2),e.Oqu(null==t.dataSource.data[0].provincia?null:t.dataSource.data[0].provincia.nombre_provincia)}}function Se(n,a){if(1&n&&e._UZ(0,"img",39),2&n){const t=e.oxw(3);e.Q6J("src",t.contactForm.get("logo").value,e.LSH)}}function Me(n,a){if(1&n&&(e.TgZ(0,"div",40),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.contactForm.get("nombre_entidad").value.charAt(0)," ")}}function De(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24)(2,"div",25)(3,"form",45),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.updateEntidad())}),e.TgZ(4,"div",26)(5,"div",46),e._UZ(6,"div",47),e.TgZ(7,"div",48)(8,"div")(9,"input",49,50),e.NdJ("change",function(i){e.CHM(t);const r=e.oxw(2);return e.KtG(r.uploadLogo(i.target.files))}),e.qZA(),e.TgZ(11,"label",51),e._UZ(12,"mat-icon",23),e.qZA()(),e.TgZ(13,"div")(14,"button",52),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.removeLogo())}),e._UZ(15,"mat-icon",23),e.qZA()()(),e.YNc(16,Se,1,1,"img",28)(17,Me,2,1,"div",29),e.qZA()(),e.TgZ(18,"mat-form-field",53)(19,"mat-label"),e._uU(20,"Nombre Entidad"),e.qZA(),e._UZ(21,"input",54),e.qZA(),e.TgZ(22,"mat-form-field",53)(23,"mat-label"),e._uU(24,"C\xf3digo Entidad"),e.qZA(),e._UZ(25,"input",55),e.qZA(),e.TgZ(26,"mat-form-field",53)(27,"mat-label"),e._uU(28,"Domicilio Legal"),e.qZA(),e._UZ(29,"input",56),e.qZA(),e.TgZ(30,"mat-form-field",53)(31,"mat-label"),e._uU(32,"Tel\xe9fonos"),e.qZA(),e._UZ(33,"input",57),e.qZA(),e.TgZ(34,"mat-form-field",53)(35,"mat-label"),e._uU(36,"Municipio"),e.qZA(),e._UZ(37,"input",58),e.qZA(),e.TgZ(38,"div",59)(39,"button",60),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.cancelEdit())}),e._uU(40,"Cancelar"),e.qZA(),e.TgZ(41,"button",61),e._uU(42,"Guardar"),e.qZA()()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("formGroup",t.contactForm),e.xp6(6),e.Q6J("multiple",!1)("accept","image/jpeg, image/png"),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:camera"),e.xp6(3),e.Q6J("svgIcon","heroicons_outline:trash"),e.xp6(1),e.Q6J("ngIf",t.contactForm.get("logo").value),e.xp6(1),e.Q6J("ngIf",!t.contactForm.get("logo").value&&t.contactForm.get("nombre_entidad").value),e.xp6(24),e.Q6J("disabled",t.contactForm.invalid)}}function Pe(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",18),e.YNc(2,Oe,41,20,"ng-container",19)(3,De,43,8,"ng-container",19),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.editMode),e.xp6(1),e.Q6J("ngIf",t.editMode)}}function je(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",68),e._UZ(2,"div"),e.TgZ(3,"div",69),e._uU(4),e.qZA(),e.TgZ(5,"div",70),e._uU(6),e.qZA(),e.TgZ(7,"div",70),e._uU(8),e.qZA(),e.TgZ(9,"div",70),e._uU(10),e.qZA(),e.TgZ(11,"div",70),e._uU(12),e.qZA(),e.TgZ(13,"div",70),e._uU(14),e.qZA(),e.TgZ(15,"div",71)(16,"button",72),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw(3);return e.KtG(d.openEditEntidadDialog(r))}),e._UZ(17,"mat-icon",32),e.qZA(),e.TgZ(18,"button",73),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw(3);return e.KtG(d.deleteEntidad(r))}),e._UZ(19,"mat-icon",32),e.qZA()()(),e.BQk()}if(2&n){const t=a.$implicit;e.xp6(4),e.Oqu(t.id),e.xp6(1),e.Q6J("matTooltip",t.nombre_entidad),e.xp6(1),e.hij(" ",t.nombre_entidad," "),e.xp6(1),e.Q6J("matTooltip",t.codigo_entidad),e.xp6(1),e.hij(" ",t.codigo_entidad," "),e.xp6(1),e.Q6J("matTooltip",t.domicilio_legal),e.xp6(1),e.hij(" ",t.domicilio_legal," "),e.xp6(1),e.Q6J("matTooltip",t.telefonos),e.xp6(1),e.hij(" ",t.telefonos," "),e.xp6(1),e.Q6J("matTooltip",null==t.municipio?null:t.municipio.nombre),e.xp6(1),e.hij(" ",null==t.municipio?null:t.municipio.nombre," "),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}const Fe=()=>[5,10,25,100];function Ie(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",63)(2,"div",64),e._UZ(3,"div"),e.TgZ(4,"div",65),e._uU(5,"ID"),e.qZA(),e.TgZ(6,"div",65),e._uU(7,"Nombre"),e.qZA(),e.TgZ(8,"div",65),e._uU(9,"C\xf3digo"),e.qZA(),e.TgZ(10,"div",65),e._uU(11,"Domicilio Legal"),e.qZA(),e.TgZ(12,"div",65),e._uU(13,"Tel\xe9fonos"),e.qZA(),e.TgZ(14,"div",65),e._uU(15,"Municipio"),e.qZA(),e.TgZ(16,"div",66),e._uU(17,"Detalles"),e.qZA()(),e.YNc(18,je,20,13,"ng-container",42),e.qZA(),e._UZ(19,"mat-paginator",67),e.BQk()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("mat-sort-header","id"),e.xp6(2),e.Q6J("mat-sort-header","nombre_entidad"),e.xp6(2),e.Q6J("mat-sort-header","codigo_entidad"),e.xp6(2),e.Q6J("mat-sort-header","domicilio_legal"),e.xp6(2),e.Q6J("mat-sort-header","telefonos"),e.xp6(2),e.Q6J("mat-sort-header","municipio"),e.xp6(4),e.Q6J("ngForOf",t.dataSource.filteredData)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(13,Fe))("showFirstLastButtons",!0)}}function Ee(n,a){1&n&&(e.TgZ(0,"div",74),e._uU(1," \xa1No hay entidades! "),e.qZA())}function Je(n,a){if(1&n&&e.YNc(0,Ie,20,14,"ng-container",14)(1,Ee,2,0,"ng-template",null,62,e.W1O),2&n){const t=e.MAs(2),o=e.oxw();e.Q6J("ngIf",o.dataSource.data.length>0)("ngIfElse",t)}}function Ne(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Le(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function ze(n,a){if(1&n&&(e.TgZ(0,"option",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function Re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",28)(2,"div",29)(3,"label"),e._uU(4,"Usuario"),e.qZA(),e.TgZ(5,"select",30),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.filterUser=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onFilterChange())}),e.TgZ(6,"option",31),e._uU(7,"Todos los usuarios"),e.qZA(),e.YNc(8,Ne,2,2,"option",32),e.qZA()(),e.TgZ(9,"div",29)(10,"label"),e._uU(11,"Tabla"),e.qZA(),e.TgZ(12,"select",30),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.filterTable=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onFilterChange())}),e.TgZ(13,"option",31),e._uU(14,"Todas las tablas"),e.qZA(),e.YNc(15,Le,2,2,"option",32),e.qZA()(),e.TgZ(16,"div",29)(17,"label"),e._uU(18,"Acci\xf3n"),e.qZA(),e.TgZ(19,"select",30),e.NdJ("ngModelChange",function(i){e.CHM(t);const r=e.oxw();return e.KtG(r.filterAction=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onFilterChange())}),e.TgZ(20,"option",31),e._uU(21,"Todas las acciones"),e.qZA(),e.YNc(22,ze,2,2,"option",32),e.qZA()(),e.TgZ(23,"div",29)(24,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.clearFilters())}),e._uU(25," Limpiar filtros "),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.filterUser),e.xp6(3),e.Q6J("ngForOf",t.uniqueUsers),e.xp6(4),e.Q6J("ngModel",t.filterTable),e.xp6(3),e.Q6J("ngForOf",t.uniqueTables),e.xp6(4),e.Q6J("ngModel",t.filterAction),e.xp6(3),e.Q6J("ngForOf",t.uniqueActions)}}function Ye(n,a){if(1&n&&(e.TgZ(0,"tr",35)(1,"td",36),e._uU(2),e.qZA(),e.TgZ(3,"td",37)(4,"div",38)(5,"div",39),e._UZ(6,"i",21),e.qZA(),e._uU(7),e.qZA()(),e.TgZ(8,"td",40),e._uU(9),e.qZA(),e.TgZ(10,"td",41)(11,"span",42),e._uU(12),e.qZA()(),e.TgZ(13,"td",43)(14,"span",44),e._uU(15),e.qZA()()()),2&n){const t=a.$implicit,o=e.oxw();e.xp6(2),e.hij("#",t.id,""),e.xp6(5),e.hij(" ",t.usuario," "),e.xp6(2),e.Oqu(o.formatDate(t.fecha)),e.xp6(3),e.Oqu(t.tabla),e.xp6(2),e.Q6J("ngClass",o.getActionClass(t.accion)),e.xp6(1),e.hij(" ",t.accion," ")}}function Be(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){const r=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.changePage(r))}),e._uU(1),e.qZA()}if(2&n){const t=a.$implicit,o=e.oxw(2);e.ekj("active",o.currentPage===t),e.xp6(1),e.hij(" ",t," ")}}function Ge(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",45)(1,"div",46)(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",47)(5,"button",48),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changePage(i.currentPage-1))}),e._UZ(6,"i",49),e._uU(7," Anterior "),e.qZA(),e.TgZ(8,"div",50),e.YNc(9,Be,2,3,"button",51),e.qZA(),e.TgZ(10,"button",48),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changePage(i.currentPage+1))}),e._uU(11," Siguiente "),e._UZ(12,"i",52),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.lnq(" Mostrando ",t.getStartIndex()," a ",t.getEndIndex()," de ",t.filteredLogs.length," resultados "),e.xp6(2),e.Q6J("disabled",1===t.currentPage),e.xp6(4),e.Q6J("ngForOf",t.getPagesArray()),e.xp6(1),e.Q6J("disabled",t.currentPage===t.totalPages)}}function He(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1," No hay logs que coincidan con los filtros aplicados. "),e.qZA())}function Ke(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1,"No hay logs disponibles en el sistema."),e.qZA())}function Ve(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.clearFilters())}),e._uU(1," Limpiar filtros "),e.qZA()}}function $e(n,a){if(1&n&&(e.TgZ(0,"div",54),e._UZ(1,"i",4),e.TgZ(2,"h3"),e._uU(3,"No se encontraron logs"),e.qZA(),e.YNc(4,He,2,0,"p",55)(5,Ke,2,0,"ng-template",null,56,e.W1O)(7,Ve,2,0,"button",57),e.qZA()),2&n){const t=e.MAs(6),o=e.oxw();e.xp6(4),e.Q6J("ngIf",o.searchTerm||o.filterUser||o.filterTable||o.filterAction)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",o.searchTerm||o.filterUser||o.filterTable||o.filterAction)}}const We=[{path:"entidad",component:(()=>{class n{constructor(t,o,i){this._cdr=t,this._fb=o,this._document=i,this.displayedColumns=["id","nombre_entidad","codigo_entidad","domicilio_legal","telefonos","tipo_empresa","municipio","actions"],this.dataSource=new _.by,this._entidadesSubject=new Te.X([]),this.entidades$=this._entidadesSubject.asObservable(),this.isLoading=!1,this.pagination={length:0,page:0,size:10},this.editMode=!1,this.selectedEntidad=null,this._unsubscribeAll=new O.x}ngOnInit(){this.isLoading=!0,this.loadEntidades(),this.contactForm=this._fb.group({id:[null],nombre_entidad:["",c.kI.required],codigo_entidad:[""],domicilio_legal:[""],telefonos:[""],municipio:[""],logo:[null]})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}loadEntidades(){const t=[{id:1,municipio_id:101,nombre_entidad:"Entidad Uno",codigo_entidad:"E001",domicilio_legal:"Calle 123, Ciudad",telefonos:"123456789",logo:"",tipo_empresa:"Empresa Estatal",provincia:A.rQ[3],municipio:A.k0[0]}];this._entidadesSubject.next(t),this.dataSource.data=t,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.pagination.length=t.length,this.isLoading=!1,this._cdr.markForCheck()}openAddEntidadDialog(){this.editMode=!1,this.selectedEntidad=null,this.contactForm.reset(),this._cdr.markForCheck(),console.log("Open add entidad dialog")}openEditEntidadDialog(t){this.editMode=!0,this.selectedEntidad=t,this.contactForm.patchValue({id:t.id,nombre_entidad:t.nombre_entidad,codigo_entidad:t.codigo_entidad,domicilio_legal:t.domicilio_legal,telefonos:t.telefonos,municipio:t.municipio?.nombre_municipio||"",logo:t.logo||null}),this._cdr.markForCheck()}updateEntidad(){if(this.contactForm.invalid)return;const t=this.contactForm.value,o=this._entidadesSubject.getValue(),i=o.findIndex(r=>r.id===t.id);-1!==i&&(o[i]={...o[i],...t,municipio:{id:o[i].municipio.id,nombre:t.municipio}},this._entidadesSubject.next([...o]),this.dataSource.data=o,this.cancelEdit())}cancelEdit(){this.editMode=!1,this.selectedEntidad=null,this.contactForm.reset(),this._cdr.markForCheck()}deleteEntidad(t){const i=this._entidadesSubject.getValue().filter(r=>r.id!==t.id);this._entidadesSubject.next(i),this.dataSource.data=i,this.pagination.length=i.length,this._cdr.markForCheck()}canAddEntidad(){return 0===this._entidadesSubject.getValue().length}trackByFn(t,o){return o.id||t}uploadLogo(t){if(!t||!t[0])return;const o=t[0],i=new FileReader;i.onload=()=>{this.contactForm.get("logo").setValue(i.result),this.contactForm.markAsDirty(),this._cdr.markForCheck()},i.readAsDataURL(o)}removeLogo(){this.contactForm.get("logo").setValue(null),this.contactForm.markAsDirty(),this._cdr.markForCheck()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(e.sBO),e.Y36(c.qu),e.Y36(l.K0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-entidad-list"]],viewQuery:function(o,i){if(1&o&&(e.Gf(g.NW,5),e.Gf(p.YE,5)),2&o){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},standalone:!0,features:[e.jDz],decls:19,vars:7,consts:[[1,"flex","flex-col","min-h-screen","p-6","w-full"],[1,"relative","flex","flex-col","flex-auto","p-6","pr-3","pb-3","bg-card","rounded-2xl","shadow","overflow-hidden","mb-6","w-full"],[1,"absolute","bottom-0","right-0","w-24","h-24","-m-6"],[1,"icon-size-24","opacity-25","text-blue-500","dark:text-blue-400",3,"svgIcon"],[1,"flex","flex-col","flex-auto","min-w-0","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","flex-col","sm:flex-row","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4","search-add-wrapper"],["mat-flat-button","",1,"ml-4","mt-4","sm:mt-0","w-40","text-lg",3,"color","disabled","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-x-auto"],[4,"ngIf","ngIfElse"],["multipleEntities",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"flex","flex-col","w-full"],[4,"ngIf"],[1,"relative","w-full","h-40","sm:h-48","px-8","sm:px-12","bg-accent-100","dark:bg-accent-700","custom-top-offset"],[1,"flex","items-center","justify-end","w-full","max-w-3xl","mx-auto","pt-6"],["mat-icon-button","",3,"matTooltip","routerLink"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-col","flex-auto","items-center","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"flex","flex-auto","items-end","-mt-16"],[1,"flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],["class","object-cover w-full h-full",3,"src",4,"ngIf"],["class","flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200",4,"ngIf"],[1,"flex","items-center","ml-auto","mb-1"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"mt-3","text-4xl","font-bold","truncate"],[1,"flex","flex-col","mt-4","pt-6","border-t","space-y-8"],[1,"flex","sm:items-center"],[1,"ml-6","leading-6"],[1,"absolute","inset-0","object-cover","w-full","h-full",3,"src"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded","overflow-hidden","uppercase","text-8xl","font-bold","leading-none","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"flex","flex-wrap","items-center","mt-2"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","justify-center","py-1","px-3","mr-3","mb-3","rounded-full","leading-normal","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700"],[1,"text-sm","font-medium","whitespace-nowrap"],[3,"formGroup","ngSubmit"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["id","logo-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["logoFileInput",""],["for","logo-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["mat-icon-button","",3,"click"],["appearance","fill",1,"w-full"],["matInput","","formControlName","nombre_entidad","placeholder","Nombre Entidad","required",""],["matInput","","formControlName","codigo_entidad","placeholder","C\xf3digo Entidad"],["matInput","","formControlName","domicilio_legal","placeholder","Domicilio Legal"],["matInput","","formControlName","telefonos","placeholder","Tel\xe9fonos"],["matInput","","formControlName","municipio","placeholder","Municipio"],[1,"flex","justify-end","space-x-4","mt-6"],["mat-stroked-button","","type","button",3,"click"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["noEntities",""],[1,"flex","flex-col","h-full","overflow-y-auto"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5",2,"grid-template-columns","40px repeat(6, minmax(120px, 1fr)) 100px"],[3,"mat-sort-header"],[1,"sticky-end"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"inventory-grid","grid","gap-4","py-3","px-6","md:px-8","border-b","items-center","text-m",2,"grid-template-columns","40px repeat(6, minmax(120px, 1fr)) 100px"],[1,"truncate"],["matTooltipPosition","above",1,"truncate",3,"matTooltip"],[1,"flex","items-center","justify-center","sticky-end"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6","whitespace-nowrap",3,"click"],["mat-stroked-button","","color","warn",1,"min-w-10","min-h-7","h-7","px-2","leading-6","whitespace-nowrap","ml-2",3,"click"],[1,"p-8","sm:p-16","border-b","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"mat-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5),e.YNc(6,Ce,2,1,"div",6),e.TgZ(7,"div",7),e._uU(8,"Mi Entidad"),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return i.openAddEntidadDialog()}),e._UZ(11,"mat-icon",10),e.TgZ(12,"span",11),e._uU(13,"Agregar"),e.qZA()()()(),e.TgZ(14,"div",12)(15,"div",13),e.YNc(16,Pe,4,2,"ng-container",14)(17,Je,3,2,"ng-template",null,15,e.W1O),e.qZA()()()()()),2&o){const r=e.MAs(18);e.xp6(3),e.Q6J("svgIcon","heroicons_outline:building-office"),e.xp6(3),e.Q6J("ngIf",i.isLoading),e.xp6(4),e.Q6J("color","primary")("disabled",!i.canAddEntidad()),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",1===i.dataSource.data.length)("ngIfElse",r)}},dependencies:[l.ez,l.sg,l.O5,u.ot,u.lW,u.o6,u.RK,b.Cv,b.pW,p.JX,p.YE,p.nU,_.p0,x.Ps,x.Hw,c.UX,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.sg,c.u,g.TU,g.NW,m.lN,m.KE,m.hX,v.c,v.Nt,T.AV,T.gM],styles:[".custom-top-offset{top:75px}\n"],encapsulation:2,changeDetection:0})}return n})()},{path:"trabajadores",component:G},{path:"departamentos",component:Ze},{path:"log",component:(()=>{class n{constructor(){this.logs=[{id:1,usuario:"admin",fecha:new Date("2024-06-23T10:30:00"),tabla:"contrato",accion:"CREATE"},{id:2,usuario:"juan.perez",fecha:new Date("2024-06-23T10:25:00"),tabla:"suplemento",accion:"UPDATE"},{id:3,usuario:"maria.garcia",fecha:new Date("2024-06-23T10:20:00"),tabla:"ejecucion de contrato",accion:"DELETE"},{id:4,usuario:"admin",fecha:new Date("2024-06-23T10:15:00"),tabla:"usuario",accion:"READ"},{id:5,usuario:"carlos.lopez",fecha:new Date("2024-06-23T10:10:00"),tabla:"ejecucion de suplemento",accion:"UPDATE"},{id:6,usuario:"ana.martinez",fecha:new Date("2024-06-23T10:05:00"),tabla:"proveedores",accion:"CREATE"},{id:7,usuario:"pedro.rodriguez",fecha:new Date("2024-06-23T10:00:00"),tabla:"representante",accion:"READ"},{id:8,usuario:"lucia.fernandez",fecha:new Date("2024-06-23T09:55:00"),tabla:"contrato",accion:"CREATE"},{id:9,usuario:"miguel.torres",fecha:new Date("2024-06-23T09:50:00"),tabla:"suplemento",accion:"UPDATE"},{id:10,usuario:"sofia.ramirez",fecha:new Date("2024-06-23T09:45:00"),tabla:"proveedores",accion:"DELETE"},{id:11,usuario:"diego.vargas",fecha:new Date("2024-06-23T09:40:00"),tabla:"ejecucion de contrato",accion:"CREATE"},{id:12,usuario:"Carmen.ruiz",fecha:new Date("2024-06-23T09:35:00"),tabla:"representante",accion:"UPDATE"},{id:13,usuario:"fernando.lopez",fecha:new Date("2024-06-23T09:30:00"),tabla:"ejecucion de suplemento",accion:"READ"},{id:14,usuario:"patricia.mendez",fecha:new Date("2024-06-23T09:25:00"),tabla:"usuario",accion:"CREATE"},{id:15,usuario:"roberto.castro",fecha:new Date("2024-06-23T09:20:00"),tabla:"contrato",accion:"DELETE"}],this.searchTerm="",this.filterUser="",this.filterTable="",this.filterAction="",this.showFilters=!1,this.currentPage=1,this.itemsPerPage=5,this.filteredLogs=[],this.paginatedLogs=[],this.uniqueUsers=[],this.uniqueTables=[],this.uniqueActions=[],this.totalPages=0}ngOnInit(){this.calculateUniqueValues(),this.applyFilters()}calculateUniqueValues(){this.uniqueUsers=[...new Set(this.logs.map(t=>t.usuario))],this.uniqueTables=[...new Set(this.logs.map(t=>t.tabla))],this.uniqueActions=[...new Set(this.logs.map(t=>t.accion))]}applyFilters(){this.filteredLogs=this.logs.filter(t=>(""===this.searchTerm||t.usuario.toLowerCase().includes(this.searchTerm.toLowerCase())||t.tabla.toLowerCase().includes(this.searchTerm.toLowerCase())||t.accion.toLowerCase().includes(this.searchTerm.toLowerCase()))&&(""===this.filterUser||t.usuario===this.filterUser)&&(""===this.filterTable||t.tabla===this.filterTable)&&(""===this.filterAction||t.accion===this.filterAction)),this.totalPages=Math.ceil(this.filteredLogs.length/this.itemsPerPage),this.currentPage=Math.min(this.currentPage,Math.max(1,this.totalPages)),this.updatePagination()}updatePagination(){const t=(this.currentPage-1)*this.itemsPerPage;this.paginatedLogs=this.filteredLogs.slice(t,t+this.itemsPerPage)}onSearchChange(){this.currentPage=1,this.applyFilters()}onFilterChange(){this.currentPage=1,this.applyFilters()}toggleFilters(){this.showFilters=!this.showFilters}clearFilters(){this.searchTerm="",this.filterUser="",this.filterTable="",this.filterAction="",this.currentPage=1,this.applyFilters()}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.updatePagination())}getActionClass(t){switch(t){case"CREATE":return"action-create";case"READ":return"action-read";case"UPDATE":return"action-update";case"DELETE":return"action-delete";default:return"action-default"}}formatDate(t){return t.toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}getPagesArray(){return Array.from({length:this.totalPages},(t,o)=>o+1)}getStartIndex(){return(this.currentPage-1)*this.itemsPerPage+1}getEndIndex(){return Math.min(this.currentPage*this.itemsPerPage,this.filteredLogs.length)}refresh(){console.log("Actualizando logs...")}export(){console.log("Exportando logs...")}static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-system"]],standalone:!0,features:[e.jDz],decls:47,vars:9,consts:[[1,"logs-container"],[1,"header"],[1,"header-title"],[1,"title-section"],[1,"icon-activity"],[1,"action-buttons"],[1,"btn","btn-primary",3,"click"],[1,"icon-refresh"],[1,"btn","btn-success",3,"click"],[1,"icon-download"],[1,"search-filters-section"],[1,"search-and-filter"],[1,"search-container"],[1,"icon-search"],["type","text","placeholder","Buscar logs...",1,"search-input",3,"ngModel","ngModelChange","input"],[1,"btn-filter",3,"click"],[1,"icon-filter"],[1,"results-count"],["class","filters-section",4,"ngIf"],[1,"table-container"],[1,"logs-table"],[1,"icon-user"],[1,"icon-calendar"],[1,"icon-database"],["class","table-row",4,"ngFor","ngForOf"],["class","pagination-container",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"filters-section"],[1,"filters-grid"],[1,"filter-group"],[3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-secondary","full-width",3,"click"],[3,"value"],[1,"table-row"],[1,"log-id"],[1,"log-user"],[1,"user-info"],[1,"user-avatar"],[1,"log-date"],[1,"log-table"],[1,"table-badge"],[1,"log-action"],[1,"action-badge",3,"ngClass"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-controls"],[1,"btn-pagination",3,"disabled","click"],[1,"icon-chevron-left"],[1,"page-numbers"],["class","btn-page",3,"active","click",4,"ngFor","ngForOf"],[1,"icon-chevron-right"],[1,"btn-page",3,"click"],[1,"empty-state"],[4,"ngIf","ngIfElse"],["noLogs",""],["class","btn btn-primary",3,"click",4,"ngIf"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"i",4),e.TgZ(5,"h1"),e._uU(6,"Logs del Sistema"),e.qZA()(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return i.refresh()}),e._UZ(9,"i",7),e._uU(10," Actualizar "),e.qZA(),e.TgZ(11,"button",8),e.NdJ("click",function(){return i.export()}),e._UZ(12,"i",9),e._uU(13," Exportar "),e.qZA()()(),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12),e._UZ(17,"i",13),e.TgZ(18,"input",14),e.NdJ("ngModelChange",function(d){return i.searchTerm=d})("input",function(){return i.onSearchChange()}),e.qZA()(),e.TgZ(19,"button",15),e.NdJ("click",function(){return i.toggleFilters()}),e._UZ(20,"i",16),e._uU(21," Filtros "),e.qZA()(),e.TgZ(22,"div",17),e._uU(23),e.qZA()(),e.YNc(24,Re,26,6,"div",18),e.qZA(),e.TgZ(25,"div",19)(26,"table",20)(27,"thead")(28,"tr")(29,"th"),e._uU(30,"ID"),e.qZA(),e.TgZ(31,"th"),e._UZ(32,"i",21),e._uU(33," Usuario "),e.qZA(),e.TgZ(34,"th"),e._UZ(35,"i",22),e._uU(36," Fecha "),e.qZA(),e.TgZ(37,"th"),e._UZ(38,"i",23),e._uU(39," Tabla "),e.qZA(),e.TgZ(40,"th"),e._UZ(41,"i",4),e._uU(42," Acci\xf3n "),e.qZA()()(),e.TgZ(43,"tbody"),e.YNc(44,Ye,16,6,"tr",24),e.qZA()(),e.YNc(45,Ge,13,6,"div",25),e.qZA(),e.YNc(46,$e,8,3,"div",26),e.qZA()),2&o&&(e.xp6(18),e.Q6J("ngModel",i.searchTerm),e.xp6(1),e.ekj("active",i.showFilters),e.xp6(4),e.AsE(" Mostrando ",i.filteredLogs.length," de ",i.logs.length," registros "),e.xp6(1),e.Q6J("ngIf",i.showFilters),e.xp6(20),e.Q6J("ngForOf",i.paginatedLogs),e.xp6(1),e.Q6J("ngIf",i.totalPages>1),e.xp6(1),e.Q6J("ngIf",0===i.filteredLogs.length))},dependencies:[l.ez,l.mk,l.sg,l.O5,c.u5,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.On],styles:['@charset "UTF-8";.logs-container[_ngcontent-%COMP%]{padding:1.5rem;width:100%;background-color:#f9fafb;min-height:100vh}.header[_ngcontent-%COMP%]{margin-bottom:2rem}.header-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:#111827;margin:0}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:none;border-radius:.5rem;font-weight:500;cursor:pointer;transition:all .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.btn-success[_ngcontent-%COMP%]{background-color:#16a34a;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background-color:#15803d}.btn-secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151;border:1px solid #d1d5db}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.search-filters-section[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;padding:1rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb}.search-and-filter[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem}.search-container[_ngcontent-%COMP%]{position:relative}.search-input[_ngcontent-%COMP%]{padding:.5rem .75rem .5rem 2.5rem;border:1px solid #d1d5db;border-radius:.5rem;width:16rem;font-size:.875rem}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.btn-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border:1px solid #d1d5db;background-color:#fff;border-radius:.5rem;cursor:pointer;transition:all .2s}.btn-filter[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.btn-filter.active[_ngcontent-%COMP%]{background-color:#eff6ff;border-color:#93c5fd;color:#1d4ed8}.results-count[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.filters-section[_ngcontent-%COMP%]{border-top:1px solid #e5e7eb;padding-top:1rem}.filters-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.25rem}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #d1d5db;border-radius:.5rem;font-size:.875rem}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#2563eb;box-shadow:0 0 0 3px #2563eb1a}.full-width[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;overflow:hidden}.logs-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.logs-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f9fafb;border-bottom:1px solid #e5e7eb}.logs-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.75rem 1.5rem;text-align:left;font-size:.75rem;font-weight:500;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.logs-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.25rem}.logs-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6}.table-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.logs-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:.875rem}.log-id[_ngcontent-%COMP%]{font-weight:500;color:#111827}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.user-avatar[_ngcontent-%COMP%]{width:2rem;height:2rem;background-color:#dbeafe;border-radius:50%;display:flex;align-items:center;justify-content:center}.user-avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#2563eb}.table-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .625rem;border-radius:9999px;font-size:.75rem;font-weight:500;background-color:#f3f4f6;color:#374151;border:1px solid #e5e7eb}.action-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.25rem .625rem;border-radius:9999px;font-size:.75rem;font-weight:500;border:1px solid}.action-create[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534;border-color:#bbf7d0}.action-read[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af;border-color:#93c5fd}.action-update[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e;border-color:#fcd34d}.action-delete[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b;border-color:#fca5a5}.action-default[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151;border-color:#e5e7eb}.pagination-container[_ngcontent-%COMP%]{background-color:#fff;padding:.75rem 1.5rem;border-top:1px solid #e5e7eb;display:flex;align-items:center;justify-content:space-between}.pagination-info[_ngcontent-%COMP%]{font-size:.875rem;color:#374151}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.btn-pagination[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.5rem .75rem;font-size:.875rem;font-weight:500;border:1px solid #d1d5db;background-color:#fff;border-radius:.375rem;cursor:pointer;transition:all .2s}.btn-pagination[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f9fafb}.btn-pagination[_ngcontent-%COMP%]:disabled{color:#9ca3af;cursor:not-allowed}.page-numbers[_ngcontent-%COMP%]{display:flex;gap:.25rem}.btn-page[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.875rem;font-weight:500;border:1px solid #d1d5db;background-color:#fff;border-radius:.375rem;cursor:pointer;transition:all .2s}.btn-page[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.btn-page.active[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;border-color:#2563eb}.empty-state[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;padding:2rem;text-align:center}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#9ca3af;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:500;color:#111827;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin-bottom:1rem}.icon-activity[_ngcontent-%COMP%]:before{content:"\\26a1"}.icon-refresh[_ngcontent-%COMP%]:before{content:"\\1f504"}.icon-download[_ngcontent-%COMP%]:before{content:"\\2b07\\fe0f"}.icon-search[_ngcontent-%COMP%]:before{content:"\\1f50d";position:absolute;left:.75rem;top:50%;transform:translateY(-50%);color:#9ca3af}.icon-filter[_ngcontent-%COMP%]:before{content:"\\1f53d"}.icon-user[_ngcontent-%COMP%]:before{content:"\\1f464"}.icon-calendar[_ngcontent-%COMP%]:before{content:"\\1f4c5"}.icon-database[_ngcontent-%COMP%]:before{content:"\\1f5c3\\fe0f"}.icon-chevron-left[_ngcontent-%COMP%]:before{content:"\\25c0"}.icon-chevron-right[_ngcontent-%COMP%]:before{content:"\\25b6"}@media (max-width: 768px){.logs-container[_ngcontent-%COMP%]{padding:1rem}.header-title[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.search-and-filter[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.filters-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.logs-table[_ngcontent-%COMP%]{font-size:.75rem}.logs-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .logs-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}.pagination-container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}']})}return n})()},{path:"licencia",component:le},{path:"bd",component:de}];let Xe=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[q.Bz.forChild(We),q.Bz]})}return n})()}}]);