"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[7],{1007:(V,b,l)=>{l.r(b),l.d(b,{DashboardRoutingModule:()=>E,dashboardRoutes:()=>f});var M=l(1896),c=l(6903),d=l(5195),y=l(617),v=l(2296),g=l(7988),m=l(6814),t=l(9212),_=l(5170);const Z=["topMontoMayorChart"],x=["topMontoMenorChart"],T=["topVigenciaMayorChart"],P=["topVigenciaMenorChart"],A=["tiposContratosChart"],k=["departamentosChart"],B=["duracionBucketsChart"],U=["evolucionMensualChart"];let w=(()=>{class n{constructor(a){this.contratoService=a,this.contratos=[],this.isLoading=!0,this.chartsInitialized=!1,this.colorPalette=["#90A4AE","#B0BEC5","#CFD8DC","#E1E8ED","#2196F3","#64B5F6","#BBDEFB","#ECEFF1"],this.topMontoMayorChartOptions={},this.topMontoMenorChartOptions={},this.topVigenciaMayorChartOptions={},this.topVigenciaMenorChartOptions={},this.tiposContratosChartOptions={},this.departamentosChartOptions={},this.duracionBucketsChartOptions={},this.evolucionMensualChartOptions={}}ngOnInit(){this.initializeDefaultCharts(),this.fetchContratos()}get totalContratos(){return this.contratos.length}get valorTotal(){const a=this.contratos.reduce((r,o)=>r+(o.monto_total||0),0);return Math.round(a/1e6*100)/100}get totalProveedores(){const a=new Set;return this.contratos.forEach(r=>{r.proveedor?.id&&a.add(r.proveedor.id)}),a.size}get totalDepartamentos(){const a=new Set;return this.contratos.forEach(r=>{r.departamento?.id&&a.add(r.departamento.id)}),a.size}initializeDefaultCharts(){const a=this.getDefaultChartOptions();this.topMontoMayorChartOptions={...a},this.topMontoMenorChartOptions={...a,chart:{...a.chart,type:"donut"}},this.topVigenciaMayorChartOptions={...a,chart:{...a.chart,type:"area"}},this.topVigenciaMenorChartOptions={...a},this.tiposContratosChartOptions={...a,chart:{...a.chart,type:"radar"}},this.departamentosChartOptions={...a},this.duracionBucketsChartOptions={...a},this.evolucionMensualChartOptions={...a,chart:{...a.chart,type:"line"}}}getDefaultChartOptions(){return{series:[{name:"Datos",data:[10,20,30,40,50]}],chart:{type:"bar",height:320,toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800}},plotOptions:{bar:{horizontal:!1,columnWidth:"70%",borderRadius:4}},dataLabels:{enabled:!1},xaxis:{categories:["A","B","C","D","E"],labels:{style:{colors:"#64748B",fontSize:"12px"}}},yaxis:{labels:{style:{colors:"#64748B",fontSize:"12px"}}},title:{text:void 0},tooltip:{enabled:!0,theme:"light",style:{fontSize:"12px"}},legend:{show:!1},grid:{show:!0,borderColor:"#E2E8F0",strokeDashArray:0,position:"back"},colors:["#3F51B5"],responsive:[{breakpoint:768,options:{chart:{height:250}}}]}}downloadChart(a,r="png"){try{let o;switch(a){case"topMontoMayor":o=this.topMontoMayorChart;break;case"topMontoMenor":o=this.topMontoMenorChart;break;case"topVigenciaMayor":o=this.topVigenciaMayorChart;break;case"topVigenciaMenor":o=this.topVigenciaMenorChart;break;case"tiposContratos":o=this.tiposContratosChart;break;case"departamentos":o=this.departamentosChart;break;case"duracionBuckets":o=this.duracionBucketsChart;break;case"evolucionMensual":o=this.evolucionMensualChart}if(o&&o.chart){const e={scale:"svg"===r?1:2,width:1200,height:600};"svg"===r?o.chart.dataURI(e).then(s=>{const i=document.createElement("a");i.href=s.imgURI,i.download=`${a}-chart.svg`,document.body.appendChild(i),i.click(),document.body.removeChild(i)}):"pdf"===r?console.log("PDF export requires additional library"):o.chart.dataURI(e).then(s=>{const i=document.createElement("a");i.href=s.imgURI,i.download=`${a}-chart.png`,document.body.appendChild(i),i.click(),document.body.removeChild(i)})}}catch(o){console.error("Error al descargar gr\xe1fica:",o)}}fetchContratos(){this.isLoading=!0,this.contratoService.getContratos().subscribe({next:a=>{this.contratos=a.map(r=>({...r,monto_total:(r.valor_cup||0)+(r.valor_usd||0)})),setTimeout(()=>{this.initializeCharts(),this.isLoading=!1,this.chartsInitialized=!0},100)},error:a=>{console.error("Error fetching contratos:",a),this.isLoading=!1,this.initializeEmptyCharts()}})}initializeEmptyCharts(){this.chartsInitialized=!0}initializeCharts(){0!==this.contratos.length?(this.createTopMontoChart(),this.createTopMontoPieChart(),this.createVigenciaAreaChart(),this.createEvolucionMensualChart(),this.createTiposRadarChart(),this.createDepartamentosChart(),this.createDuracionHeatmapChart()):this.initializeEmptyCharts()}createTopMontoChart(){const r=[...this.contratos].sort((o,e)=>(e.monto_total||0)-(o.monto_total||0)).slice(0,10);this.topMontoMayorChartOptions={series:[{name:"Monto Total",data:r.map(o=>o.monto_total||0)}],chart:{type:"bar",height:320,toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800},background:"transparent"},plotOptions:{bar:{horizontal:!1,columnWidth:"60%",borderRadius:8,distributed:!0}},dataLabels:{enabled:!1},xaxis:{categories:r.map(o=>o.proveedor?.nombre?.substring(0,15)+"..."||0),labels:{style:{colors:"#64748B",fontSize:"12px"},rotate:-45}},yaxis:{labels:{style:{colors:"#64748B",fontSize:"12px"},formatter:function(o){return"$"+(o/1e6).toFixed(1)+"M"}}},colors:[this.colorPalette[5],this.colorPalette[6],this.colorPalette[7],this.colorPalette[1],this.colorPalette[2],this.colorPalette[3],this.colorPalette[4],this.colorPalette[0],this.colorPalette[8],this.colorPalette[5]],grid:{show:!0,borderColor:"#E2E8F0",strokeDashArray:3},tooltip:{theme:"light",y:{formatter:function(o){return"$"+o.toLocaleString()}}},legend:{show:!1}}}createTopMontoPieChart(){const r=[...this.contratos].sort((o,e)=>(e.monto_total||0)-(o.monto_total||0)).slice(0,6);this.topMontoMenorChartOptions={series:r.map(o=>o.monto_total||0),chart:{type:"donut",height:320,toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800}},labels:r.map(o=>o.proveedor?.nombre?.substring(0,20)+"..."||0),colors:[this.colorPalette[4],this.colorPalette[5],this.colorPalette[0],this.colorPalette[1],this.colorPalette[2],this.colorPalette[3]],dataLabels:{enabled:!0,formatter:function(o){return o.toFixed(1)+"%"},style:{fontSize:"12px",colors:["#fff"],fontWeight:"bold"}},plotOptions:{pie:{donut:{size:"65%",labels:{show:!0,total:{show:!0,label:"Total",color:"#64748B",formatter:function(o){return"$"+(o.globals.seriesTotals.reduce((s,i)=>s+i,0)/1e6).toFixed(1)+"M"}}}}}},legend:{position:"bottom",fontSize:"12px",labels:{colors:"#64748B"}},tooltip:{theme:"light",y:{formatter:function(o){return"$"+o.toLocaleString()}}}}}createVigenciaAreaChart(){const a=e=>{if(!e.fecha_firmado||!e.fecha_vencido)return 0;const s=new Date(e.fecha_firmado),i=new Date(e.fecha_vencido);return Math.round((i.getTime()-s.getTime())/2592e6)},o=[...this.contratos].sort((e,s)=>a(s)-a(e)).slice(0,10);this.topVigenciaMayorChartOptions={series:[{name:"Duraci\xf3n (Meses)",data:o.map(a)}],chart:{type:"area",height:320,toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3},fill:{type:"gradient",gradient:{shade:"light",type:"vertical",shadeIntensity:.5,gradientToColors:["#06B6D4"],opacityFrom:.8,opacityTo:.2,stops:[0,100]}},xaxis:{categories:o.map(e=>e.proveedor?.nombre?.substring(0,10)+"..."||0),labels:{style:{colors:"#64748B",fontSize:"12px"}}},yaxis:{labels:{style:{colors:"#64748B",fontSize:"12px"}}},colors:[this.colorPalette[5]],grid:{show:!0,borderColor:"#E2E8F0",strokeDashArray:3},tooltip:{theme:"light",y:{formatter:function(e){return e+" meses"}}}}}createEvolucionMensualChart(){const a=this.contratos.reduce((e,s)=>{if(s.fecha_firmado){const i=new Date(s.fecha_firmado),p=i.getMonth(),u=`${i.getFullYear()}-${p.toString().padStart(2,"0")}`;e[u]||(e[u]={count:0,monto:0}),e[u].count++,e[u].monto+=s.monto_total||0}return e},{}),o=Object.keys(a).sort().slice(-12);this.evolucionMensualChartOptions={series:[{name:"Cantidad",type:"column",data:o.map(e=>a[e].count)},{name:"Monto (M$)",type:"line",data:o.map(e=>a[e].monto/1e6)}],chart:{height:320,type:"line",toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800}},stroke:{width:[0,4],curve:"smooth"},dataLabels:{enabled:!1},markers:{size:6,colors:["#FFFFFF"],strokeColors:"#EF4444",strokeWidth:2,hover:{size:8}},xaxis:{categories:o.map(e=>{const[s,i]=e.split("-");return new Date(parseInt(s),parseInt(i)).toLocaleDateString("es-ES",{month:"short",year:"2-digit"})}),labels:{style:{colors:"#64748B",fontSize:"12px"}}},yaxis:[{title:{text:"Cantidad",style:{color:"#64748B",fontSize:"12px"}},labels:{style:{colors:"#64748B",fontSize:"12px"}}},{opposite:!0,title:{text:"Monto (M$)",style:{color:"#64748B",fontSize:"12px"}},labels:{style:{colors:"#64748B",fontSize:"12px"}}}],colors:[this.colorPalette[4],this.colorPalette[2]],grid:{show:!0,borderColor:"#E2E8F0",strokeDashArray:3},legend:{show:!0,position:"top",labels:{colors:"#64748B"}},tooltip:{theme:"light",shared:!0,intersect:!1}}}createTiposRadarChart(){const a=this.contratos.reduce((o,e)=>{const s=e.tipo_contrato?.nombre_tipo_contrato||"Desconocido";return o[s]||(o[s]=0),o[s]++,o},{}),r=Object.entries(a);this.tiposContratosChartOptions={series:[{name:"Cantidad",data:r.map(([o,e])=>e)}],chart:{height:320,type:"radar",toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800}},xaxis:{categories:r.map(([o,e])=>o.substring(0,15)+(o.length>15?"...":""))},colors:[this.colorPalette[1]],dataLabels:{enabled:!0,style:{colors:[this.colorPalette[1]],fontSize:"11px"}},plotOptions:{radar:{size:120,polygons:{strokeColors:"#E2E8F0",strokeWidth:"2",fill:{colors:["#F0FDF4","#DCFCE7"]}}}},markers:{size:5,colors:[this.colorPalette[1]],strokeColors:"#FFFFFF",strokeWidth:2,hover:{size:7}},fill:{opacity:.4},tooltip:{theme:"light",y:{formatter:function(o){return o+" contratos"}}}}}createDepartamentosChart(){const a=this.contratos.reduce((o,e)=>{const s=e.departamento?.nombre_departamento||"Desconocido";return o[s]||(o[s]=0),o[s]++,o},{}),r=Object.entries(a).sort((o,e)=>e[1]-o[1]);this.departamentosChartOptions={series:[{name:"Contratos",data:r.map(([o,e])=>e)}],chart:{type:"bar",height:320,toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800}},plotOptions:{bar:{horizontal:!0,borderRadius:6,barHeight:"70%",distributed:!0}},dataLabels:{enabled:!0,style:{colors:["#FFFFFF"],fontSize:"12px",fontWeight:"bold"}},xaxis:{categories:r.map(([o,e])=>o.substring(0,20)+(o.length>20?"...":"")),labels:{style:{colors:"#64748B",fontSize:"12px"}}},yaxis:{labels:{style:{colors:"#64748B",fontSize:"12px"}}},colors:[this.colorPalette[0],this.colorPalette[2],this.colorPalette[4],this.colorPalette[1],this.colorPalette[5],this.colorPalette[3],this.colorPalette[6],this.colorPalette[7]],grid:{show:!0,borderColor:"#E2E8F0",strokeDashArray:3},tooltip:{theme:"light",y:{formatter:function(o){return o+" contratos"}}}}}createDuracionHeatmapChart(){const r=this.contratos.reduce((e,s)=>{const i=(e=>{if(!e.fecha_firmado||!e.fecha_vencido)return 0;const s=new Date(e.fecha_firmado),i=new Date(e.fecha_vencido);return Math.round((i.getTime()-s.getTime())/864e5)})(s);let p="";return p=i<=30?"0-30 d\xedas":i<=90?"31-90 d\xedas":i<=180?"91-180 d\xedas":i<=365?"181-365 d\xedas":"> 365 d\xedas",e[p]||(e[p]=0),e[p]++,e},{}),o=Object.entries(r);this.duracionBucketsChartOptions={series:[{name:"Contratos",data:o.map(([e,s])=>s)}],chart:{type:"bar",height:320,toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800}},plotOptions:{bar:{horizontal:!1,columnWidth:"65%",borderRadius:8,distributed:!0}},dataLabels:{enabled:!0,style:{colors:["#FFFFFF"],fontSize:"12px",fontWeight:"bold"}},xaxis:{categories:o.map(([e,s])=>e),labels:{style:{colors:"#64748B",fontSize:"12px"}}},yaxis:{labels:{style:{colors:"#64748B",fontSize:"12px"}}},colors:[this.colorPalette[1],this.colorPalette[4],this.colorPalette[0],this.colorPalette[2],this.colorPalette[3]],grid:{show:!0,borderColor:"#E2E8F0",strokeDashArray:3},tooltip:{theme:"light",y:{formatter:function(e){return e+" contratos"}}}}}createTopVigenciaMenorChart(){const a=e=>{if(!e.fecha_firmado||!e.fecha_vencido)return 0;const s=new Date(e.fecha_firmado),i=new Date(e.fecha_vencido);return Math.round((i.getTime()-s.getTime())/2592e6)},o=[...this.contratos].sort((e,s)=>a(e)-a(s)).slice(0,8);this.topVigenciaMenorChartOptions={series:[{name:"Duraci\xf3n (Meses)",data:o.map(a)},{name:"Monto (M$)",data:o.map(e=>(e.monto_total||0)/1e6)}],chart:{height:320,type:"line",toolbar:{show:!1},animations:{enabled:!0,easing:"easeinout",speed:800}},stroke:{width:[4,4],curve:"smooth",dashArray:[0,5]},dataLabels:{enabled:!1},markers:{size:[6,6],colors:["#FFFFFF","#FFFFFF"],strokeColors:["#8B5CF6","#06B6D4"],strokeWidth:2,hover:{size:8}},xaxis:{categories:o.map(e=>e.proveedor?.nombre?.substring(0,10)+"..."||0),labels:{style:{colors:"#64748B",fontSize:"12px"}}},yaxis:[{title:{text:"Duraci\xf3n (Meses)",style:{color:"#64748B"}},labels:{style:{colors:"#64748B"}}},{opposite:!0,title:{text:"Monto (M$)",style:{color:"#64748B"}},labels:{style:{colors:"#64748B"}}}],colors:[this.colorPalette[1],this.colorPalette[5]],grid:{show:!0,borderColor:"#E2E8F0",strokeDashArray:3},legend:{show:!0,position:"top",labels:{colors:"#64748B"}},tooltip:{theme:"light",shared:!0,intersect:!1}}}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(_.d))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-contrato-dashboard"]],viewQuery:function(r,o){if(1&r&&(t.Gf(Z,5),t.Gf(x,5),t.Gf(T,5),t.Gf(P,5),t.Gf(A,5),t.Gf(k,5),t.Gf(B,5),t.Gf(U,5)),2&r){let e;t.iGM(e=t.CRH())&&(o.topMontoMayorChart=e.first),t.iGM(e=t.CRH())&&(o.topMontoMenorChart=e.first),t.iGM(e=t.CRH())&&(o.topVigenciaMayorChart=e.first),t.iGM(e=t.CRH())&&(o.topVigenciaMenorChart=e.first),t.iGM(e=t.CRH())&&(o.tiposContratosChart=e.first),t.iGM(e=t.CRH())&&(o.departamentosChart=e.first),t.iGM(e=t.CRH())&&(o.duracionBucketsChart=e.first),t.iGM(e=t.CRH())&&(o.evolucionMensualChart=e.first)}},standalone:!0,features:[t.jDz],decls:261,vars:88,consts:[[1,"flex","flex-col","flex-auto","min-w-0","bg-gray-50","dark:bg-gray-900"],[1,"flex-auto","p-6","sm:p-8"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","space-y-3","sm:space-y-0"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white","tracking-tight"],[1,"text-gray-500","dark:text-gray-400","mt-2"],[1,"flex","items-center","space-x-2"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6","mt-8"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm","p-6"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-600","dark:text-gray-400"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white","mt-1"],[1,"p-3","bg-blue-50","dark:bg-blue-900/30","rounded-full"],[1,"text-blue-600","dark:text-blue-400"],[1,"p-3","bg-green-50","dark:bg-green-900/30","rounded-full"],[1,"text-green-600","dark:text-green-400"],[1,"p-3","bg-purple-50","dark:bg-purple-900/30","rounded-full"],[1,"text-purple-600","dark:text-purple-400"],[1,"p-3","bg-orange-50","dark:bg-orange-900/30","rounded-full"],[1,"text-orange-600","dark:text-orange-400"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mt-8"],[1,"bg-white","dark:bg-gray-800","rounded-lg","shadow-sm"],[1,"flex","items-center","justify-between","p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400","mt-1"],["mat-icon-button","",1,"text-gray-400","hover:text-gray-600",3,"matMenuTriggerFor"],["chartMenu1","matMenu"],["mat-menu-item","",3,"click"],[1,"p-6"],[3,"series","chart","xaxis","yaxis","plotOptions","dataLabels","colors","grid","tooltip"],["topMontoMayorChart",""],["chartMenu2","matMenu"],[3,"series","chart","labels","colors","dataLabels","plotOptions","legend","tooltip"],["topMontoMenorChart",""],["chartMenu3","matMenu"],[3,"series","chart","xaxis","yaxis","dataLabels","stroke","fill","colors","grid","tooltip"],["topVigenciaMayorChart",""],["chartMenu4","matMenu"],[3,"series","chart","xaxis","yaxis","dataLabels","stroke","markers","colors","grid","tooltip","legend"],["topVigenciaMenorChart",""],["chartMenu5","matMenu"],[3,"series","chart","xaxis","dataLabels","plotOptions","markers","fill","colors","tooltip"],["tiposContratosChart",""],["chartMenu6","matMenu"],["departamentosChart",""],["chartMenu7","matMenu"],["duracionBucketsChart",""],["chartMenu8","matMenu"],[3,"series","chart","xaxis","yaxis","stroke","dataLabels","markers","colors","grid","tooltip","legend"],["evolucionMensualChart",""]],template:function(r,o){if(1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),t._uU(5," Dashboard de Contratos "),t.qZA(),t.TgZ(6,"p",4),t._uU(7," An\xe1lisis completo de contratos y proveedores "),t.qZA()(),t.TgZ(8,"div",5)(9,"button",6),t._uU(10," Exportar Todo "),t.qZA()()(),t.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"div")(15,"p",10),t._uU(16,"Total Contratos"),t.qZA(),t.TgZ(17,"p",11),t._uU(18),t.qZA()(),t.TgZ(19,"div",12)(20,"mat-icon",13),t._uU(21,"description"),t.qZA()()()(),t.TgZ(22,"div",8)(23,"div",9)(24,"div")(25,"p",10),t._uU(26,"Valor Total"),t.qZA(),t.TgZ(27,"p",11),t._uU(28),t.qZA()(),t.TgZ(29,"div",14)(30,"mat-icon",15),t._uU(31,"attach_money"),t.qZA()()()(),t.TgZ(32,"div",8)(33,"div",9)(34,"div")(35,"p",10),t._uU(36,"Proveedores"),t.qZA(),t.TgZ(37,"p",11),t._uU(38),t.qZA()(),t.TgZ(39,"div",16)(40,"mat-icon",17),t._uU(41,"business"),t.qZA()()()(),t.TgZ(42,"div",8)(43,"div",9)(44,"div")(45,"p",10),t._uU(46,"Departamentos"),t.qZA(),t.TgZ(47,"p",11),t._uU(48),t.qZA()(),t.TgZ(49,"div",18)(50,"mat-icon",19),t._uU(51,"location_city"),t.qZA()()()()(),t.TgZ(52,"div",20)(53,"div",21)(54,"div",22)(55,"div")(56,"h3",23),t._uU(57," Contratos por Monto "),t.qZA(),t.TgZ(58,"p",24),t._uU(59," Top 10 contratos de mayor valor "),t.qZA()(),t.TgZ(60,"div",5)(61,"button",25)(62,"mat-icon"),t._uU(63,"more_vert"),t.qZA()(),t.TgZ(64,"mat-menu",null,26)(66,"button",27),t.NdJ("click",function(){return o.downloadChart("topMontoMayor","png")}),t.TgZ(67,"mat-icon"),t._uU(68,"image"),t.qZA(),t.TgZ(69,"span"),t._uU(70,"PNG"),t.qZA()(),t.TgZ(71,"button",27),t.NdJ("click",function(){return o.downloadChart("topMontoMayor","svg")}),t.TgZ(72,"mat-icon"),t._uU(73,"code"),t.qZA(),t.TgZ(74,"span"),t._uU(75,"SVG"),t.qZA()()()()(),t.TgZ(76,"div",28),t._UZ(77,"apx-chart",29,30),t.qZA()(),t.TgZ(79,"div",21)(80,"div",22)(81,"div")(82,"h3",23),t._uU(83," Contratos por Monto (Menores) "),t.qZA(),t.TgZ(84,"p",24),t._uU(85," Top 6 contratos de menor valor "),t.qZA()(),t.TgZ(86,"div",5)(87,"button",25)(88,"mat-icon"),t._uU(89,"more_vert"),t.qZA()(),t.TgZ(90,"mat-menu",null,31)(92,"button",27),t.NdJ("click",function(){return o.downloadChart("topMontoMenor","png")}),t.TgZ(93,"mat-icon"),t._uU(94,"image"),t.qZA(),t.TgZ(95,"span"),t._uU(96,"PNG"),t.qZA()(),t.TgZ(97,"button",27),t.NdJ("click",function(){return o.downloadChart("topMontoMenor","svg")}),t.TgZ(98,"mat-icon"),t._uU(99,"code"),t.qZA(),t.TgZ(100,"span"),t._uU(101,"SVG"),t.qZA()()()()(),t.TgZ(102,"div",28),t._UZ(103,"apx-chart",32,33),t.qZA()(),t.TgZ(105,"div",21)(106,"div",22)(107,"div")(108,"h3",23),t._uU(109," Duraci\xf3n de Contratos (Meses) "),t.qZA(),t.TgZ(110,"p",24),t._uU(111," Top 10 contratos con mayor duraci\xf3n "),t.qZA()(),t.TgZ(112,"div",5)(113,"button",25)(114,"mat-icon"),t._uU(115,"more_vert"),t.qZA()(),t.TgZ(116,"mat-menu",null,34)(118,"button",27),t.NdJ("click",function(){return o.downloadChart("topVigenciaMayor","png")}),t.TgZ(119,"mat-icon"),t._uU(120,"image"),t.qZA(),t.TgZ(121,"span"),t._uU(122,"PNG"),t.qZA()(),t.TgZ(123,"button",27),t.NdJ("click",function(){return o.downloadChart("topVigenciaMayor","svg")}),t.TgZ(124,"mat-icon"),t._uU(125,"code"),t.qZA(),t.TgZ(126,"span"),t._uU(127,"SVG"),t.qZA()()()()(),t.TgZ(128,"div",28),t._UZ(129,"apx-chart",35,36),t.qZA()(),t.TgZ(131,"div",21)(132,"div",22)(133,"div")(134,"h3",23),t._uU(135," Contratos de Menor Duraci\xf3n "),t.qZA(),t.TgZ(136,"p",24),t._uU(137," Top 8 contratos con menor duraci\xf3n "),t.qZA()(),t.TgZ(138,"div",5)(139,"button",25)(140,"mat-icon"),t._uU(141,"more_vert"),t.qZA()(),t.TgZ(142,"mat-menu",null,37)(144,"button",27),t.NdJ("click",function(){return o.downloadChart("topVigenciaMenor","png")}),t.TgZ(145,"mat-icon"),t._uU(146,"image"),t.qZA(),t.TgZ(147,"span"),t._uU(148,"PNG"),t.qZA()(),t.TgZ(149,"button",27),t.NdJ("click",function(){return o.downloadChart("topVigenciaMenor","svg")}),t.TgZ(150,"mat-icon"),t._uU(151,"code"),t.qZA(),t.TgZ(152,"span"),t._uU(153,"SVG"),t.qZA()()()()(),t.TgZ(154,"div",28),t._UZ(155,"apx-chart",38,39),t.qZA()(),t.TgZ(157,"div",21)(158,"div",22)(159,"div")(160,"h3",23),t._uU(161," Tipos de Contratos "),t.qZA(),t.TgZ(162,"p",24),t._uU(163," Distribuci\xf3n por tipo de contrato "),t.qZA()(),t.TgZ(164,"div",5)(165,"button",25)(166,"mat-icon"),t._uU(167,"more_vert"),t.qZA()(),t.TgZ(168,"mat-menu",null,40)(170,"button",27),t.NdJ("click",function(){return o.downloadChart("tiposContratos","png")}),t.TgZ(171,"mat-icon"),t._uU(172,"image"),t.qZA(),t.TgZ(173,"span"),t._uU(174,"PNG"),t.qZA()(),t.TgZ(175,"button",27),t.NdJ("click",function(){return o.downloadChart("tiposContratos","svg")}),t.TgZ(176,"mat-icon"),t._uU(177,"code"),t.qZA(),t.TgZ(178,"span"),t._uU(179,"SVG"),t.qZA()()()()(),t.TgZ(180,"div",28),t._UZ(181,"apx-chart",41,42),t.qZA()(),t.TgZ(183,"div",21)(184,"div",22)(185,"div")(186,"h3",23),t._uU(187," Contratos por Departamento "),t.qZA(),t.TgZ(188,"p",24),t._uU(189," Distribuci\xf3n por departamento "),t.qZA()(),t.TgZ(190,"div",5)(191,"button",25)(192,"mat-icon"),t._uU(193,"more_vert"),t.qZA()(),t.TgZ(194,"mat-menu",null,43)(196,"button",27),t.NdJ("click",function(){return o.downloadChart("departamentos","png")}),t.TgZ(197,"mat-icon"),t._uU(198,"image"),t.qZA(),t.TgZ(199,"span"),t._uU(200,"PNG"),t.qZA()(),t.TgZ(201,"button",27),t.NdJ("click",function(){return o.downloadChart("departamentos","svg")}),t.TgZ(202,"mat-icon"),t._uU(203,"code"),t.qZA(),t.TgZ(204,"span"),t._uU(205,"SVG"),t.qZA()()()()(),t.TgZ(206,"div",28),t._UZ(207,"apx-chart",29,44),t.qZA()(),t.TgZ(209,"div",21)(210,"div",22)(211,"div")(212,"h3",23),t._uU(213," Duraci\xf3n de Contratos "),t.qZA(),t.TgZ(214,"p",24),t._uU(215," Distribuci\xf3n por rango de duraci\xf3n "),t.qZA()(),t.TgZ(216,"div",5)(217,"button",25)(218,"mat-icon"),t._uU(219,"more_vert"),t.qZA()(),t.TgZ(220,"mat-menu",null,45)(222,"button",27),t.NdJ("click",function(){return o.downloadChart("duracionBuckets","png")}),t.TgZ(223,"mat-icon"),t._uU(224,"image"),t.qZA(),t.TgZ(225,"span"),t._uU(226,"PNG"),t.qZA()(),t.TgZ(227,"button",27),t.NdJ("click",function(){return o.downloadChart("duracionBuckets","svg")}),t.TgZ(228,"mat-icon"),t._uU(229,"code"),t.qZA(),t.TgZ(230,"span"),t._uU(231,"SVG"),t.qZA()()()()(),t.TgZ(232,"div",28),t._UZ(233,"apx-chart",29,46),t.qZA()(),t.TgZ(235,"div",21)(236,"div",22)(237,"div")(238,"h3",23),t._uU(239," Evoluci\xf3n Mensual "),t.qZA(),t.TgZ(240,"p",24),t._uU(241," Cantidad y monto de contratos por mes "),t.qZA()(),t.TgZ(242,"div",5)(243,"button",25)(244,"mat-icon"),t._uU(245,"more_vert"),t.qZA()(),t.TgZ(246,"mat-menu",null,47)(248,"button",27),t.NdJ("click",function(){return o.downloadChart("evolucionMensual","png")}),t.TgZ(249,"mat-icon"),t._uU(250,"image"),t.qZA(),t.TgZ(251,"span"),t._uU(252,"PNG"),t.qZA()(),t.TgZ(253,"button",27),t.NdJ("click",function(){return o.downloadChart("evolucionMensual","svg")}),t.TgZ(254,"mat-icon"),t._uU(255,"code"),t.qZA(),t.TgZ(256,"span"),t._uU(257,"SVG"),t.qZA()()()()(),t.TgZ(258,"div",28),t._UZ(259,"apx-chart",48,49),t.qZA()()()()()),2&r){const e=t.MAs(65),s=t.MAs(91),i=t.MAs(117),p=t.MAs(143),O=t.MAs(169),u=t.MAs(195),z=t.MAs(221),j=t.MAs(247);t.xp6(18),t.Oqu(o.totalContratos),t.xp6(10),t.hij(" $",o.valorTotal,"M "),t.xp6(10),t.hij(" ",o.totalProveedores," "),t.xp6(10),t.hij(" ",o.totalDepartamentos," "),t.xp6(13),t.Q6J("matMenuTriggerFor",e),t.xp6(16),t.Q6J("series",o.topMontoMayorChartOptions.series)("chart",o.topMontoMayorChartOptions.chart)("xaxis",o.topMontoMayorChartOptions.xaxis)("yaxis",o.topMontoMayorChartOptions.yaxis)("plotOptions",o.topMontoMayorChartOptions.plotOptions)("dataLabels",o.topMontoMayorChartOptions.dataLabels)("colors",o.topMontoMayorChartOptions.colors)("grid",o.topMontoMayorChartOptions.grid)("tooltip",o.topMontoMayorChartOptions.tooltip),t.xp6(10),t.Q6J("matMenuTriggerFor",s),t.xp6(16),t.Q6J("series",o.topMontoMenorChartOptions.series)("chart",o.topMontoMenorChartOptions.chart)("labels",o.topMontoMenorChartOptions.labels)("colors",o.topMontoMenorChartOptions.colors)("dataLabels",o.topMontoMenorChartOptions.dataLabels)("plotOptions",o.topMontoMenorChartOptions.plotOptions)("legend",o.topMontoMenorChartOptions.legend)("tooltip",o.topMontoMenorChartOptions.tooltip),t.xp6(10),t.Q6J("matMenuTriggerFor",i),t.xp6(16),t.Q6J("series",o.topVigenciaMayorChartOptions.series)("chart",o.topVigenciaMayorChartOptions.chart)("xaxis",o.topVigenciaMayorChartOptions.xaxis)("yaxis",o.topVigenciaMayorChartOptions.yaxis)("dataLabels",o.topVigenciaMayorChartOptions.dataLabels)("stroke",o.topVigenciaMayorChartOptions.stroke)("fill",o.topVigenciaMayorChartOptions.fill)("colors",o.topVigenciaMayorChartOptions.colors)("grid",o.topVigenciaMayorChartOptions.grid)("tooltip",o.topVigenciaMayorChartOptions.tooltip),t.xp6(10),t.Q6J("matMenuTriggerFor",p),t.xp6(16),t.Q6J("series",o.topVigenciaMenorChartOptions.series)("chart",o.topVigenciaMenorChartOptions.chart)("xaxis",o.topVigenciaMenorChartOptions.xaxis)("yaxis",o.topVigenciaMenorChartOptions.yaxis)("dataLabels",o.topVigenciaMenorChartOptions.dataLabels)("stroke",o.topVigenciaMenorChartOptions.stroke)("markers",o.topVigenciaMenorChartOptions.markers)("colors",o.topVigenciaMenorChartOptions.colors)("grid",o.topVigenciaMenorChartOptions.grid)("tooltip",o.topVigenciaMenorChartOptions.tooltip)("legend",o.topVigenciaMenorChartOptions.legend),t.xp6(10),t.Q6J("matMenuTriggerFor",O),t.xp6(16),t.Q6J("series",o.tiposContratosChartOptions.series)("chart",o.tiposContratosChartOptions.chart)("xaxis",o.tiposContratosChartOptions.xaxis)("dataLabels",o.tiposContratosChartOptions.dataLabels)("plotOptions",o.tiposContratosChartOptions.plotOptions)("markers",o.tiposContratosChartOptions.markers)("fill",o.tiposContratosChartOptions.fill)("colors",o.tiposContratosChartOptions.colors)("tooltip",o.tiposContratosChartOptions.tooltip),t.xp6(10),t.Q6J("matMenuTriggerFor",u),t.xp6(16),t.Q6J("series",o.departamentosChartOptions.series)("chart",o.departamentosChartOptions.chart)("xaxis",o.departamentosChartOptions.xaxis)("yaxis",o.departamentosChartOptions.yaxis)("plotOptions",o.departamentosChartOptions.plotOptions)("dataLabels",o.departamentosChartOptions.dataLabels)("colors",o.departamentosChartOptions.colors)("grid",o.departamentosChartOptions.grid)("tooltip",o.departamentosChartOptions.tooltip),t.xp6(10),t.Q6J("matMenuTriggerFor",z),t.xp6(16),t.Q6J("series",o.duracionBucketsChartOptions.series)("chart",o.duracionBucketsChartOptions.chart)("xaxis",o.duracionBucketsChartOptions.xaxis)("yaxis",o.duracionBucketsChartOptions.yaxis)("plotOptions",o.duracionBucketsChartOptions.plotOptions)("dataLabels",o.duracionBucketsChartOptions.dataLabels)("colors",o.duracionBucketsChartOptions.colors)("grid",o.duracionBucketsChartOptions.grid)("tooltip",o.duracionBucketsChartOptions.tooltip),t.xp6(10),t.Q6J("matMenuTriggerFor",j),t.xp6(16),t.Q6J("series",o.evolucionMensualChartOptions.series)("chart",o.evolucionMensualChartOptions.chart)("xaxis",o.evolucionMensualChartOptions.xaxis)("yaxis",o.evolucionMensualChartOptions.yaxis)("stroke",o.evolucionMensualChartOptions.stroke)("dataLabels",o.evolucionMensualChartOptions.dataLabels)("markers",o.evolucionMensualChartOptions.markers)("colors",o.evolucionMensualChartOptions.colors)("grid",o.evolucionMensualChartOptions.grid)("tooltip",o.evolucionMensualChartOptions.tooltip)("legend",o.evolucionMensualChartOptions.legend)}},dependencies:[m.ez,c.X,c.x,d.QW,y.Ps,y.Hw,v.ot,v.RK,g.Tx,g.VK,g.OP,g.p6],styles:[".dashboard-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-bottom:1px solid rgba(255,255,255,.2)}.dashboard-title[_ngcontent-%COMP%]{background:linear-gradient(45deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.chart-card[_ngcontent-%COMP%]{transition:all .3s ease;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.chart-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 40px #0000001a}.chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.chart-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1f2937}.dark[_ngcontent-%COMP%]   .chart-title[_ngcontent-%COMP%]{color:#f9fafb}.chart-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.dark[_ngcontent-%COMP%]   .chart-subtitle[_ngcontent-%COMP%]{color:#d1d5db}.download-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;border:none;cursor:pointer;transition:all .2s ease}.download-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.download-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.stats-card[_ngcontent-%COMP%]{transition:all .3s ease}.stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:50%}.stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;line-height:1}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;opacity:.8}@media (max-width: 768px){.chart-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.dashboard-title[_ngcontent-%COMP%]{font-size:2rem}.chart-title[_ngcontent-%COMP%]{font-size:1rem}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem}}.loading-chart[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:300px}.loading-chart[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f4f6;border-top:4px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.apx-chart[_ngcontent-%COMP%]   .apexcharts-canvas[_ngcontent-%COMP%]{margin:0 auto}.apx-chart[_ngcontent-%COMP%]   .apexcharts-legend[_ngcontent-%COMP%]{justify-content:center!important}.dark[_ngcontent-%COMP%]   .chart-card[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{background:rgba(31,41,55,.8);border-color:#4b55634d}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem}@media (max-width: 768px){.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}return n})();var C=l(8645),q=l(9773),D=l(3018);let F=(()=>{class n{constructor(a,r){this.proveedorService=a,this.cdr=r,this._unsubscribeAll=new C.x,this.proveedores=[],this.totalProveedoresChartOptions={chart:{type:"radialBar",height:250},series:[0],labels:["Proveedores"],plotOptions:{radialBar:{hollow:{size:"70%"}}}},this.proveedoresByTypeChartOptions={chart:{type:"bar",height:200},series:[{name:"Proveedores",data:[]}],xaxis:{categories:[]}},this.proveedoresByStatusChartOptions={chart:{type:"donut",height:200},series:[0],labels:["Sin datos"]},this.proveedoresByMonthChartOptions={chart:{type:"line",height:200},series:[{name:"Proveedores",data:[]}],xaxis:{categories:[]}},this.proveedoresByTipoEmpresaChartOptions={chart:{type:"pie",height:200},series:[0],labels:["Sin datos"]},this.proveedoresByMinisterioChartOptions={chart:{type:"bar",height:200},series:[{name:"Proveedores",data:[]}],xaxis:{categories:[]}},this.proveedoresByProvinciaChartOptions={chart:{type:"bar",height:200},series:[{name:"Proveedores",data:[]}],xaxis:{categories:[]}},this.proveedoresByMunicipioChartOptions={chart:{type:"bar",height:200},series:[{name:"Proveedores",data:[]}],xaxis:{categories:[]}}}ngOnInit(){this.loadProveedores()}loadProveedores(){this.proveedorService.getProveedores().pipe((0,q.R)(this._unsubscribeAll)).subscribe({next:a=>{this.proveedores=a,this.updateCharts(),this.cdr.markForCheck()},error:a=>{console.error("Error loading proveedores:",a)}})}updateCharts(){this.totalProveedoresChartOptions={chart:{type:"radialBar",height:250},series:[this.proveedores.length],labels:["Proveedores"],plotOptions:{radialBar:{hollow:{size:"70%"}}}};const a=this.groupByKey("ministerio","nombre_ministerio");this.proveedoresByMinisterioChartOptions={chart:{type:"bar",height:200},series:[{name:"Proveedores",data:Object.values(a.counts)}],xaxis:{categories:Object.keys(a.counts)}};const r=this.groupByKey("municipio","nombre_municipio");this.proveedoresByMunicipioChartOptions={chart:{type:"bar",height:200},series:[{name:"Proveedores",data:Object.values(r.counts)}],xaxis:{categories:Object.keys(r.counts)}};const o=new Array(12).fill(0),e=(new Date).getFullYear();this.proveedores.forEach(s=>{if(s.fechaCreacion){const i=new Date(s.fechaCreacion);i.getFullYear()===e&&o[i.getMonth()]++}}),this.proveedoresByMonthChartOptions={chart:{type:"area",height:200},series:[{name:"Proveedores",data:o}],xaxis:{categories:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]}}}groupByKey(a,r){const o={};let e=0;return this.proveedores.forEach(s=>{let i=s[a];r&&i&&(i=i[r]),i&&(o[i]=(o[i]||0)+1,e++)}),{counts:o,total:e}}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}static#t=this.\u0275fac=function(r){return new(r||n)(t.Y36(D.z),t.Y36(t.sBO))};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard-proveedor"]],standalone:!0,features:[t.jDz],decls:39,vars:25,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"h-400","min-h-400","max-h-400","border-2","rounded-2xl"],[1,"dashboard-container",2,"width","100%"],[1,"chart-grid",2,"display","flex","gap","20px","width","100%"],[1,"chart-container",2,"flex","1 1 33%"],[3,"series","chart","labels","plotOptions"],[3,"series","chart","xaxis"],[3,"series","chart","labels"],[1,"chart-grid",2,"display","flex","gap","20px","width","100%","margin-top","20px"],[1,"chart-container",2,"flex","1 1 50%"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2"),t._uU(7,"Total Proveedores"),t.qZA(),t._UZ(8,"apx-chart",6),t.qZA(),t.TgZ(9,"div",5)(10,"h2"),t._uU(11,"Proveedores por Tipo"),t.qZA(),t._UZ(12,"apx-chart",7),t.qZA(),t.TgZ(13,"div",5)(14,"h2"),t._uU(15,"Proveedores por Estado"),t.qZA(),t._UZ(16,"apx-chart",8),t.qZA()(),t.TgZ(17,"div",9)(18,"div",5)(19,"h2"),t._uU(20,"Proveedores por Tipo de Empresa"),t.qZA(),t._UZ(21,"apx-chart",7),t.qZA(),t.TgZ(22,"div",5)(23,"h2"),t._uU(24,"Proveedores por Ministerio"),t.qZA(),t._UZ(25,"apx-chart",7),t.qZA(),t.TgZ(26,"div",5)(27,"h2"),t._uU(28,"Proveedores por Provincia"),t.qZA(),t._UZ(29,"apx-chart",7),t.qZA()(),t.TgZ(30,"div",9)(31,"div",10)(32,"h2"),t._uU(33,"Proveedores por Municipio"),t.qZA(),t._UZ(34,"apx-chart",7),t.qZA(),t.TgZ(35,"div",10)(36,"h2"),t._uU(37,"Proveedores por Mes"),t.qZA(),t._UZ(38,"apx-chart",7),t.qZA()()()()()()),2&r&&(t.xp6(8),t.Q6J("series",o.totalProveedoresChartOptions.series)("chart",o.totalProveedoresChartOptions.chart)("labels",o.totalProveedoresChartOptions.labels)("plotOptions",o.totalProveedoresChartOptions.plotOptions),t.xp6(4),t.Q6J("series",o.proveedoresByTypeChartOptions.series)("chart",o.proveedoresByTypeChartOptions.chart)("xaxis",o.proveedoresByTypeChartOptions.xaxis),t.xp6(4),t.Q6J("series",o.proveedoresByStatusChartOptions.series)("chart",o.proveedoresByStatusChartOptions.chart)("labels",o.proveedoresByStatusChartOptions.labels),t.xp6(5),t.Q6J("series",o.proveedoresByTipoEmpresaChartOptions.series)("chart",o.proveedoresByTipoEmpresaChartOptions.chart)("xaxis",o.proveedoresByTipoEmpresaChartOptions.xaxis),t.xp6(4),t.Q6J("series",o.proveedoresByMinisterioChartOptions.series)("chart",o.proveedoresByMinisterioChartOptions.chart)("xaxis",o.proveedoresByMinisterioChartOptions.xaxis),t.xp6(4),t.Q6J("series",o.proveedoresByProvinciaChartOptions.series)("chart",o.proveedoresByProvinciaChartOptions.chart)("xaxis",o.proveedoresByProvinciaChartOptions.xaxis),t.xp6(5),t.Q6J("series",o.proveedoresByMunicipioChartOptions.series)("chart",o.proveedoresByMunicipioChartOptions.chart)("xaxis",o.proveedoresByMunicipioChartOptions.xaxis),t.xp6(4),t.Q6J("series",o.proveedoresByMonthChartOptions.series)("chart",o.proveedoresByMonthChartOptions.chart)("xaxis",o.proveedoresByMonthChartOptions.xaxis))},dependencies:[m.ez,c.X,c.x,d.QW],styles:[".dashboard-container{width:100%;padding:1.5rem}.chart-grid{display:grid;width:100%;gap:1.5rem}.chart-grid.three-cols{grid-template-columns:repeat(3,1fr)}.chart-grid.two-cols{grid-template-columns:repeat(2,1fr)}.chart-container{background:white;padding:1rem;box-shadow:0 1px 3px #0000001a}h2{font-size:1.25rem}\n"],encapsulation:2})}return n})(),S=(()=>{class n{constructor(){this._unsubscribeAll=new C.x}ngOnInit(){this.totalSuplimentosChartOptions={chart:{type:"radialBar",height:200},series:[60],labels:["Total Suplimentos"],plotOptions:{radialBar:{hollow:{size:"60%"}}}},this.suplimentosByTypeChartOptions={chart:{type:"bar",height:200},series:[{name:"Suplimentos",data:[30,20,10,15]}],xaxis:{categories:["Tipo X","Tipo Y","Tipo Z","Tipo W"]}},this.suplimentosByStatusChartOptions={chart:{type:"pie",height:200},series:[50,30,20],labels:["Activo","Pendiente","Cancelado"]},this.suplimentosByMonthChartOptions={chart:{type:"area",height:200},series:[{name:"Suplimentos",data:[3,6,9,12,15,18,21,24,27,30,33,36]}],xaxis:{categories:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]}}}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}static#t=this.\u0275fac=function(r){return new(r||n)};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard-suplimento"]],standalone:!0,features:[t.jDz],decls:28,vars:13,consts:[[1,"p-6","space-y-6"],[1,"text-3xl","font-bold","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"p-4"],[1,"text-xl","font-semibold","mb-2"],[3,"series","chart","labels","plotOptions"],[3,"series","chart","xaxis"],[3,"series","chart","labels"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Dashboard Suplimento"),t.qZA(),t.TgZ(3,"div",2)(4,"mat-card",3)(5,"h2",4),t._uU(6,"Total Suplimentos"),t.qZA(),t.TgZ(7,"p"),t._uU(8,"Resumen del total de suplimentos activos."),t.qZA(),t._UZ(9,"apx-chart",5),t.qZA(),t.TgZ(10,"mat-card",3)(11,"h2",4),t._uU(12,"Suplimentos por Tipo"),t.qZA(),t.TgZ(13,"p"),t._uU(14,"Distribuci\xf3n de suplimentos por tipo."),t.qZA(),t._UZ(15,"apx-chart",6),t.qZA(),t.TgZ(16,"mat-card",3)(17,"h2",4),t._uU(18,"Suplimentos por Estado"),t.qZA(),t.TgZ(19,"p"),t._uU(20,"Estado actual de los suplimentos."),t.qZA(),t._UZ(21,"apx-chart",7),t.qZA(),t.TgZ(22,"mat-card",3)(23,"h2",4),t._uU(24,"Suplimentos por Mes"),t.qZA(),t.TgZ(25,"p"),t._uU(26,"Suplimentos registrados por mes."),t.qZA(),t._UZ(27,"apx-chart",6),t.qZA()()()),2&r&&(t.xp6(9),t.Q6J("series",o.totalSuplimentosChartOptions.series)("chart",o.totalSuplimentosChartOptions.chart)("labels",o.totalSuplimentosChartOptions.labels)("plotOptions",o.totalSuplimentosChartOptions.plotOptions),t.xp6(6),t.Q6J("series",o.suplimentosByTypeChartOptions.series)("chart",o.suplimentosByTypeChartOptions.chart)("xaxis",o.suplimentosByTypeChartOptions.xaxis),t.xp6(6),t.Q6J("series",o.suplimentosByStatusChartOptions.series)("chart",o.suplimentosByStatusChartOptions.chart)("labels",o.suplimentosByStatusChartOptions.labels),t.xp6(6),t.Q6J("series",o.suplimentosByMonthChartOptions.series)("chart",o.suplimentosByMonthChartOptions.chart)("xaxis",o.suplimentosByMonthChartOptions.xaxis))},dependencies:[m.ez,c.X,c.x,d.QW,d.a8],encapsulation:2})}return n})();var h=l(2246);const f=[{path:"dashboard-contrato",component:w},{path:"dashboard-proveedor",component:F},{path:"dashboard-suplimento",component:S},{path:"dashboard-ejecucion",component:(()=>{class n{constructor(){this._unsubscribeAll=new C.x}ngOnInit(){this.totalEjecucionChartOptions={chart:{type:"radialBar",height:200},series:[80],labels:["Total Ejecuci\xf3n"],plotOptions:{radialBar:{hollow:{size:"60%"}}}},this.ejecucionByTypeChartOptions={chart:{type:"bar",height:200},series:[{name:"Ejecuci\xf3n",data:[50,20,10,15]}],xaxis:{categories:["Tipo 1","Tipo 2","Tipo 3","Tipo 4"]}},this.ejecucionByStatusChartOptions={chart:{type:"pie",height:200},series:[60,25,15],labels:["En Proceso","Completado","Pendiente"]},this.ejecucionByMonthChartOptions={chart:{type:"area",height:200},series:[{name:"Ejecuci\xf3n",data:[8,12,18,22,28,32,36,40,44,48,52,56]}],xaxis:{categories:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]}},this.contratosTopEjecucionesChartOptions={chart:{type:"bar",height:250},series:[{name:"Ejecuciones",data:[15,12,10,8,7,6,5,4,3,2]}],xaxis:{categories:h.Io.slice(0,10).map(a=>a.no_contrato)},title:{text:"Contratos con mayor cantidad de Ejecuciones"}},this.suplementosTopEjecucionesChartOptions={chart:{type:"bar",height:250},series:[{name:"Ejecuciones",data:[14,13,11,9,7,6,5,4,3,1]}],xaxis:{categories:h.Io.slice(0,10).map(a=>a.no_contrato)},title:{text:"Suplementos con mayor cantidad de Ejecuciones"}},this.top10ProveedoresMayorMontoChartOptions={chart:{type:"bar",height:250},series:[{name:"Monto Ejecutado",data:h.P_.slice(0,10).map(a=>a.costo_cup)}],xaxis:{categories:h.P_.slice(0,10).map(a=>a.proveedor.nombre)},title:{text:"Top 10 Proveedores con mayor monto Ejecutado"}},this.top10ProveedoresMenorMontoChartOptions={chart:{type:"bar",height:250},series:[{name:"Monto Ejecutado",data:h.P_.slice(-10).map(a=>a.costo_cup)}],xaxis:{categories:h.P_.slice(-10).map(a=>a.proveedor.nombre)},title:{text:"Top 10 Proveedores con menor monto Ejecutado"}},this.top10ProveedoresContratoSuplementoMayorMontoChartOptions={chart:{type:"bar",height:250},series:[{name:"Monto Ejecutado",data:[1e5,9e4,85e3,8e4,75e3,7e4,65e3,6e4,55e3,5e4]}],xaxis:{categories:h.Io.slice(0,10).map(a=>`${a.no_contrato} - Sup1`)},title:{text:"Top 10 Proveedores con Contrato y Suplemento mayor monto Ejecutado"}},this.top10ProveedoresContratoSuplementoMenorMontoChartOptions={chart:{type:"bar",height:250},series:[{name:"Monto Ejecutado",data:[5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3]}],xaxis:{categories:h.Io.slice(0,10).map(a=>`${a.no_contrato} - Sup1`)},title:{text:"Top 10 Proveedores con Contrato y Suplemento menor monto Ejecutado"}}}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}static#t=this.\u0275fac=function(r){return new(r||n)};static#o=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard-ejecucion"]],standalone:!0,features:[t.jDz],decls:21,vars:24,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"h-400","min-h-400","max-h-400","border-2","rounded-2xl"],[1,"p-6","space-y-6","w-full"],[1,"text-3xl","font-bold","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","w-full","mt-6"],[1,"p-4"],[3,"series","chart","xaxis","title"]],template:function(r,o){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),t._uU(5,"Dashboard Ejecuci\xf3n"),t.qZA(),t.TgZ(6,"div",5)(7,"mat-card",6),t._UZ(8,"apx-chart",7),t.qZA(),t.TgZ(9,"mat-card",6),t._UZ(10,"apx-chart",7),t.qZA()(),t.TgZ(11,"div",5)(12,"mat-card",6),t._UZ(13,"apx-chart",7),t.qZA(),t.TgZ(14,"mat-card",6),t._UZ(15,"apx-chart",7),t.qZA()(),t.TgZ(16,"div",5)(17,"mat-card",6),t._UZ(18,"apx-chart",7),t.qZA(),t.TgZ(19,"mat-card",6),t._UZ(20,"apx-chart",7),t.qZA()()()()()()),2&r&&(t.xp6(8),t.Q6J("series",o.contratosTopEjecucionesChartOptions.series)("chart",o.contratosTopEjecucionesChartOptions.chart)("xaxis",o.contratosTopEjecucionesChartOptions.xaxis)("title",o.contratosTopEjecucionesChartOptions.title),t.xp6(2),t.Q6J("series",o.suplementosTopEjecucionesChartOptions.series)("chart",o.suplementosTopEjecucionesChartOptions.chart)("xaxis",o.suplementosTopEjecucionesChartOptions.xaxis)("title",o.suplementosTopEjecucionesChartOptions.title),t.xp6(3),t.Q6J("series",o.top10ProveedoresMayorMontoChartOptions.series)("chart",o.top10ProveedoresMayorMontoChartOptions.chart)("xaxis",o.top10ProveedoresMayorMontoChartOptions.xaxis)("title",o.top10ProveedoresMayorMontoChartOptions.title),t.xp6(2),t.Q6J("series",o.top10ProveedoresMenorMontoChartOptions.series)("chart",o.top10ProveedoresMenorMontoChartOptions.chart)("xaxis",o.top10ProveedoresMenorMontoChartOptions.xaxis)("title",o.top10ProveedoresMenorMontoChartOptions.title),t.xp6(3),t.Q6J("series",o.top10ProveedoresContratoSuplementoMayorMontoChartOptions.series)("chart",o.top10ProveedoresContratoSuplementoMayorMontoChartOptions.chart)("xaxis",o.top10ProveedoresContratoSuplementoMayorMontoChartOptions.xaxis)("title",o.top10ProveedoresContratoSuplementoMayorMontoChartOptions.title),t.xp6(2),t.Q6J("series",o.top10ProveedoresContratoSuplementoMenorMontoChartOptions.series)("chart",o.top10ProveedoresContratoSuplementoMenorMontoChartOptions.chart)("xaxis",o.top10ProveedoresContratoSuplementoMenorMontoChartOptions.xaxis)("title",o.top10ProveedoresContratoSuplementoMenorMontoChartOptions.title))},dependencies:[m.ez,c.X,c.x,d.QW,d.a8],encapsulation:2})}return n})()}];let E=(()=>{class n{static#t=this.\u0275fac=function(r){return new(r||n)};static#o=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({imports:[M.Bz.forChild(f),M.Bz]})}return n})()}}]);