"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[840],{9840:(Y,x,n)=>{n.r(x),n.d(x,{ProveedoresRoutingModule:()=>B});var h=n(8109),m=n(3566),u=n(1476),Z=n(5313),a=n(6223),U=n(3620),y=n(3997),c=n(6814),f=n(2296),b=n(6007),T=n(617),g=n(4170),_=n(4516),w=n(8525),p=n(7988),A=n(6385),C=n(7700),I=n(8660),v=n(2246),e=n(9212),J=n(3680);function Q(o,s){1&o&&(e.TgZ(0,"div",38),e._UZ(1,"mat-progress-bar",39),e.qZA()),2&o&&(e.xp6(1),e.Q6J("mode","indeterminate"))}function N(o,s){1&o&&e.GkF(0)}const P=o=>({$implicit:o});function R(o,s){if(1&o&&(e.ynx(0),e.YNc(1,N,1,0,"ng-container",49),e.BQk()),2&o){const t=e.oxw().$implicit;e.oxw(2);const i=e.MAs(64);e.xp6(1),e.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",e.VKq(2,P,t))}}function q(o,s){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",45)(2,"div",46),e._uU(3),e.qZA(),e.TgZ(4,"div",46),e._uU(5),e.qZA(),e.TgZ(6,"div",46),e._uU(7),e.qZA(),e.TgZ(8,"div",46),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.qZA(),e.TgZ(14,"div")(15,"button",47),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.toggleDetails(l.id))}),e._UZ(16,"mat-icon",10),e.qZA()()(),e.TgZ(17,"div",40),e.YNc(18,R,2,4,"ng-container",48),e.qZA(),e.BQk()}if(2&o){const t=s.$implicit,i=e.oxw(2);e.xp6(3),e.hij(" ",t.nombre," "),e.xp6(2),e.hij(" ",t.codigo," "),e.xp6(2),e.hij(" ",t.telefonos," "),e.xp6(2),e.hij(" ",t.domicilio," "),e.xp6(2),e.hij(" ",t.municipio.nombre_municipio," "),e.xp6(2),e.hij(" ",t.ministerio.nombre_ministerio," "),e.xp6(3),e.Q6J("svgIcon",(null==i.selectedRow?null:i.selectedRow.id)===t.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),e.xp6(2),e.Q6J("ngIf",(null==i.selectedRow?null:i.selectedRow.id)===t.id)}}const k=o=>({"pointer-events-none":o}),F=()=>[5,10,25,100];function L(o,s){if(1&o&&(e.ynx(0),e.TgZ(1,"div",40)(2,"div",41)(3,"div",42),e._uU(4,"Nombre"),e.qZA(),e.TgZ(5,"div",42),e._uU(6,"C\xf3digo"),e.qZA(),e.TgZ(7,"div",42),e._uU(8,"Tel\xe9fonos"),e.qZA(),e.TgZ(9,"div",42),e._uU(10,"Domicilio"),e.qZA(),e.TgZ(11,"div",42),e._uU(12,"Municipio"),e.qZA(),e.TgZ(13,"div",42),e._uU(14,"Ministerio"),e.qZA(),e.TgZ(15,"div"),e._uU(16,"Detalles"),e.qZA()(),e.YNc(17,q,19,8,"ng-container",43),e.qZA(),e._UZ(18,"mat-paginator",44),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("mat-sort-header","nombre"),e.xp6(2),e.Q6J("mat-sort-header","codigo"),e.xp6(2),e.Q6J("mat-sort-header","telefonos"),e.xp6(2),e.Q6J("mat-sort-header","domicilio"),e.xp6(2),e.Q6J("mat-sort-header","municipio"),e.xp6(2),e.Q6J("mat-sort-header","ministerio"),e.xp6(4),e.Q6J("ngForOf",t.dataSource.data)("ngForTrackBy",t.trackByFn),e.xp6(1),e.Q6J("ngClass",e.VKq(14,k,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(16,F))("showFirstLastButtons",!0)}}function S(o,s){if(1&o&&(e.TgZ(0,"mat-option",68),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.nombre_municipio," ")}}function M(o,s){if(1&o&&(e.TgZ(0,"mat-option",68),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.nombre_ministerio," ")}}function z(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",50)(1,"div",51)(2,"form",52)(3,"div",53)(4,"div",54)(5,"div",55)(6,"mat-form-field",56)(7,"mat-label"),e._uU(8,"Nombre"),e.qZA(),e._UZ(9,"input",57),e.qZA(),e.TgZ(10,"mat-form-field",56)(11,"mat-label"),e._uU(12,"C\xf3digo"),e.qZA(),e._UZ(13,"input",58),e.qZA(),e.TgZ(14,"mat-form-field",56)(15,"mat-label"),e._uU(16,"Tel\xe9fonos"),e.qZA(),e._UZ(17,"input",59),e.qZA()(),e.TgZ(18,"div",60)(19,"mat-form-field",56)(20,"mat-label"),e._uU(21,"Domicilio"),e.qZA(),e._UZ(22,"input",61),e.qZA(),e.TgZ(23,"mat-form-field",56)(24,"mat-label"),e._uU(25,"Municipio"),e.qZA(),e.TgZ(26,"mat-select",62),e.YNc(27,S,2,2,"mat-option",63),e.qZA()(),e.TgZ(28,"mat-form-field",56)(29,"mat-label"),e._uU(30,"Ministerio"),e.qZA(),e.TgZ(31,"mat-select",64),e.YNc(32,M,2,2,"mat-option",63),e.qZA()()()()(),e.TgZ(33,"div",65)(34,"button",66),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.deleteSelectedRecord())}),e._uU(35," Eliminar "),e.qZA(),e.TgZ(36,"div",4)(37,"button",67),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.updateSelectedRecord())}),e._uU(38," Actualizar "),e.qZA()()()()()()}if(2&o){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.selectedRowForm),e.xp6(25),e.Q6J("ngForOf",t.mockMunicipio),e.xp6(5),e.Q6J("ngForOf",t.mockMinisterio),e.xp6(2),e.Q6J("color","warn"),e.xp6(3),e.Q6J("color","primary")}}function O(o,s){1&o&&(e.TgZ(0,"div",69),e._uU(1,"\xa1No hay proveedores!"),e.qZA())}const j=[{path:"lista",component:(()=>{class o{constructor(t){this.dialog=t,this.data=v.UB,this.columns=[{key:"nombre",label:"Nombre",editable:!0},{key:"codigo",label:"C\xf3digo",editable:!0},{key:"telefonos",label:"Tel\xe9fonos",editable:!0},{key:"domicilio",label:"Domicilio",editable:!0},{key:"municipio",label:"Municipio",nestedKey:"nombre_municipio",editable:!1,selectOptions:v.k0},{key:"ministerio",label:"Ministerio",nestedKey:"nombre_ministerio",editable:!1,selectOptions:v.Cj}],this.title="Proveedores",this.addButtonText="Agregar Proveedor",this.displayedColumns=[],this.searchInputControl=new a.NI(""),this.selectedRow=null,this.isLoading=!1,this.pagination={length:0,page:0,size:10},this.dataSource=new Z.by([]),this.selectedRowForm=new a.cw({})}ngOnInit(){this.displayedColumns=this.columns.map(t=>t.key).concat("details"),this.dataSource.data=this.data,this.pagination.length=this.data.length,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.searchInputControl.valueChanges.pipe((0,U.b)(300),(0,y.x)()).subscribe(t=>{this.dataSource.filter=t?.trim().toLowerCase()||""}),this.dataSource.filterPredicate=(t,i)=>Object.keys(t).reduce((l,d)=>l+(this.getNestedValue(t,d,this.columns.find(E=>E.key===d)?.nestedKey)||"")+" ","").toLowerCase().includes(i)}trackByFn(t,i){return i.id}getNestedValue(t,i,r){return r&&t[i]?t[i][r]:t[i]||""}toggleDetails(t){this.selectedRow=this.selectedRow?.id===t?null:this.data.find(i=>i.id===t),this.selectedRowForm=new a.cw({nombre:new a.NI(this.selectedRow?.nombre),codigo:new a.NI(this.selectedRow?.codigo),telefonos:new a.NI(this.selectedRow?.telefonos),domicilio:new a.NI(this.selectedRow?.domicilio),municipio:new a.NI(this.selectedRow?.municipio),ministerio:new a.NI(this.selectedRow?.ministerio)})}createRecord(){this.addNewProveedor()}addNewProveedor(){this.dialog.open(I.d,{width:"30%",height:"60%",disableClose:!1}).afterClosed().subscribe(i=>{i&&(this.data=[...this.data,i],this.dataSource.data=this.data)})}updateSelectedRecord(){if(this.selectedRow){const t={...this.selectedRow,...this.selectedRowForm.value},i=this.data.findIndex(r=>r.id===this.selectedRow.id);this.data[i]=t,this.dataSource.data=[...this.data],console.log("Proveedor actualizado:",t)}}deleteSelectedRecord(){this.selectedRow&&(this.data=this.data.filter(t=>t.id!==this.selectedRow.id),this.dataSource.data=this.data,this.selectedRow=null,this.pagination.length=this.data.length,console.log("Proveedor eliminado"))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(C.uw))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-proveedor-list"]],viewQuery:function(i,r){if(1&i&&(e.Gf(m.YE,5),e.Gf(u.NW,5)),2&i){let l;e.iGM(l=e.CRH())&&(r.sort=l.first),e.iGM(l=e.CRH())&&(r.paginator=l.first)}},standalone:!0,features:[e.jDz],decls:67,vars:18,consts:[[1,"flex","flex-col","min-h-screen","p-6","w-full"],[1,"relative","flex","flex-col","flex-auto","p-6","pr-3","pb-3","bg-card","rounded-2xl","shadow","overflow-hidden","mb-6","w-full"],[1,"absolute","bottom-0","right-0","w-24","h-24","-m-6"],[1,"icon-size-24","opacity-25","text-green-500","dark:text-green-400",3,"svgIcon"],[1,"flex","items-center"],[1,"flex","flex-col"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"text-green-600","font-medium","text-sm"],[1,"ml-auto","-mt-2"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"icon-size-5",3,"svgIcon"],["previousStatementMenu","matMenu"],["mat-menu-item",""],[1,"icon-size-5","mr-3",3,"svgIcon"],[1,"my-2"],[1,"flex","flex-row","flex-wrap","mt-4","-mx-6"],[1,"flex","flex-col","mx-6","my-3"],[1,"text-sm","font-medium","leading-none","text-secondary"],[1,"mt-2","font-medium","text-3xl","leading-none"],[1,"flex","flex-col","flex-auto","min-w-0","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","p-6","sm:py-8","sm:px-10","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],[1,"mt-2"],[1,"text-3xl","md:text-4xl","font-extrabold","tracking-tight","leading-7","sm:leading-10","truncate"],[1,"flex","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4",3,"color","click"],[3,"svgIcon"],[1,"ml-2"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-x-auto"],[4,"ngIf","ngIfElse"],["rowDetailsTemplate",""],["noProveedores",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"grid"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5",2,"grid-template-columns","repeat(6, minmax(0, 1fr))"],[3,"mat-sort-header"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"inventory-grid","grid","items-center","gap-4","py-3","px-6","md:px-8","border-b",2,"grid-template-columns","repeat(6, minmax(0, 1fr))"],[1,"truncate"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"shadow-lg","overflow-hidden"],[1,"flex","border-b"],[1,"flex","flex-col","w-full",3,"formGroup"],[1,"flex","flex-col","sm:flex-row","p-8"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full","lg:w-2/4","sm:pl-8"],[1,"w-full"],["matInput","","formControlName","nombre"],["matInput","","formControlName","codigo"],["matInput","","formControlName","telefonos"],[1,"flex","flex-col","w-full","lg:w-1/4","sm:pl-8"],["matInput","","formControlName","domicilio"],["formControlName","municipio"],[3,"value",4,"ngFor","ngForOf"],["formControlName","ministerio"],[1,"flex","items-center","justify-between","w-full","border-t","px-8","py-4"],["mat-button","",1,"-ml-4",3,"color","click"],["mat-flat-button","",3,"color","click"],[3,"value"],[1,"p-8","sm:p-16","border-b","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(i,r){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"mat-icon",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6),e._uU(7,"Estado Anterior"),e.qZA(),e.TgZ(8,"div",7),e._uU(9," Datos recientes de proveedores "),e.qZA()(),e.TgZ(10,"div",8)(11,"button",9),e._UZ(12,"mat-icon",10),e.qZA(),e.TgZ(13,"mat-menu",null,11)(15,"button",12)(16,"span",4),e._UZ(17,"mat-icon",13),e.TgZ(18,"span"),e._uU(19,"Ver detalles"),e.qZA()()(),e.TgZ(20,"button",12)(21,"span",4),e._UZ(22,"mat-icon",13),e.TgZ(23,"span"),e._uU(24,"Reportes"),e.qZA()()(),e._UZ(25,"mat-divider",14),e.TgZ(26,"button",12)(27,"span",4),e._UZ(28,"mat-icon",13),e.TgZ(29,"span"),e._uU(30,"Imprimir"),e.qZA()()(),e.TgZ(31,"button",12)(32,"span",4),e._UZ(33,"mat-icon",13),e.TgZ(34,"span"),e._uU(35,"Enviar por correo"),e.qZA()()()()()(),e.TgZ(36,"div",15)(37,"div",16)(38,"div",17),e._uU(39,"Total Proveedores"),e.qZA(),e.TgZ(40,"div",18),e._uU(41),e.qZA()()()(),e.TgZ(42,"div",19)(43,"div",20),e.YNc(44,Q,2,1,"div",21),e.TgZ(45,"div",22)(46,"div",23)(47,"div"),e._uU(48,"Proveedores"),e.qZA()(),e.TgZ(49,"div",24)(50,"h2",25),e._uU(51," Lista de Proveedores "),e.qZA()()(),e.TgZ(52,"div",26)(53,"mat-form-field",27),e._UZ(54,"mat-icon",28)(55,"input",29),e.qZA(),e.TgZ(56,"button",30),e.NdJ("click",function(){return r.addNewProveedor()}),e._UZ(57,"mat-icon",31),e.TgZ(58,"span",32),e._uU(59,"Agregar Proveedor"),e.qZA()()()(),e.TgZ(60,"div",33)(61,"div",34),e.YNc(62,L,19,17,"ng-container",35)(63,z,39,5,"ng-template",null,36,e.W1O)(65,O,2,0,"ng-template",null,37,e.W1O),e.qZA()()()()),2&i){const l=e.MAs(14),d=e.MAs(66);e.xp6(3),e.Q6J("svgIcon","heroicons_outline:check-circle"),e.xp6(8),e.Q6J("matMenuTriggerFor",l),e.xp6(1),e.Q6J("svgIcon","heroicons_mini:ellipsis-vertical"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:credit-card"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:banknotes"),e.xp6(6),e.Q6J("svgIcon","heroicons_solid:printer"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:envelope"),e.xp6(8),e.Oqu(r.data.length),e.xp6(3),e.Q6J("ngIf",r.isLoading),e.xp6(9),e.Q6J("subscriptSizing","dynamic"),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:magnifying-glass"),e.xp6(1),e.Q6J("formControl",r.searchInputControl)("autocomplete","off")("placeholder","Buscar proveedores"),e.xp6(1),e.Q6J("color","primary"),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus"),e.xp6(5),e.Q6J("ngIf",r.dataSource.data.length>0)("ngIfElse",d)}},dependencies:[c.ez,c.mk,c.sg,c.O5,c.tP,f.ot,f.lW,f.RK,b.Cv,b.pW,m.JX,m.YE,m.nU,Z.p0,T.Ps,T.Hw,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.oH,a.sg,a.u,u.TU,u.NW,g.lN,g.KE,g.hX,g.qo,_.c,_.Nt,w.LD,w.gD,J.ey,p.Tx,p.VK,p.OP,p.p6,A.t,A.d,C.Is],encapsulation:2,changeDetection:0})}return o})()}];let B=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275mod=e.oAB({type:o});static#o=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(j),h.Bz]})}return o})()}}]);