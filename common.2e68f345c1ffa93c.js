"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[592],{3018:(C,h,e)=>{e.d(h,{z:()=>d});var o=e(2096),c=e(2246),p=e(9212),g=e(9862);let d=(()=>{class s{constructor(r){this.http=r,this.apiUrl="/api/proveedores",this.useMockData=!0,this.proveedores=[...c.UB]}getProveedores(){return this.useMockData?(0,o.of)(this.proveedores):this.http.get(this.apiUrl)}getProveedor(r){if(this.useMockData){const a=this.proveedores.find(n=>n.id===r);return(0,o.of)(a)}return this.http.get(`${this.apiUrl}/${r}`)}createProveedor(r){if(this.useMockData){const a={...r,id:Math.max(...this.proveedores.map(n=>n.id))+1};return this.proveedores.push(a),(0,o.of)(a)}return this.http.post(this.apiUrl,r)}updateProveedor(r,a){if(this.useMockData){const n=this.proveedores.findIndex(f=>f.id===r);if(-1!==n)return this.proveedores[n]={...a,id:r},(0,o.of)(this.proveedores[n])}return this.http.put(`${this.apiUrl}/${r}`,a)}deleteProveedor(r){if(this.useMockData){const a=this.proveedores.findIndex(n=>n.id===r);return-1!==a&&this.proveedores.splice(a,1),(0,o.of)(void 0)}return this.http.delete(`${this.apiUrl}/${r}`)}static#t=this.\u0275fac=function(a){return new(a||s)(p.LFG(g.eN))};static#o=this.\u0275prov=p.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},7668:(C,h,e)=>{e.d(h,{h:()=>U});var o=e(6223),c=e(7700),p=e(8660),g=e(5228),d=e(6814),s=e(4170),E=e(4516),r=e(2296),a=e(8525),n=e(8034),f=e(3680),D=e(617),t=e(9212);function P(_,v){if(1&_&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&_){const l=v.$implicit;t.Q6J("value",l),t.xp6(1),t.hij(" ",l.nombre," ")}}function M(_,v){if(1&_&&(t.TgZ(0,"mat-option",19),t._uU(1),t.qZA()),2&_){const l=v.$implicit;t.Q6J("value",l),t.xp6(1),t.hij(" ",l.no_contrato," ")}}let U=(()=>{class _{constructor(l,i,m,u){this.fb=l,this.dialogRef=i,this.dialog=m,this.data=u,this.proveedores=[],this.contratos=[]}ngOnInit(){this.form=this.fb.group({proveedor:["",o.kI.required],contrato:["",o.kI.required],costo_cup:["",o.kI.required],costo_cl:["",o.kI.required],trabajo_ejecutado:["",o.kI.required],fecha_ejecucion:["",o.kI.required]})}openNewProveedorDialog(){this.dialog.open(p.d,{width:"40%",height:"60%",disableClose:!1}).afterClosed().subscribe(i=>{i&&this.proveedores.push(i)})}openNewContratoDialog(){this.dialog.open(g._,{width:"40%",height:"90%",disableClose:!1}).afterClosed().subscribe(i=>{i&&this.contratos.push(i)})}save(){this.form.valid&&this.dialogRef.close(this.form.value)}cancel(){this.dialogRef.close()}static#t=this.\u0275fac=function(i){return new(i||_)(t.Y36(o.qu),t.Y36(c.so),t.Y36(c.uw),t.Y36(c.WI))};static#o=this.\u0275cmp=t.Xpm({type:_,selectors:[["app-suplemento-form"]],standalone:!0,features:[t.jDz],decls:46,vars:5,consts:[[1,"flex","flex-col","p-6","w-full"],[1,"text-2xl","font-bold","mb-6"],[1,"flex","flex-col","gap-4",3,"formGroup"],[1,"flex","items-center","gap-2"],[1,"flex-auto"],["formControlName","proveedor"],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6",3,"click"],[1,"icon-size-5"],["formControlName","contrato"],["matInput","","type","number","formControlName","costo_cup"],["matInput","","type","number","formControlName","costo_cl"],["matInput","","formControlName","trabajo_ejecutado"],["matInput","","formControlName","fecha_ejecucion",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"flex","justify-end","gap-2"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(i,m){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2,"Agregar Ejecuci\xf3n"),t.qZA(),t.TgZ(3,"form",2)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),t._uU(7,"Proveedor"),t.qZA(),t.TgZ(8,"mat-select",5),t.YNc(9,P,2,2,"mat-option",6),t.qZA()(),t.TgZ(10,"button",7),t.NdJ("click",function(){return m.openNewProveedorDialog()}),t.TgZ(11,"mat-icon",8),t._uU(12,"add"),t.qZA()()(),t.TgZ(13,"div",3)(14,"mat-form-field",4)(15,"mat-label"),t._uU(16,"Contrato"),t.qZA(),t.TgZ(17,"mat-select",9),t.YNc(18,M,2,2,"mat-option",6),t.qZA()(),t.TgZ(19,"button",7),t.NdJ("click",function(){return m.openNewContratoDialog()}),t.TgZ(20,"mat-icon",8),t._uU(21,"add"),t.qZA()()(),t.TgZ(22,"mat-form-field")(23,"mat-label"),t._uU(24,"Costo (CUP)"),t.qZA(),t._UZ(25,"input",10),t.qZA(),t.TgZ(26,"mat-form-field")(27,"mat-label"),t._uU(28,"Costo (CL)"),t.qZA(),t._UZ(29,"input",11),t.qZA(),t.TgZ(30,"mat-form-field")(31,"mat-label"),t._uU(32,"Trabajo Ejecutado"),t.qZA(),t._UZ(33,"textarea",12),t.qZA(),t.TgZ(34,"mat-form-field")(35,"mat-label"),t._uU(36,"Fecha Ejecuci\xf3n"),t.qZA(),t._UZ(37,"input",13)(38,"mat-datepicker-toggle",14)(39,"mat-datepicker",null,15),t.qZA(),t.TgZ(41,"div",16)(42,"button",17),t.NdJ("click",function(){return m.cancel()}),t._uU(43,"Cancelar"),t.qZA(),t.TgZ(44,"button",18),t.NdJ("click",function(){return m.save()}),t._uU(45,"Guardar"),t.qZA()()()()),2&i){const u=t.MAs(40);t.xp6(3),t.Q6J("formGroup",m.form),t.xp6(6),t.Q6J("ngForOf",m.proveedores),t.xp6(9),t.Q6J("ngForOf",m.contratos),t.xp6(19),t.Q6J("matDatepicker",u),t.xp6(1),t.Q6J("for",u)}},dependencies:[d.ez,d.sg,o.UX,o._Y,o.Fj,o.wV,o.JJ,o.JL,o.sg,o.u,s.lN,s.KE,s.hX,s.R9,E.c,E.Nt,r.ot,r.lW,a.LD,a.gD,f.ey,n.FA,n.Mq,n.hl,n.nW,f.XK,D.Ps,D.Hw]})}return _})()}}]);