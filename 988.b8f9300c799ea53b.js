"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[988],{988:(et,b,s)=>{s.r(b),s.d(b,{AdminModule:()=>V});var u=s(6814),y=s(1896),x=s(3566),U=s(1476),A=s(5313),n=s(6223),F=s(3620),S=s(3997),I=s(9773),h=s(7700),c=s(4170),Z=s(4516),p=s(2296),t=s(9212);function k(a,l){1&a&&(t.TgZ(0,"mat-form-field",1)(1,"mat-label"),t._uU(2,"Password"),t.qZA(),t._UZ(3,"input",14),t.qZA())}let _=(()=>{class a{constructor(e,i,o){this.fb=e,this.dialogRef=i,this.data=o,this.userForm=this.fb.group({username:[o?.username||"",n.kI.required],roles:[o?.roles||"",n.kI.required],password:["",o?[]:n.kI.required],name:[o?.name||"",n.kI.required],apellidos:[o?.apellidos||"",n.kI.required],cargo:[o?.cargo||"",n.kI.required],correo:[o?.correo||"",[n.kI.required,n.kI.email]],movil:[o?.movil||"",n.kI.required],extension:[o?.extension||"",n.kI.required]})}save(){if(this.userForm.valid){const e={id:this.data?.id||0,...this.userForm.value};this.dialogRef.close(e)}}cancel(){this.dialogRef.close(null)}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(n.qu),t.Y36(h.so),t.Y36(h.WI))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-usuario-form"]],standalone:!0,features:[t.jDz],decls:41,vars:5,consts:[[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width"],["matInput","","formControlName","username","required",""],["matInput","","formControlName","roles","required",""],["appearance","fill","class","full-width",4,"ngIf"],["matInput","","formControlName","name","required",""],["matInput","","formControlName","apellidos","required",""],["matInput","","formControlName","cargo","required",""],["matInput","","type","email","formControlName","correo","required",""],["matInput","","type","number","formControlName","movil","required",""],["matInput","","type","number","formControlName","extension","required",""],[1,"button-row"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-button","","type","button",3,"click"],["matInput","","type","password","formControlName","password","required",""]],template:function(i,o){1&i&&(t.TgZ(0,"h2"),t._uU(1),t.qZA(),t.TgZ(2,"form",0),t.NdJ("ngSubmit",function(){return o.save()}),t.TgZ(3,"mat-form-field",1)(4,"mat-label"),t._uU(5,"Username"),t.qZA(),t._UZ(6,"input",2),t.qZA(),t.TgZ(7,"mat-form-field",1)(8,"mat-label"),t._uU(9,"Roles"),t.qZA(),t._UZ(10,"input",3),t.qZA(),t.YNc(11,k,4,0,"mat-form-field",4),t.TgZ(12,"mat-form-field",1)(13,"mat-label"),t._uU(14,"Nombre"),t.qZA(),t._UZ(15,"input",5),t.qZA(),t.TgZ(16,"mat-form-field",1)(17,"mat-label"),t._uU(18,"Apellidos"),t.qZA(),t._UZ(19,"input",6),t.qZA(),t.TgZ(20,"mat-form-field",1)(21,"mat-label"),t._uU(22,"Cargo"),t.qZA(),t._UZ(23,"input",7),t.qZA(),t.TgZ(24,"mat-form-field",1)(25,"mat-label"),t._uU(26,"Correo"),t.qZA(),t._UZ(27,"input",8),t.qZA(),t.TgZ(28,"mat-form-field",1)(29,"mat-label"),t._uU(30,"M\xf3vil"),t.qZA(),t._UZ(31,"input",9),t.qZA(),t.TgZ(32,"mat-form-field",1)(33,"mat-label"),t._uU(34,"Extensi\xf3n"),t.qZA(),t._UZ(35,"input",10),t.qZA(),t.TgZ(36,"div",11)(37,"button",12),t._uU(38),t.qZA(),t.TgZ(39,"button",13),t.NdJ("click",function(){return o.cancel()}),t._uU(40,"Cancelar"),t.qZA()()()),2&i&&(t.xp6(1),t.Oqu(o.data?"Editar Usuario":"Agregar Usuario"),t.xp6(1),t.Q6J("formGroup",o.userForm),t.xp6(9),t.Q6J("ngIf",!o.data),t.xp6(26),t.Q6J("disabled",o.userForm.invalid),t.xp6(1),t.hij(" ",o.data?"Guardar":"Agregar"," "))},dependencies:[u.ez,u.O5,n.UX,n._Y,n.Fj,n.wV,n.JJ,n.JL,n.Q7,n.sg,n.u,h.Is,c.lN,c.KE,c.hX,Z.c,Z.Nt,p.ot,p.lW],encapsulation:2})}return a})();var D=s(1388),J=s(5520),T=s(6007),C=s(617),q=s(8525),v=s(7988),N=s(6385),Q=s(8645),w=s(2596),P=s(8212),z=s(3680);function G(a,l){1&a&&(t.TgZ(0,"div",28),t._UZ(1,"mat-progress-bar",29),t.qZA()),2&a&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function j(a,l){1&a&&t.GkF(0)}const E=a=>({$implicit:a});function R(a,l){if(1&a&&(t.TgZ(0,"div",45),t.YNc(1,j,1,0,"ng-container",46),t.qZA()),2&a){const e=t.oxw().$implicit;t.oxw(2);const i=t.MAs(56);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,E,e))}}const L=(a,l,e)=>({"bg-green-500":a,"bg-orange-500":l,"bg-red-500":e});function O(a,l){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",36)(2,"div"),t._UZ(3,"span",37),t.qZA(),t.TgZ(4,"div",38),t._uU(5),t.qZA(),t.TgZ(6,"div",39),t._uU(7),t.qZA(),t.TgZ(8,"div",39),t._uU(9),t.qZA(),t.TgZ(10,"div",39),t._uU(11),t.qZA(),t.TgZ(12,"div",39),t._uU(13),t.qZA(),t.TgZ(14,"div",39),t._uU(15),t.qZA(),t.TgZ(16,"div",38),t._uU(17),t.qZA(),t.TgZ(18,"div",40),t._uU(19),t.qZA(),t.TgZ(20,"div",41)(21,"button",42),t.NdJ("click",function(){const r=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.toggleDetails(r.id))}),t._UZ(22,"mat-icon",43),t.qZA()()(),t.YNc(23,R,2,4,"div",44),t.BQk()}if(2&a){const e=l.$implicit,i=t.oxw(2);t.xp6(3),t.Q6J("ngClass",t.kEZ(17,L,"Activo"===e.estado,"Inactivo"===e.estado,"Suspendido"===e.estado)),t.xp6(2),t.Oqu(e.id),t.xp6(1),t.Q6J("matTooltip",e.username),t.xp6(1),t.hij(" ",e.username," "),t.xp6(1),t.Q6J("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("matTooltip",e.apellidos),t.xp6(1),t.hij(" ",e.apellidos," "),t.xp6(1),t.Q6J("matTooltip",e.cargo),t.xp6(1),t.hij(" ",e.cargo," "),t.xp6(1),t.Q6J("matTooltip",e.correo),t.xp6(1),t.hij(" ",e.correo," "),t.xp6(2),t.hij(" ",e.movil," "),t.xp6(1),t.Q6J("matTooltip",e.roles),t.xp6(1),t.hij(" ",e.roles," "),t.xp6(3),t.Q6J("svgIcon",(null==i.selectedUser?null:i.selectedUser.id)===e.id?"heroicons_solid:chevron-up":"heroicons_solid:chevron-down"),t.xp6(1),t.Q6J("ngIf",(null==i.selectedUser?null:i.selectedUser.id)===e.id)}}const $=a=>({"pointer-events-none":a}),M=()=>[5,10,25,100];function Y(a,l){if(1&a&&(t.ynx(0),t.TgZ(1,"div",30)(2,"div",31),t._UZ(3,"div"),t.TgZ(4,"div",32),t._uU(5,"ID"),t.qZA(),t.TgZ(6,"div",32),t._uU(7,"Username"),t.qZA(),t.TgZ(8,"div",32),t._uU(9,"Nombre"),t.qZA(),t.TgZ(10,"div",32),t._uU(11,"Apellidos"),t.qZA(),t.TgZ(12,"div",32),t._uU(13,"Cargo"),t.qZA(),t.TgZ(14,"div",32),t._uU(15,"Correo"),t.qZA(),t.TgZ(16,"div",32),t._uU(17,"M\xf3vil"),t.qZA(),t.TgZ(18,"div",32),t._uU(19,"Roles"),t.qZA(),t.TgZ(20,"div",33),t._uU(21,"Detalles"),t.qZA()(),t.YNc(22,O,24,21,"ng-container",34),t.qZA(),t._UZ(23,"mat-paginator",35),t.BQk()),2&a){const e=t.oxw();t.xp6(4),t.Q6J("mat-sort-header","id"),t.xp6(2),t.Q6J("mat-sort-header","username"),t.xp6(2),t.Q6J("mat-sort-header","name"),t.xp6(2),t.Q6J("mat-sort-header","apellidos"),t.xp6(2),t.Q6J("mat-sort-header","cargo"),t.xp6(2),t.Q6J("mat-sort-header","correo"),t.xp6(2),t.Q6J("mat-sort-header","movil"),t.xp6(2),t.Q6J("mat-sort-header","roles"),t.xp6(4),t.Q6J("ngForOf",e.dataSource.filteredData)("ngForTrackBy",e.trackByFn),t.xp6(1),t.Q6J("ngClass",t.VKq(16,$,e.isLoading))("length",e.pagination.length)("pageIndex",e.pagination.page)("pageSize",e.pagination.size)("pageSizeOptions",t.DdM(18,M))("showFirstLastButtons",!0)}}function B(a,l){if(1&a&&(t.TgZ(0,"mat-option",78),t._uU(1),t.qZA()),2&a){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e.nombre_departamento," ")}}function H(a,l){if(1&a&&(t.TgZ(0,"mat-option",78),t._uU(1),t.qZA()),2&a){const e=l.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function K(a,l){if(1&a){const e=t.EpF();t.TgZ(0,"div",47)(1,"div",48)(2,"form",49)(3,"div",50)(4,"div",51)(5,"div",52)(6,"h3",53),t._uU(7,"Informaci\xf3n Personal"),t.qZA(),t.TgZ(8,"mat-form-field",54)(9,"mat-label"),t._uU(10,"ID"),t.qZA(),t._UZ(11,"input",55),t.qZA(),t.TgZ(12,"mat-form-field",54)(13,"mat-label"),t._uU(14,"Username"),t.qZA(),t._UZ(15,"input",56),t.qZA(),t.TgZ(16,"mat-form-field",54)(17,"mat-label"),t._uU(18,"Nombre"),t.qZA(),t._UZ(19,"input",57),t.qZA(),t.TgZ(20,"mat-form-field",54)(21,"mat-label"),t._uU(22,"Apellidos"),t.qZA(),t._UZ(23,"input",58),t.qZA(),t.TgZ(24,"mat-form-field",54)(25,"mat-label"),t._uU(26,"Estado"),t.qZA(),t.TgZ(27,"mat-select",59)(28,"mat-option",60),t._uU(29,"Activo"),t.qZA(),t.TgZ(30,"mat-option",61),t._uU(31,"Inactivo"),t.qZA(),t.TgZ(32,"mat-option",62),t._uU(33,"Suspendido"),t.qZA()()(),t.TgZ(34,"mat-form-field",54)(35,"mat-label"),t._uU(36,"Fecha Creaci\xf3n"),t.qZA(),t._UZ(37,"input",63),t.qZA()(),t.TgZ(38,"div",52)(39,"h3",53),t._uU(40,"Informaci\xf3n de Contacto"),t.qZA(),t.TgZ(41,"mat-form-field",54)(42,"mat-label"),t._uU(43,"Correo Electr\xf3nico"),t.qZA(),t._UZ(44,"input",64),t.qZA(),t.TgZ(45,"mat-form-field",54)(46,"mat-label"),t._uU(47,"Tel\xe9fono M\xf3vil"),t.qZA(),t._UZ(48,"input",65),t.qZA(),t.TgZ(49,"mat-form-field",54)(50,"mat-label"),t._uU(51,"Extensi\xf3n"),t.qZA(),t._UZ(52,"input",66),t.qZA(),t.TgZ(53,"mat-form-field",54)(54,"mat-label"),t._uU(55,"Cargo"),t.qZA(),t._UZ(56,"input",67),t.qZA(),t.TgZ(57,"mat-form-field",54)(58,"mat-label"),t._uU(59,"Departamento"),t.qZA(),t.TgZ(60,"mat-select",68),t.YNc(61,B,2,2,"mat-option",69),t.qZA()(),t.TgZ(62,"mat-form-field",54)(63,"mat-label"),t._uU(64,"\xdaltimo Acceso"),t.qZA(),t._UZ(65,"input",70),t.qZA()(),t.TgZ(66,"div",52)(67,"h3",53),t._uU(68,"Roles y Configuraci\xf3n"),t.qZA(),t.TgZ(69,"mat-form-field",54)(70,"mat-label"),t._uU(71,"Roles"),t.qZA(),t.TgZ(72,"mat-select",71),t.YNc(73,H,2,2,"mat-option",69),t.qZA()(),t.TgZ(74,"mat-form-field",54)(75,"mat-label"),t._uU(76,"Observaciones"),t.qZA(),t._UZ(77,"textarea",72),t.qZA(),t.TgZ(78,"mat-form-field",54)(79,"mat-label"),t._uU(80,"Nueva Contrase\xf1a"),t.qZA(),t._UZ(81,"input",73),t.qZA(),t.TgZ(82,"mat-form-field",54)(83,"mat-label"),t._uU(84,"Confirmar Contrase\xf1a"),t.qZA(),t._UZ(85,"input",74),t.qZA()()()(),t.TgZ(86,"div",75)(87,"button",76),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateSelectedUser())}),t.TgZ(88,"mat-icon",77),t._uU(89,"save"),t.qZA(),t._uU(90," Actualizar "),t.qZA(),t.TgZ(91,"button",76),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.deleteSelectedUser())}),t.TgZ(92,"mat-icon",77),t._uU(93,"delete"),t.qZA(),t._uU(94," Eliminar "),t.qZA()()()()()}if(2&a){const e=t.oxw();t.xp6(2),t.Q6J("formGroup",e.selectedUserForm),t.xp6(59),t.Q6J("ngForOf",e.mockDepartamento),t.xp6(12),t.Q6J("ngForOf",e.availableRoles),t.xp6(14),t.Q6J("color","primary"),t.xp6(4),t.Q6J("color","warn")}}function W(a,l){1&a&&(t.TgZ(0,"div",79),t._uU(1," \xa1No hay usuarios! "),t.qZA())}const X=[{path:"usuarios",component:(()=>{class a{constructor(e,i,o,r){this.userService=e,this.dialog=i,this.cdr=o,this.fb=r,this.displayedColumns=["id","username","roles","nombre","apellidos","cargo","correo","movil","extension","actions"],this.dataSource=new A.by,this.searchInputControl=new n.p4,this._unsubscribeAll=new Q.x,this.totalUsuarios=0,this.usuariosActivos=0,this.usuariosInactivos=0,this.totalAdministradores=0,this.isLoading=!1,this.selectedUser=null,this.pagination={length:0,page:0,size:10},this.selectedUserForm=this.fb.group({id:[""],username:[""],nombre:[""],apellidos:[""],estado:[""],fecha_creacion:[""],correo:[""],movil:[""],extension:[""],cargo:[""],departamento:[""],ultimo_acceso:[""],roles:[[]],observaciones:[""],password:[""],confirm_password:[""]})}ngOnInit(){this.isLoading=!0,this.loadUsers(),this.searchInputControl.valueChanges.pipe((0,F.b)(300),(0,S.x)(),(0,I.R)(this._unsubscribeAll)).subscribe(()=>{this.applyFilter()}),this.dataSource.sortingDataAccessor=(e,i)=>e[i],this.dataSource.filterPredicate=(e,i)=>{if(!i)return!0;const o=i.toLowerCase().trim();return[e.id?.toString(),e.username?.toLowerCase(),e.roles?.toLowerCase(),e.name?.toLowerCase(),e.apellidos?.toLowerCase(),e.cargo?.toLowerCase(),e.correo?.toLowerCase(),e.movil?.toString(),e.extension?.toString()].join(" ").includes(o)}}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}loadUsers(){this.userService.getUsers().subscribe(e=>{const i=e.map(o=>({id:parseInt(o.id,10),username:o.username,roles:Array.isArray(o.roles)?o.roles.join(", "):o.roles,password:o.password,name:o.name,apellidos:o.apellidos,cargo:o.cargo,correo:o.correo,movil:o.movil,extension:o.extension}));this.dataSource.data=i,this.totalUsuarios=i.length,this.pagination.length=i.length,this.totalAdministradores=i.filter(o=>o.roles.includes("admin")).length,this.isLoading=!1,this.cdr.detectChanges()})}applyFilter(e){void 0===e&&(e=this.searchInputControl.value),this.dataSource.filter=e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openAddUserDialog(){this.dialog.open(_,{width:"600px",data:null}).afterClosed().subscribe(i=>{if(i){const o=this.dataSource.data.length>0?Math.max(...this.dataSource.data.map(r=>r.id))+1:1;i.id=o,this.dataSource.data=[...this.dataSource.data,i]}})}openEditUserDialog(e){this.dialog.open(_,{width:"600px",data:e}).afterClosed().subscribe(o=>{if(o){const r=this.dataSource.data,m=r.findIndex(g=>g.id===o.id);-1!==m&&(r[m]=o,this.dataSource.data=[...r])}})}deleteUser(e){this.dataSource.data=this.dataSource.data.filter(i=>i.id!==e.id)}exportToPDF(e=!1){if(!this.dataSource.filteredData||0===this.dataSource.filteredData.length)return;const i=new D.ZP("l","mm","a4");this.setupPDFDocument(i),e?this.generateDetailedPDF(i):this.generateSummaryPDF(i);const o=(new Date).toISOString().slice(0,19).replace(/:/g,"-");i.save(`usuarios_${e?"detallado":"resumen"}_${o}.pdf`)}setupPDFDocument(e){e.setProperties({title:"Lista de Usuarios",subject:"Reporte de Usuarios del Sistema",author:"Sistema de Gesti\xf3n",creator:"Sistema de Gesti\xf3n"})}generateSummaryPDF(e){this.addPDFHeader(e,"Lista de Usuarios - Resumen"),this.addPDFStatistics(e);const o=this.dataSource.filteredData.map(r=>[r.id?.toString()||"",r.username||"",`${r.name||""} ${r.apellidos||""}`.trim(),r.cargo||"",r.correo||""]);(0,J.ZP)(e,{head:[["ID","Username","Nombre Completo","Cargo","Correo"]],body:o,startY:55,styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[41,128,185],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[245,245,245]}}),this.addPDFFooter(e)}generateDetailedPDF(e){this.addPDFHeader(e,"Lista de Usuarios - Detallado"),this.addPDFStatistics(e);let i=60;this.dataSource.filteredData.forEach((o,r)=>{i>180&&(e.addPage(),i=20),e.setFillColor(250,250,250),e.rect(14,i,267,35,"F"),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(`${o.name} ${o.apellidos}`,16,i+8),e.setFontSize(9),e.setFont("helvetica","normal"),e.text(`ID: ${o.id} | Username: ${o.username}`,16,i+15),e.text(`Cargo: ${o.cargo} `,16,i+22),e.text(`Correo: ${o.correo} | M\xf3vil: ${o.movil}`,16,i+29),i+=40}),this.addPDFFooter(e)}addPDFHeader(e,i){e.setFontSize(18),e.setFont("helvetica","bold"),e.text(i,14,20),e.setFontSize(10),e.setFont("helvetica","normal");const o=(new Date).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});e.text(`Generado el: ${o}`,14,28)}addPDFStatistics(e){e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Estad\xedsticas:",14,38),e.setFontSize(10),e.setFont("helvetica","normal"),e.text(`Total: ${this.totalUsuarios}`,14,45),e.text(`Activos: ${this.usuariosActivos}`,80,45),e.text(`Inactivos: ${this.usuariosInactivos}`,150,45),e.text(`Administradores: ${this.totalAdministradores}`,220,45)}addPDFFooter(e){const i=e.getNumberOfPages();for(let o=1;o<=i;o++)e.setPage(o),e.setFontSize(8),e.text(`P\xe1gina ${o} de ${i}`,e.internal.pageSize.width-30,e.internal.pageSize.height-10)}exportToCSV(){if(!this.dataSource.filteredData||0===this.dataSource.filteredData.length)return;const e=[];e.push(["ID","Username","Roles","Nombre","Apellidos","Cargo","Correo","M\xf3vil","Extensi\xf3n"].join(",")),this.dataSource.filteredData.forEach(d=>{const tt=[d.id,d.username,d.roles,d.name,d.apellidos,d.cargo,d.correo,d.movil,d.extension].map(f=>"string"==typeof f&&(f.includes(",")||f.includes('"'))?`"${f.replace(/"/g,'""')}"`:f);e.push(tt.join(","))});const o=e.join("\n"),r=new Blob([o],{type:"text/csv;charset=utf-8;"}),m=window.URL.createObjectURL(r),g=document.createElement("a");g.href=m,g.download="usuarios_export.csv",g.click(),window.URL.revokeObjectURL(m)}toggleDetails(e){if(console.log("Toggle details for user:",e),this.selectedUser?.id===e)return void(this.selectedUser=null);const i=this.dataSource.data.find(o=>o.id===e);i&&(this.selectedUser=i,this.selectedUserForm.patchValue({id:i.id,username:i.username,nombre:i.name,apellidos:i.apellidos,correo:i.correo,movil:i.movil,extension:i.extension,cargo:i.cargo,roles:Array.isArray(i.roles)?i.roles:i.roles?i.roles.split(","):[],password:"",confirm_password:""}))}updateSelectedUser(){this.selectedUserForm.valid&&console.log("Updating user:",this.selectedUserForm.value)}deleteSelectedUser(){this.selectedUser&&(console.log("Deleting user:",this.selectedUser.id),this.selectedUser=null)}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(P.K),t.Y36(h.uw),t.Y36(t.sBO),t.Y36(n.qu))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-usuario-gestion"]],viewQuery:function(i,o){if(1&i&&(t.Gf(U.NW,5),t.Gf(x.YE,5)),2&i){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first)}},standalone:!0,features:[t.jDz],decls:59,vars:18,consts:[[1,"flex","flex-col","min-h-screen","p-6","w-full"],[1,"relative","flex","flex-col","flex-auto","p-6","pr-3","pb-3","bg-card","rounded-2xl","shadow","overflow-hidden","mb-6","w-full"],[1,"absolute","bottom-0","right-0","w-24","h-24","-m-6"],[1,"icon-size-24","opacity-25","text-blue-500","dark:text-blue-400",3,"svgIcon"],[1,"flex","flex-row","flex-wrap","mt-4","-mx-6"],[1,"flex","flex-col","mx-6","my-3"],[1,"text-sm","font-medium","leading-none","text-secondary"],[1,"mt-2","font-medium","text-3xl","leading-none"],[1,"flex","flex-col","flex-auto","min-w-0","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],["class","absolute inset-x-0 bottom-0",4,"ngIf"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","flex-col","sm:flex-row","shrink-0","items-center","mt-6","sm:mt-0","sm:ml-4","search-add-wrapper"],[1,"fuse-mat-dense","fuse-mat-rounded","min-w-64",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-flat-button","",1,"ml-4","mt-4","sm:mt-0","w-40","text-lg",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],["mat-icon-button","","matTooltip","Exportar datos","aria-label","Exportar datos",1,"ml-4","mt-4","sm:mt-0",3,"matMenuTriggerFor","color"],["xPosition","before"],["exportMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-x-auto"],[4,"ngIf","ngIfElse"],["rowDetailsTemplate",""],["noUsers",""],[1,"absolute","inset-x-0","bottom-0"],[3,"mode"],[1,"flex","flex-col","h-full","overflow-y-auto"],["matSort","","matSortDisableClear","",1,"inventory-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5",2,"grid-template-columns","40px repeat(8, minmax(120px, 1fr)) 100px"],[3,"mat-sort-header"],[1,"sticky-end"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"inventory-grid","grid","gap-4","py-3","px-6","md:px-8","border-b","items-center","text-m",2,"grid-template-columns","40px repeat(8, minmax(120px, 1fr)) 100px"],[1,"w-3","h-3","rounded-full","inline-block",3,"ngClass"],[1,"truncate"],["matTooltipPosition","above",1,"truncate",3,"matTooltip"],["matTooltipPosition","above",1,"truncate","text-blue-600","dark:text-sky-400",3,"matTooltip"],[1,"flex","items-center","justify-center","sticky-end"],["mat-stroked-button","",1,"min-w-10","min-h-7","h-7","px-2","leading-6","whitespace-nowrap",3,"click"],[1,"icon-size-5",3,"svgIcon"],["class","grid",4,"ngIf"],[1,"grid"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"shadow-lg","overflow-hidden","bg-white","dark:bg-gray-800"],[1,"flex","border-b"],[1,"flex","flex-col","w-full",3,"formGroup"],[1,"p-8"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"flex","flex-col","space-y-4"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4"],[1,"w-full"],["matInput","","formControlName","id","readonly",""],["matInput","","formControlName","username"],["matInput","","formControlName","nombre"],["matInput","","formControlName","apellidos"],["formControlName","estado"],["value","Activo"],["value","Inactivo"],["value","Suspendido"],["matInput","","type","date","formControlName","fecha_creacion"],["matInput","","type","email","formControlName","correo"],["matInput","","type","tel","formControlName","movil"],["matInput","","formControlName","extension"],["matInput","","formControlName","cargo"],["formControlName","departamento"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","datetime-local","formControlName","ultimo_acceso"],["formControlName","roles","multiple",""],["matInput","","formControlName","observaciones","rows","3"],["matInput","","type","password","formControlName","password","placeholder","Dejar vac\xedo para mantener actual"],["matInput","","type","password","formControlName","confirm_password"],[1,"flex","flex-col","sm:flex-row","items-center","justify-end","gap-4","w-full","border-t","bg-gray-50","dark:bg-gray-700","px-8","py-4"],["mat-stroked-button","",1,"w-full","sm:w-auto","px-6","py-2",3,"color","click"],[1,"mr-2"],[3,"value"],[1,"p-8","sm:p-16","border-b","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"mat-icon",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t._uU(7," Total Usuarios "),t.qZA(),t.TgZ(8,"div",7),t._uU(9),t.qZA()(),t.TgZ(10,"div",5)(11,"div",6),t._uU(12," Usuarios Activos "),t.qZA(),t.TgZ(13,"div",7),t._uU(14),t.qZA()(),t.TgZ(15,"div",5)(16,"div",6),t._uU(17," Usuarios Inactivos "),t.qZA(),t.TgZ(18,"div",7),t._uU(19),t.qZA()(),t.TgZ(20,"div",5)(21,"div",6),t._uU(22," Administradores "),t.qZA(),t.TgZ(23,"div",7),t._uU(24),t.qZA()()()(),t.TgZ(25,"div",8)(26,"div",9),t.YNc(27,G,2,1,"div",10),t.TgZ(28,"div",11),t._uU(29,"Usuarios"),t.qZA(),t.TgZ(30,"div",12)(31,"mat-form-field",13),t._UZ(32,"mat-icon",14)(33,"input",15),t.qZA(),t.TgZ(34,"button",16),t.NdJ("click",function(){return o.openAddUserDialog()}),t._UZ(35,"mat-icon",17),t.TgZ(36,"span",18),t._uU(37,"Agregar"),t.qZA()(),t.TgZ(38,"button",19),t._UZ(39,"mat-icon",17),t.qZA(),t.TgZ(40,"mat-menu",20,21)(42,"button",22),t.NdJ("click",function(){return o.exportToCSV()}),t.TgZ(43,"mat-icon"),t._uU(44,"grid_on"),t.qZA(),t.TgZ(45,"span"),t._uU(46,"Exportar a Excel"),t.qZA()(),t.TgZ(47,"button",22),t.NdJ("click",function(){return o.exportToPDF()}),t.TgZ(48,"mat-icon"),t._uU(49,"picture_as_pdf"),t.qZA(),t.TgZ(50,"span"),t._uU(51,"Exportar a PDF"),t.qZA()()()()(),t.TgZ(52,"div",23)(53,"div",24),t.YNc(54,Y,24,19,"ng-container",25)(55,K,95,5,"ng-template",null,26,t.W1O)(57,W,2,0,"ng-template",null,27,t.W1O),t.qZA()()()()),2&i){const r=t.MAs(41),m=t.MAs(58);t.xp6(3),t.Q6J("svgIcon","heroicons_outline:users"),t.xp6(6),t.hij(" ",o.totalUsuarios," "),t.xp6(5),t.hij(" ",o.usuariosActivos," "),t.xp6(5),t.hij(" ",o.usuariosInactivos," "),t.xp6(5),t.hij(" ",o.totalAdministradores," "),t.xp6(3),t.Q6J("ngIf",o.isLoading),t.xp6(4),t.Q6J("subscriptSizing","dynamic"),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:magnifying-glass"),t.xp6(1),t.Q6J("formControl",o.searchInputControl)("autocomplete","off")("placeholder","Buscar usuarios"),t.xp6(1),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(3),t.Q6J("matMenuTriggerFor",r)("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:arrow-up-tray"),t.xp6(15),t.Q6J("ngIf",o.dataSource.data.length>0)("ngIfElse",m)}},dependencies:[u.ez,u.mk,u.sg,u.O5,u.tP,p.ot,p.lW,p.RK,T.Cv,T.pW,x.JX,x.YE,x.nU,A.p0,C.Ps,C.Hw,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.oH,n.sg,n.u,U.TU,U.NW,c.lN,c.KE,c.hX,c.qo,Z.c,Z.Nt,q.LD,q.gD,z.ey,v.Tx,v.VK,v.OP,v.p6,w.AV,w.gM,N.t],styles:['@charset "UTF-8";.inventory-grid{display:grid;grid-template-columns:25px repeat(9,1fr) 35px;gap:1rem;width:100%;box-sizing:border-box}.add-form-container{padding:1rem;background-color:#fff;border-radius:.5rem;box-shadow:0 0 10px #0000001a;max-width:100%;margin:1rem auto;overflow:visible}@media (max-width: 640px){.add-form-container{padding:.5rem;margin:.5rem 0}}.inventory-grid.z-3{position:sticky;top:0;background:white;z-index:20;box-shadow:0 2px 5px -2px #0000001a;overflow:visible}.dark .inventory-grid.z-3{background:#1E1E1E}.inventory-grid>div:last-child{position:sticky;right:0;background:white;z-index:10;box-shadow:-2px 0 5px -2px #0000001a}.dark .inventory-grid>div:last-child{background:#0F172A}.sticky-end{position:sticky;right:0;background:white;z-index:11;box-shadow:-2px 0 5px -2px #0000001a}.dark .sticky-end{background:#0F172A}.dark .inventory-grid>div{color:#e0e0e0}.dark .sticky-end .mat-stroked-button{background:#0F172A!important;color:#fff!important;border-color:#0f172a!important}.dark .sticky-end .mat-stroked-button .mat-icon{color:#fff!important}.inventory-grid>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host{display:block;width:100%;overflow-x:auto}@media (max-width: 768px){.inventory-grid{grid-template-columns:25px 70px 110px 90px 90px 80px 80px 80px 80px 80px 35px}}.full-screen-dialog{max-width:100vw!important;margin:0!important;border-radius:0!important}.full-screen-dialog .mat-dialog-container{padding:0!important;border-radius:0!important}.mat-dialog-content{max-height:65vh!important;overflow-y:auto!important}\n'],encapsulation:2,changeDetection:0})}return a})()}];let V=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#o=this.\u0275inj=t.cJS({imports:[u.ez,n.UX,y.Bz.forChild(X)]})}return a})()}}]);